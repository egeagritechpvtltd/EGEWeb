var Pk=Object.defineProperty;var kk=(r,e,t)=>e in r?Pk(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var mo=(r,e,t)=>kk(r,typeof e!="symbol"?e+"":e,t);function Rk(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cg={exports:{}},Tf={},Pg={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function Nk(){if(hx)return ft;hx=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function A(ee){return ee===null||typeof ee!="object"?null:(ee=T&&ee[T]||ee["@@iterator"],typeof ee=="function"?ee:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,F={};function D(ee,ue,ke){this.props=ee,this.context=ue,this.refs=F,this.updater=ke||O}D.prototype.isReactComponent={},D.prototype.setState=function(ee,ue){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,ue,"setState")},D.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function J(){}J.prototype=D.prototype;function B(ee,ue,ke){this.props=ee,this.context=ue,this.refs=F,this.updater=ke||O}var k=B.prototype=new J;k.constructor=B,j(k,D.prototype),k.isPureReactComponent=!0;var Q=Array.isArray,Y=Object.prototype.hasOwnProperty,ce={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function R(ee,ue,ke){var Ye,Ke={},rt=null,Be=null;if(ue!=null)for(Ye in ue.ref!==void 0&&(Be=ue.ref),ue.key!==void 0&&(rt=""+ue.key),ue)Y.call(ue,Ye)&&!M.hasOwnProperty(Ye)&&(Ke[Ye]=ue[Ye]);var at=arguments.length-2;if(at===1)Ke.children=ke;else if(1<at){for(var nt=Array(at),Lt=0;Lt<at;Lt++)nt[Lt]=arguments[Lt+2];Ke.children=nt}if(ee&&ee.defaultProps)for(Ye in at=ee.defaultProps,at)Ke[Ye]===void 0&&(Ke[Ye]=at[Ye]);return{$$typeof:r,type:ee,key:rt,ref:Be,props:Ke,_owner:ce.current}}function V(ee,ue){return{$$typeof:r,type:ee.type,key:ue,ref:ee.ref,props:ee.props,_owner:ee._owner}}function $(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function q(ee){var ue={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(ke){return ue[ke]})}var H=/\/+/g;function U(ee,ue){return typeof ee=="object"&&ee!==null&&ee.key!=null?q(""+ee.key):ue.toString(36)}function Ue(ee,ue,ke,Ye,Ke){var rt=typeof ee;(rt==="undefined"||rt==="boolean")&&(ee=null);var Be=!1;if(ee===null)Be=!0;else switch(rt){case"string":case"number":Be=!0;break;case"object":switch(ee.$$typeof){case r:case e:Be=!0}}if(Be)return Be=ee,Ke=Ke(Be),ee=Ye===""?"."+U(Be,0):Ye,Q(Ke)?(ke="",ee!=null&&(ke=ee.replace(H,"$&/")+"/"),Ue(Ke,ue,ke,"",function(Lt){return Lt})):Ke!=null&&($(Ke)&&(Ke=V(Ke,ke+(!Ke.key||Be&&Be.key===Ke.key?"":(""+Ke.key).replace(H,"$&/")+"/")+ee)),ue.push(Ke)),1;if(Be=0,Ye=Ye===""?".":Ye+":",Q(ee))for(var at=0;at<ee.length;at++){rt=ee[at];var nt=Ye+U(rt,at);Be+=Ue(rt,ue,ke,nt,Ke)}else if(nt=A(ee),typeof nt=="function")for(ee=nt.call(ee),at=0;!(rt=ee.next()).done;)rt=rt.value,nt=Ye+U(rt,at++),Be+=Ue(rt,ue,ke,nt,Ke);else if(rt==="object")throw ue=String(ee),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Be}function st(ee,ue,ke){if(ee==null)return ee;var Ye=[],Ke=0;return Ue(ee,Ye,"","",function(rt){return ue.call(ke,rt,Ke++)}),Ye}function ot(ee){if(ee._status===-1){var ue=ee._result;ue=ue(),ue.then(function(ke){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=ke)},function(ke){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=ke)}),ee._status===-1&&(ee._status=0,ee._result=ue)}if(ee._status===1)return ee._result.default;throw ee._result}var We={current:null},_e={transition:null},Ce={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:_e,ReactCurrentOwner:ce};function Se(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:st,forEach:function(ee,ue,ke){st(ee,function(){ue.apply(this,arguments)},ke)},count:function(ee){var ue=0;return st(ee,function(){ue++}),ue},toArray:function(ee){return st(ee,function(ue){return ue})||[]},only:function(ee){if(!$(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},ft.Component=D,ft.Fragment=t,ft.Profiler=s,ft.PureComponent=B,ft.StrictMode=n,ft.Suspense=p,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ce,ft.act=Se,ft.cloneElement=function(ee,ue,ke){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var Ye=j({},ee.props),Ke=ee.key,rt=ee.ref,Be=ee._owner;if(ue!=null){if(ue.ref!==void 0&&(rt=ue.ref,Be=ce.current),ue.key!==void 0&&(Ke=""+ue.key),ee.type&&ee.type.defaultProps)var at=ee.type.defaultProps;for(nt in ue)Y.call(ue,nt)&&!M.hasOwnProperty(nt)&&(Ye[nt]=ue[nt]===void 0&&at!==void 0?at[nt]:ue[nt])}var nt=arguments.length-2;if(nt===1)Ye.children=ke;else if(1<nt){at=Array(nt);for(var Lt=0;Lt<nt;Lt++)at[Lt]=arguments[Lt+2];Ye.children=at}return{$$typeof:r,type:ee.type,key:Ke,ref:rt,props:Ye,_owner:Be}},ft.createContext=function(ee){return ee={$$typeof:l,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:a,_context:ee},ee.Consumer=ee},ft.createElement=R,ft.createFactory=function(ee){var ue=R.bind(null,ee);return ue.type=ee,ue},ft.createRef=function(){return{current:null}},ft.forwardRef=function(ee){return{$$typeof:f,render:ee}},ft.isValidElement=$,ft.lazy=function(ee){return{$$typeof:b,_payload:{_status:-1,_result:ee},_init:ot}},ft.memo=function(ee,ue){return{$$typeof:_,type:ee,compare:ue===void 0?null:ue}},ft.startTransition=function(ee){var ue=_e.transition;_e.transition={};try{ee()}finally{_e.transition=ue}},ft.unstable_act=Se,ft.useCallback=function(ee,ue){return We.current.useCallback(ee,ue)},ft.useContext=function(ee){return We.current.useContext(ee)},ft.useDebugValue=function(){},ft.useDeferredValue=function(ee){return We.current.useDeferredValue(ee)},ft.useEffect=function(ee,ue){return We.current.useEffect(ee,ue)},ft.useId=function(){return We.current.useId()},ft.useImperativeHandle=function(ee,ue,ke){return We.current.useImperativeHandle(ee,ue,ke)},ft.useInsertionEffect=function(ee,ue){return We.current.useInsertionEffect(ee,ue)},ft.useLayoutEffect=function(ee,ue){return We.current.useLayoutEffect(ee,ue)},ft.useMemo=function(ee,ue){return We.current.useMemo(ee,ue)},ft.useReducer=function(ee,ue,ke){return We.current.useReducer(ee,ue,ke)},ft.useRef=function(ee){return We.current.useRef(ee)},ft.useState=function(ee){return We.current.useState(ee)},ft.useSyncExternalStore=function(ee,ue,ke){return We.current.useSyncExternalStore(ee,ue,ke)},ft.useTransition=function(){return We.current.useTransition()},ft.version="18.3.1",ft}var mx;function nw(){return mx||(mx=1,Pg.exports=Nk()),Pg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function Ok(){if(px)return Tf;px=1;var r=nw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(f,p,_){var b,T={},A=null,O=null;_!==void 0&&(A=""+_),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(O=p.ref);for(b in p)n.call(p,b)&&!a.hasOwnProperty(b)&&(T[b]=p[b]);if(f&&f.defaultProps)for(b in p=f.defaultProps,p)T[b]===void 0&&(T[b]=p[b]);return{$$typeof:e,type:f,key:A,ref:O,props:T,_owner:s.current}}return Tf.Fragment=t,Tf.jsx=l,Tf.jsxs=l,Tf}var gx;function jk(){return gx||(gx=1,Cg.exports=Ok()),Cg.exports}var v=jk(),L=nw();const Fe=fd(L),Dk=Rk({__proto__:null,default:Fe},[L]);var tm={},kg={exports:{}},kn={},Rg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function Lk(){return yx||(yx=1,function(r){function e(_e,Ce){var Se=_e.length;_e.push(Ce);e:for(;0<Se;){var ee=Se-1>>>1,ue=_e[ee];if(0<s(ue,Ce))_e[ee]=Ce,_e[Se]=ue,Se=ee;else break e}}function t(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var Ce=_e[0],Se=_e.pop();if(Se!==Ce){_e[0]=Se;e:for(var ee=0,ue=_e.length,ke=ue>>>1;ee<ke;){var Ye=2*(ee+1)-1,Ke=_e[Ye],rt=Ye+1,Be=_e[rt];if(0>s(Ke,Se))rt<ue&&0>s(Be,Ke)?(_e[ee]=Be,_e[rt]=Se,ee=rt):(_e[ee]=Ke,_e[Ye]=Se,ee=Ye);else if(rt<ue&&0>s(Be,Se))_e[ee]=Be,_e[rt]=Se,ee=rt;else break e}}return Ce}function s(_e,Ce){var Se=_e.sortIndex-Ce.sortIndex;return Se!==0?Se:_e.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,f=l.now();r.unstable_now=function(){return l.now()-f}}var p=[],_=[],b=1,T=null,A=3,O=!1,j=!1,F=!1,D=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(_e){for(var Ce=t(_);Ce!==null;){if(Ce.callback===null)n(_);else if(Ce.startTime<=_e)n(_),Ce.sortIndex=Ce.expirationTime,e(p,Ce);else break;Ce=t(_)}}function Q(_e){if(F=!1,k(_e),!j)if(t(p)!==null)j=!0,ot(Y);else{var Ce=t(_);Ce!==null&&We(Q,Ce.startTime-_e)}}function Y(_e,Ce){j=!1,F&&(F=!1,J(R),R=-1),O=!0;var Se=A;try{for(k(Ce),T=t(p);T!==null&&(!(T.expirationTime>Ce)||_e&&!q());){var ee=T.callback;if(typeof ee=="function"){T.callback=null,A=T.priorityLevel;var ue=ee(T.expirationTime<=Ce);Ce=r.unstable_now(),typeof ue=="function"?T.callback=ue:T===t(p)&&n(p),k(Ce)}else n(p);T=t(p)}if(T!==null)var ke=!0;else{var Ye=t(_);Ye!==null&&We(Q,Ye.startTime-Ce),ke=!1}return ke}finally{T=null,A=Se,O=!1}}var ce=!1,M=null,R=-1,V=5,$=-1;function q(){return!(r.unstable_now()-$<V)}function H(){if(M!==null){var _e=r.unstable_now();$=_e;var Ce=!0;try{Ce=M(!0,_e)}finally{Ce?U():(ce=!1,M=null)}}else ce=!1}var U;if(typeof B=="function")U=function(){B(H)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,st=Ue.port2;Ue.port1.onmessage=H,U=function(){st.postMessage(null)}}else U=function(){D(H,0)};function ot(_e){M=_e,ce||(ce=!0,U())}function We(_e,Ce){R=D(function(){_e(r.unstable_now())},Ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_e){_e.callback=null},r.unstable_continueExecution=function(){j||O||(j=!0,ot(Y))},r.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<_e?Math.floor(1e3/_e):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(_e){switch(A){case 1:case 2:case 3:var Ce=3;break;default:Ce=A}var Se=A;A=Ce;try{return _e()}finally{A=Se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(_e,Ce){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Se=A;A=_e;try{return Ce()}finally{A=Se}},r.unstable_scheduleCallback=function(_e,Ce,Se){var ee=r.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?ee+Se:ee):Se=ee,_e){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Se+ue,_e={id:b++,callback:Ce,priorityLevel:_e,startTime:Se,expirationTime:ue,sortIndex:-1},Se>ee?(_e.sortIndex=Se,e(_,_e),t(p)===null&&_e===t(_)&&(F?(J(R),R=-1):F=!0,We(Q,Se-ee))):(_e.sortIndex=ue,e(p,_e),j||O||(j=!0,ot(Y))),_e},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(_e){var Ce=A;return function(){var Se=A;A=Ce;try{return _e.apply(this,arguments)}finally{A=Se}}}}(Ng)),Ng}var vx;function Mk(){return vx||(vx=1,Rg.exports=Lk()),Rg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function Fk(){if(_x)return kn;_x=1;var r=nw(),e=Mk();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)n.add(o[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},T={};function A(i){return p.call(T,i)?!0:p.call(b,i)?!1:_.test(i)?T[i]=!0:(b[i]=!0,!1)}function O(i,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,o,u,m){if(o===null||typeof o>"u"||O(i,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function F(i,o,u,m,w,E,C){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=E,this.removeEmptyString=C}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){D[i]=new F(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];D[o]=new F(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){D[i]=new F(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){D[i]=new F(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){D[i]=new F(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){D[i]=new F(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){D[i]=new F(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){D[i]=new F(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){D[i]=new F(i,5,!1,i.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(J,B);D[o]=new F(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(J,B);D[o]=new F(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(J,B);D[o]=new F(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){D[i]=new F(i,1,!1,i.toLowerCase(),null,!1,!1)}),D.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){D[i]=new F(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,o,u,m){var w=D.hasOwnProperty(o)?D[o]:null;(w!==null?w.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,u,w,m)&&(u=null),m||w===null?A(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):w.mustUseProperty?i[w.propertyName]=u===null?w.type===3?!1:"":u:(o=w.attributeName,m=w.attributeNamespace,u===null?i.removeAttribute(o):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,m?i.setAttributeNS(m,o,u):i.setAttribute(o,u))))}var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ce=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),_e=Symbol.iterator;function Ce(i){return i===null||typeof i!="object"?null:(i=_e&&i[_e]||i["@@iterator"],typeof i=="function"?i:null)}var Se=Object.assign,ee;function ue(i){if(ee===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ee=o&&o[1]||""}return`
`+ee+i}var ke=!1;function Ye(i,o){if(!i||ke)return"";ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(se){var m=se}Reflect.construct(i,[],o)}else{try{o.call()}catch(se){m=se}i.call(o.prototype)}else{try{throw Error()}catch(se){m=se}i()}}catch(se){if(se&&m&&typeof se.stack=="string"){for(var w=se.stack.split(`
`),E=m.stack.split(`
`),C=w.length-1,z=E.length-1;1<=C&&0<=z&&w[C]!==E[z];)z--;for(;1<=C&&0<=z;C--,z--)if(w[C]!==E[z]){if(C!==1||z!==1)do if(C--,z--,0>z||w[C]!==E[z]){var K=`
`+w[C].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=C&&0<=z);break}}}finally{ke=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ue(i):""}function Ke(i){switch(i.tag){case 5:return ue(i.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return i=Ye(i.type,!1),i;case 11:return i=Ye(i.type.render,!1),i;case 1:return i=Ye(i.type,!0),i;default:return""}}function rt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case ce:return"Portal";case V:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case Ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case $:return(i._context.displayName||"Context")+".Provider";case H:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case st:return o=i.displayName||null,o!==null?o:rt(i.type)||"Memo";case ot:o=i._payload,i=i._init;try{return rt(i(o))}catch{}}return null}function Be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rt(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function at(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lt(i){var o=nt(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,E=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return w.call(this)},set:function(C){m=""+C,E.call(this,C)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ht(i){i._valueTracker||(i._valueTracker=Lt(i))}function jn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=nt(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Zr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function fn(i,o){var u=o.checked;return Se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function lt(i,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=at(o.value!=null?o.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function dn(i,o){o=o.checked,o!=null&&k(i,"checked",o,!1)}function tt(i,o){dn(i,o);var u=at(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ut(i,o.type,u):o.hasOwnProperty("defaultValue")&&Ut(i,o.type,at(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function hn(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ut(i,o,u){(o!=="number"||Zr(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var W=Array.isArray;function Z(i,o,u,m){if(i=i.options,o){o={};for(var w=0;w<u.length;w++)o["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=o.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&m&&(i[u].defaultSelected=!0)}else{for(u=""+at(u),o=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}o!==null||i[w].disabled||(o=i[w])}o!==null&&(o.selected=!0)}}function le(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return Se({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function me(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(W(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:at(u)}}function be(i,o){var u=at(o.value),m=at(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function de(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Te(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Te(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Xe,jt=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,w){MSApp.execUnsafeLocalFunction(function(){return i(o,u,m,w)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Xe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function yr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mn=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(i){mn.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),et[o]=et[i]})});function Xt(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||et.hasOwnProperty(i)&&et[i]?(""+o).trim():o+"px"}function Wt(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,w=Xt(u,o[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,w):i[u]=w}}var ns=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Si(i,o){if(o){if(ns[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ms(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=null;function No(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,en=null,Dn=null;function Vs(i){if(i=la(i)){if(typeof Fs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Cu(o),Fs(i.stateNode,i.type,o))}}function pn(i){en?Dn?Dn.push(i):Dn=[i]:en=i}function Oo(){if(en){var i=en,o=Dn;if(Dn=en=null,Vs(i),o)for(i=0;i<o.length;i++)Vs(o[i])}}function Ii(i,o){return i(o)}function Us(){}var Xn=!1;function rl(i,o,u){if(Xn)return i(o,u);Xn=!0;try{return Ii(i,o,u)}finally{Xn=!1,(en!==null||Dn!==null)&&(Us(),Oo())}}function Bt(i,o){var u=i.stateNode;if(u===null)return null;var m=Cu(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var is=!1;if(f)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){is=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{is=!1}function Ai(i,o,u,m,w,E,C,z,K){var se=Array.prototype.slice.call(arguments,3);try{o.apply(u,se)}catch(ge){this.onError(ge)}}var Jn=!1,Bs=null,gn=!1,nl=null,jo={onError:function(i){Jn=!0,Bs=i}};function Ci(i,o,u,m,w,E,C,z,K){Jn=!1,Bs=null,Ai.apply(jo,arguments)}function yn(i,o,u,m,w,E,C,z,K){if(Ci.apply(this,arguments),Jn){if(Jn){var se=Bs;Jn=!1,Bs=null}else throw Error(t(198));gn||(gn=!0,nl=se)}}function vn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function ss(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function _n(i){if(vn(i)!==i)throw Error(t(188))}function il(i){var o=i.alternate;if(!o){if(o=vn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,m=o;;){var w=u.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===u)return _n(w),i;if(E===m)return _n(w),o;E=E.sibling}throw Error(t(188))}if(u.return!==m.return)u=w,m=E;else{for(var C=!1,z=w.child;z;){if(z===u){C=!0,u=w,m=E;break}if(z===m){C=!0,m=w,u=E;break}z=z.sibling}if(!C){for(z=E.child;z;){if(z===u){C=!0,u=E,m=w;break}if(z===m){C=!0,m=E,u=w;break}z=z.sibling}if(!C)throw Error(t(189))}}if(u.alternate!==m)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Do(i){return i=il(i),i!==null?os(i):null}function os(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=os(i);if(o!==null)return o;i=i.sibling}return null}var Zn=e.unstable_scheduleCallback,Ln=e.unstable_cancelCallback,Lo=e.unstable_shouldYield,cu=e.unstable_requestPaint,At=e.unstable_now,sl=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,ei=e.unstable_UserBlockingPriority,rn=e.unstable_NormalPriority,Mo=e.unstable_LowPriority,ut=e.unstable_IdlePriority,ti=null,Nr=null;function Fo(i){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(ti,i,void 0,(i.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:Mn,Vo=Math.log,ol=Math.LN2;function Mn(i){return i>>>=0,i===0?32:31-(Vo(i)/ol|0)|0}var Pi=64,Uo=4194304;function wn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ri(i,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,w=i.suspendedLanes,E=i.pingedLanes,C=u&268435455;if(C!==0){var z=C&~w;z!==0?m=wn(z):(E&=C,E!==0&&(m=wn(E)))}else C=u&~w,C!==0?m=wn(C):E!==0&&(m=wn(E));if(m===0)return 0;if(o!==0&&o!==m&&(o&w)===0&&(w=m&-m,E=o&-o,w>=E||w===16&&(E&4194240)!==0))return o;if((m&4)!==0&&(m|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)u=31-vr(o),w=1<<u,m|=i[u],o&=~w;return m}function Oc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,E=i.pendingLanes;0<E;){var C=31-vr(E),z=1<<C,K=w[C];K===-1?((z&u)===0||(z&m)!==0)&&(w[C]=Oc(z,o)):K<=o&&(i.expiredLanes|=z),E&=~z}}function Or(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ki(){var i=Pi;return Pi<<=1,(Pi&4194240)===0&&(Pi=64),i}function ls(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ri(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-vr(o),i[o]=u}function xt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var w=31-vr(u),E=1<<w;o[w]=0,m[w]=-1,i[w]=-1,u&=~E}}function jr(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-vr(u),w=1<<m;w&o|i[m]&o&&(i[m]|=o),u&=~w}}var ct=0;function us(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var al,zs,ll,cs,fu,Bo=!1,ii=[],cr=null,Fn=null,Dr=null,Rt=new Map,fr=new Map,si=[],jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(i,o){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Rt.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(o.pointerId)}}function Lr(i,o,u,m,w,E){return i===null||i.nativeEvent!==E?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},o!==null&&(o=la(o),o!==null&&zs(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),i)}function Dc(i,o,u,m,w){switch(o){case"focusin":return cr=Lr(cr,i,o,u,m,w),!0;case"dragenter":return Fn=Lr(Fn,i,o,u,m,w),!0;case"mouseover":return Dr=Lr(Dr,i,o,u,m,w),!0;case"pointerover":var E=w.pointerId;return Rt.set(E,Lr(Rt.get(E)||null,i,o,u,m,w)),!0;case"gotpointercapture":return E=w.pointerId,fr.set(E,Lr(fr.get(E)||null,i,o,u,m,w)),!0}return!1}function hu(i){var o=Zs(i.target);if(o!==null){var u=vn(o);if(u!==null){if(o=u.tag,o===13){if(o=ss(u),o!==null){i.blockedOn=o,fu(i.priority,function(){ll(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function oi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=zo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Yn=m,u.target.dispatchEvent(m),Yn=null}else return o=la(u),o!==null&&zs(o),i.blockedOn=u,!1;o.shift()}return!0}function qs(i,o,u){oi(i)&&u.delete(o)}function ul(){Bo=!1,cr!==null&&oi(cr)&&(cr=null),Fn!==null&&oi(Fn)&&(Fn=null),Dr!==null&&oi(Dr)&&(Dr=null),Rt.forEach(qs),fr.forEach(qs)}function Mr(i,o){i.blockedOn===o&&(i.blockedOn=null,Bo||(Bo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ul)))}function Vn(i){function o(w){return Mr(w,i)}if(0<ii.length){Mr(ii[0],i);for(var u=1;u<ii.length;u++){var m=ii[u];m.blockedOn===i&&(m.blockedOn=null)}}for(cr!==null&&Mr(cr,i),Fn!==null&&Mr(Fn,i),Dr!==null&&Mr(Dr,i),Rt.forEach(o),fr.forEach(o),u=0;u<si.length;u++)m=si[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<si.length&&(u=si[0],u.blockedOn===null);)hu(u),u.blockedOn===null&&si.shift()}var Un=Q.ReactCurrentBatchConfig,fs=!0;function St(i,o,u,m){var w=ct,E=Un.transition;Un.transition=null;try{ct=1,cl(i,o,u,m)}finally{ct=w,Un.transition=E}}function $s(i,o,u,m){var w=ct,E=Un.transition;Un.transition=null;try{ct=4,cl(i,o,u,m)}finally{ct=w,Un.transition=E}}function cl(i,o,u,m){if(fs){var w=zo(i,o,u,m);if(w===null)Tu(i,o,m,Hs,u),du(i,m);else if(Dc(w,i,o,u,m))m.stopPropagation();else if(du(i,m),o&4&&-1<jc.indexOf(i)){for(;w!==null;){var E=la(w);if(E!==null&&al(E),E=zo(i,o,u,m),E===null&&Tu(i,o,m,Hs,u),E===w)break;w=E}w!==null&&m.stopPropagation()}else Tu(i,o,m,null,u)}}var Hs=null;function zo(i,o,u,m){if(Hs=null,i=No(m),i=Zs(i),i!==null)if(o=vn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=ss(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Hs=i,null}function qo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sl()){case as:return 1;case ei:return 4;case rn:case Mo:return 16;case ut:return 536870912;default:return 16}default:return 16}}var nn=null,$o=null,Fr=null;function fl(){if(Fr)return Fr;var i,o=$o,u=o.length,m,w="value"in nn?nn.value:nn.textContent,E=w.length;for(i=0;i<u&&o[i]===w[i];i++);var C=u-i;for(m=1;m<=C&&o[u-m]===w[E-m];m++);return Fr=w.slice(i,1<m?1-m:void 0)}function Ho(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ai(){return!0}function dl(){return!1}function tr(i){function o(u,m,w,E,C){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=C,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(E):E[z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?ai:dl,this.isPropagationStopped=dl,this}return Se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),o}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=tr(Bn),Vr=Se({},Bn,{view:0,detail:0}),Lc=tr(Vr),Wo,Oi,ds,Ws=Se({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ds&&(ds&&i.type==="mousemove"?(Wo=i.screenX-ds.screenX,Oi=i.screenY-ds.screenY):Oi=Wo=0,ds=i),Wo)},movementY:function(i){return"movementY"in i?i.movementY:Oi}}),Go=tr(Ws),li=Se({},Ws,{dataTransfer:0}),ji=tr(li),Ko=Se({},Vr,{relatedTarget:0}),Qo=tr(Ko),mu=Se({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Di=tr(mu),pu=Se({},Bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gu=tr(pu),yu=Se({},Bn,{data:0}),hl=tr(yu),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=vu[i])?!!o[i]:!1}function ui(){return Yo}var d=Se({},Vr,{key:function(i){if(i.key){var o=Gs[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(i){return i.type==="keypress"?Ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),x=tr(d),S=Se({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=tr(S),te=Se({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),ae=tr(te),Ee=Se({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_t=tr(Ee),zt=Se({},Ws,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ht=tr(zt),Gt=[9,13,27,32],Kt=f&&"CompositionEvent"in window,Ur=null;f&&"documentMode"in document&&(Ur=document.documentMode);var nr=f&&"TextEvent"in window&&!Ur,Ks=f&&(!Kt||Ur&&8<Ur&&11>=Ur),Xo=" ",Fd=!1;function Vd(i,o){switch(i){case"keyup":return Gt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jo=!1;function Bp(i,o){switch(i){case"compositionend":return Ud(o);case"keypress":return o.which!==32?null:(Fd=!0,Xo);case"textInput":return i=o.data,i===Xo&&Fd?null:i;default:return null}}function zp(i,o){if(Jo)return i==="compositionend"||!Kt&&Vd(i,o)?(i=fl(),Fr=$o=nn=null,Jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ks&&o.locale!=="ko"?null:o.data;default:return null}}var Bd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ml(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Bd[i.type]:o==="textarea"}function zd(i,o,u,m){pn(m),o=Su(o,"onChange"),0<o.length&&(u=new Ni("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Qs=null,pl=null;function _u(i){Zd(i,0)}function hs(i){var o=ua(i);if(jn(o))return i}function qp(i,o){if(i==="change")return o}var qd=!1;if(f){var wu;if(f){var Li="oninput"in document;if(!Li){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Li=typeof $d.oninput=="function"}wu=Li}else wu=!1;qd=wu&&(!document.documentMode||9<document.documentMode)}function ci(){Qs&&(Qs.detachEvent("onpropertychange",Zo),pl=Qs=null)}function Zo(i){if(i.propertyName==="value"&&hs(pl)){var o=[];zd(o,pl,i,No(i)),rl(_u,o)}}function Mc(i,o,u){i==="focusin"?(ci(),Qs=o,pl=u,Qs.attachEvent("onpropertychange",Zo)):i==="focusout"&&ci()}function ea(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hs(pl)}function ta(i,o){if(i==="click")return hs(o)}function Hd(i,o){if(i==="input"||i==="change")return hs(o)}function ra(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var zn=typeof Object.is=="function"?Object.is:ra;function gl(i,o){if(zn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!p.call(o,w)||!zn(i[w],o[w]))return!1}return!0}function qn(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wd(i,o){var u=qn(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=qn(u)}}function Gd(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Gd(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Kd(){for(var i=window,o=Zr();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Zr(i.document)}return o}function Fc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function $p(i){var o=Kd(),u=i.focusedElem,m=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Gd(u.ownerDocument.documentElement,u)){if(m!==null&&Fc(u)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var w=u.textContent.length,E=Math.min(m.start,w);m=m.end===void 0?E:Math.min(m.end,w),!i.extend&&E>m&&(w=m,m=E,E=w),w=Wd(u,E);var C=Wd(u,m);w&&C&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==C.node||i.focusOffset!==C.offset)&&(o=o.createRange(),o.setStart(w.node,w.offset),i.removeAllRanges(),E>m?(i.addRange(o),i.extend(C.node,C.offset)):(o.setEnd(C.node,C.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Hp=f&&"documentMode"in document&&11>=document.documentMode,na=null,Vc=null,yl=null,Uc=!1;function Bc(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Uc||na==null||na!==Zr(m)||(m=na,"selectionStart"in m&&Fc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),yl&&gl(yl,m)||(yl=m,m=Su(Vc,"onSelect"),0<m.length&&(o=new Ni("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=na)))}function Ys(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ia={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},vl={},bu={};f&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function xu(i){if(vl[i])return vl[i];if(!ia[i])return i;var o=ia[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in bu)return vl[i]=o[u];return i}var Qd=xu("animationend"),zc=xu("animationiteration"),Yd=xu("animationstart"),Xd=xu("transitionend"),Xs=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(i,o){Xs.set(i,o),a(o,[i])}for(var Eu=0;Eu<qc.length;Eu++){var $c=qc[Eu],Wp=$c.toLowerCase(),Jd=$c[0].toUpperCase()+$c.slice(1);Mi(Wp,"on"+Jd)}Mi(Qd,"onAnimationEnd"),Mi(zc,"onAnimationIteration"),Mi(Yd,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Xd,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function _l(i,o,u){var m=i.type||"unknown-event";i.currentTarget=u,yn(m,o,void 0,i),i.currentTarget=null}function Zd(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],w=m.event;m=m.listeners;e:{var E=void 0;if(o)for(var C=m.length-1;0<=C;C--){var z=m[C],K=z.instance,se=z.currentTarget;if(z=z.listener,K!==E&&w.isPropagationStopped())break e;_l(w,z,se),E=K}else for(C=0;C<m.length;C++){if(z=m[C],K=z.instance,se=z.currentTarget,z=z.listener,K!==E&&w.isPropagationStopped())break e;_l(w,z,se),E=K}}}if(gn)throw i=nl,gn=!1,nl=null,i}function Ct(i,o){var u=o[$n];u===void 0&&(u=o[$n]=new Set);var m=i+"__bubble";u.has(m)||(eh(o,i,2,!1),u.add(m))}function fi(i,o,u){var m=0;o&&(m|=4),eh(u,i,m,o)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Fi(i){if(!i[Br]){i[Br]=!0,n.forEach(function(u){u!=="selectionchange"&&(Hc.has(u)||fi(u,!1,i),fi(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Br]||(o[Br]=!0,fi("selectionchange",!1,o))}}function eh(i,o,u,m){switch(qo(o)){case 1:var w=St;break;case 4:w=$s;break;default:w=cl}u=w.bind(null,o,u,i),w=void 0,!is||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(o,u,{capture:!0,passive:w}):i.addEventListener(o,u,!0):w!==void 0?i.addEventListener(o,u,{passive:w}):i.addEventListener(o,u,!1)}function Tu(i,o,u,m,w){var E=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var z=m.stateNode.containerInfo;if(z===w||z.nodeType===8&&z.parentNode===w)break;if(C===4)for(C=m.return;C!==null;){var K=C.tag;if((K===3||K===4)&&(K=C.stateNode.containerInfo,K===w||K.nodeType===8&&K.parentNode===w))return;C=C.return}for(;z!==null;){if(C=Zs(z),C===null)return;if(K=C.tag,K===5||K===6){m=E=C;continue e}z=z.parentNode}}m=m.return}rl(function(){var se=E,ge=No(u),ve=[];e:{var pe=Xs.get(i);if(pe!==void 0){var Ie=Ni,Ne=i;switch(i){case"keypress":if(Ho(u)===0)break e;case"keydown":case"keyup":Ie=x;break;case"focusin":Ne="focus",Ie=Qo;break;case"focusout":Ne="blur",Ie=Qo;break;case"beforeblur":case"afterblur":Ie=Qo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=ji;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=ae;break;case Qd:case zc:case Yd:Ie=Di;break;case Xd:Ie=_t;break;case"scroll":Ie=Lc;break;case"wheel":Ie=ht;break;case"copy":case"cut":case"paste":Ie=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=N}var Oe=(o&4)!==0,Zt=!Oe&&i==="scroll",re=Oe?pe!==null?pe+"Capture":null:pe;Oe=[];for(var X=se,ne;X!==null;){ne=X;var xe=ne.stateNode;if(ne.tag===5&&xe!==null&&(ne=xe,re!==null&&(xe=Bt(X,re),xe!=null&&Oe.push(wl(X,xe,ne)))),Zt)break;X=X.return}0<Oe.length&&(pe=new Ie(pe,Ne,null,u,ge),ve.push({event:pe,listeners:Oe}))}}if((o&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",Ie=i==="mouseout"||i==="pointerout",pe&&u!==Yn&&(Ne=u.relatedTarget||u.fromElement)&&(Zs(Ne)||Ne[Ui]))break e;if((Ie||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,Ie?(Ne=u.relatedTarget||u.toElement,Ie=se,Ne=Ne?Zs(Ne):null,Ne!==null&&(Zt=vn(Ne),Ne!==Zt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Ie=null,Ne=se),Ie!==Ne)){if(Oe=Go,xe="onMouseLeave",re="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=N,xe="onPointerLeave",re="onPointerEnter",X="pointer"),Zt=Ie==null?pe:ua(Ie),ne=Ne==null?pe:ua(Ne),pe=new Oe(xe,X+"leave",Ie,u,ge),pe.target=Zt,pe.relatedTarget=ne,xe=null,Zs(ge)===se&&(Oe=new Oe(re,X+"enter",Ne,u,ge),Oe.target=ne,Oe.relatedTarget=Zt,xe=Oe),Zt=xe,Ie&&Ne)t:{for(Oe=Ie,re=Ne,X=0,ne=Oe;ne;ne=sa(ne))X++;for(ne=0,xe=re;xe;xe=sa(xe))ne++;for(;0<X-ne;)Oe=sa(Oe),X--;for(;0<ne-X;)re=sa(re),ne--;for(;X--;){if(Oe===re||re!==null&&Oe===re.alternate)break t;Oe=sa(Oe),re=sa(re)}Oe=null}else Oe=null;Ie!==null&&th(ve,pe,Ie,Oe,!1),Ne!==null&&Zt!==null&&th(ve,Zt,Ne,Oe,!0)}}e:{if(pe=se?ua(se):window,Ie=pe.nodeName&&pe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&pe.type==="file")var Me=qp;else if(ml(pe))if(qd)Me=Hd;else{Me=ea;var ze=Mc}else(Ie=pe.nodeName)&&Ie.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Me=ta);if(Me&&(Me=Me(i,se))){zd(ve,Me,u,ge);break e}ze&&ze(i,pe,se),i==="focusout"&&(ze=pe._wrapperState)&&ze.controlled&&pe.type==="number"&&Ut(pe,"number",pe.value)}switch(ze=se?ua(se):window,i){case"focusin":(ml(ze)||ze.contentEditable==="true")&&(na=ze,Vc=se,yl=null);break;case"focusout":yl=Vc=na=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,Bc(ve,u,ge);break;case"selectionchange":if(Hp)break;case"keydown":case"keyup":Bc(ve,u,ge)}var qe;if(Kt)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Jo?Vd(i,u)&&(Ge="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ks&&u.locale!=="ko"&&(Jo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Jo&&(qe=fl()):(nn=ge,$o="value"in nn?nn.value:nn.textContent,Jo=!0)),ze=Su(se,Ge),0<ze.length&&(Ge=new hl(Ge,i,null,u,ge),ve.push({event:Ge,listeners:ze}),qe?Ge.data=qe:(qe=Ud(u),qe!==null&&(Ge.data=qe)))),(qe=nr?Bp(i,u):zp(i,u))&&(se=Su(se,"onBeforeInput"),0<se.length&&(ge=new hl("onBeforeInput","beforeinput",null,u,ge),ve.push({event:ge,listeners:se}),ge.data=qe))}Zd(ve,o)})}function wl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Su(i,o){for(var u=o+"Capture",m=[];i!==null;){var w=i,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Bt(i,u),E!=null&&m.unshift(wl(i,E,w)),E=Bt(i,o),E!=null&&m.push(wl(i,E,w))),i=i.return}return m}function sa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function th(i,o,u,m,w){for(var E=o._reactName,C=[];u!==null&&u!==m;){var z=u,K=z.alternate,se=z.stateNode;if(K!==null&&K===m)break;z.tag===5&&se!==null&&(z=se,w?(K=Bt(u,E),K!=null&&C.unshift(wl(u,K,z))):w||(K=Bt(u,E),K!=null&&C.push(wl(u,K,z)))),u=u.return}C.length!==0&&i.push({event:o,listeners:C})}var Gp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function Vi(i){return(typeof i=="string"?i:""+i).replace(Gp,`
`).replace(Kp,"")}function Iu(i,o,u){if(o=Vi(o),Vi(i)!==o&&u)throw Error(t(425))}function Au(){}var Wc=null,Gc=null;function oa(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,Qp=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,Yp=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(i){return rh.resolve(null).then(i).catch(nh)}:Kc;function nh(i){setTimeout(function(){throw i})}function Qc(i,o){var u=o,m=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(m===0){i.removeChild(w),Vn(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=w}while(u);Vn(o)}function ms(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function ih(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var aa=Math.random().toString(36).slice(2),di="__reactFiber$"+aa,bl="__reactProps$"+aa,Ui="__reactContainer$"+aa,$n="__reactEvents$"+aa,Xp="__reactListeners$"+aa,Jp="__reactHandles$"+aa;function Zs(i){var o=i[di];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Ui]||u[di]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=ih(i);i!==null;){if(u=i[di])return u;i=ih(i)}return o}i=u,u=i.parentNode}return null}function la(i){return i=i[di]||i[Ui],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ua(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Cu(i){return i[bl]||null}var Yc=[],ps=-1;function gs(i){return{current:i}}function Nt(i){0>ps||(i.current=Yc[ps],Yc[ps]=null,ps--)}function Pt(i,o){ps++,Yc[ps]=i.current,i.current=o}var ys={},dr=gs(ys),zr=gs(!1),bn=ys;function ca(i,o){var u=i.type.contextTypes;if(!u)return ys;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in u)w[E]=o[E];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=w),w}function qr(i){return i=i.childContextTypes,i!=null}function Pu(){Nt(zr),Nt(dr)}function sh(i,o,u){if(dr.current!==ys)throw Error(t(168));Pt(dr,o),Pt(zr,u)}function oh(i,o,u){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var w in m)if(!(w in o))throw Error(t(108,Be(i)||"Unknown",w));return Se({},u,m)}function ku(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ys,bn=dr.current,Pt(dr,i),Pt(zr,zr.current),!0}function ah(i,o,u){var m=i.stateNode;if(!m)throw Error(t(169));u?(i=oh(i,o,bn),m.__reactInternalMemoizedMergedChildContext=i,Nt(zr),Nt(dr),Pt(dr,i)):Nt(zr),Pt(zr,u)}var Bi=null,xl=!1,fa=!1;function lh(i){Bi===null?Bi=[i]:Bi.push(i)}function da(i){xl=!0,lh(i)}function vs(){if(!fa&&Bi!==null){fa=!0;var i=0,o=ct;try{var u=Bi;for(ct=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}Bi=null,xl=!1}catch(w){throw Bi!==null&&(Bi=Bi.slice(i+1)),Zn(as,vs),w}finally{ct=o,fa=!1}}return null}var _s=[],ha=0,eo=null,zi=0,xn=[],En=0,to=null,qi=1,$i="";function ro(i,o){_s[ha++]=zi,_s[ha++]=eo,eo=i,zi=o}function uh(i,o,u){xn[En++]=qi,xn[En++]=$i,xn[En++]=to,to=i;var m=qi;i=$i;var w=32-vr(m)-1;m&=~(1<<w),u+=1;var E=32-vr(o)+w;if(30<E){var C=w-w%5;E=(m&(1<<C)-1).toString(32),m>>=C,w-=C,qi=1<<32-vr(o)+w|u<<w|m,$i=E+i}else qi=1<<E|u<<w|m,$i=i}function Xc(i){i.return!==null&&(ro(i,1),uh(i,1,0))}function Ru(i){for(;i===eo;)eo=_s[--ha],_s[ha]=null,zi=_s[--ha],_s[ha]=null;for(;i===to;)to=xn[--En],xn[En]=null,$i=xn[--En],xn[En]=null,qi=xn[--En],xn[En]=null}var _r=null,sn=null,Et=!1,Hn=null;function Nu(i,o){var u=_i(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function ch(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,_r=i,sn=ms(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,_r=i,sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=to!==null?{id:qi,overflow:$i}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=_i(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,_r=i,sn=null,!0):!1;default:return!1}}function Ou(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ws(i){if(Et){var o=sn;if(o){var u=o;if(!ch(i,o)){if(Ou(i))throw Error(t(418));o=ms(u.nextSibling);var m=_r;o&&ch(i,o)?Nu(m,u):(i.flags=i.flags&-4097|2,Et=!1,_r=i)}}else{if(Ou(i))throw Error(t(418));i.flags=i.flags&-4097|2,Et=!1,_r=i}}}function fh(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;_r=i}function ju(i){if(i!==_r)return!1;if(!Et)return fh(i),Et=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!oa(i.type,i.memoizedProps)),o&&(o=sn)){if(Ou(i))throw dh(),Error(t(418));for(;o;)Nu(i,o),o=ms(o.nextSibling)}if(fh(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){sn=ms(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}sn=null}}else sn=_r?ms(i.stateNode.nextSibling):null;return!0}function dh(){for(var i=sn;i;)i=ms(i.nextSibling)}function ma(){sn=_r=null,Et=!1}function Jc(i){Hn===null?Hn=[i]:Hn.push(i)}var Zp=Q.ReactCurrentBatchConfig;function El(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var m=u.stateNode}if(!m)throw Error(t(147,i));var w=m,E=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(C){var z=w.refs;C===null?delete z[E]:z[E]=C},o._stringRef=E,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Du(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Zc(i){var o=i._init;return o(i._payload)}function Tl(i){function o(re,X){if(i){var ne=re.deletions;ne===null?(re.deletions=[X],re.flags|=16):ne.push(X)}}function u(re,X){if(!i)return null;for(;X!==null;)o(re,X),X=X.sibling;return null}function m(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function w(re,X){return re=Ca(re,X),re.index=0,re.sibling=null,re}function E(re,X,ne){return re.index=ne,i?(ne=re.alternate,ne!==null?(ne=ne.index,ne<X?(re.flags|=2,X):ne):(re.flags|=2,X)):(re.flags|=1048576,X)}function C(re){return i&&re.alternate===null&&(re.flags|=2),re}function z(re,X,ne,xe){return X===null||X.tag!==6?(X=xg(ne,re.mode,xe),X.return=re,X):(X=w(X,ne),X.return=re,X)}function K(re,X,ne,xe){var Me=ne.type;return Me===M?ge(re,X,ne.props.children,xe,ne.key):X!==null&&(X.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ot&&Zc(Me)===X.type)?(xe=w(X,ne.props),xe.ref=El(re,X,ne),xe.return=re,xe):(xe=Wh(ne.type,ne.key,ne.props,null,re.mode,xe),xe.ref=El(re,X,ne),xe.return=re,xe)}function se(re,X,ne,xe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=Eg(ne,re.mode,xe),X.return=re,X):(X=w(X,ne.children||[]),X.return=re,X)}function ge(re,X,ne,xe,Me){return X===null||X.tag!==7?(X=Ml(ne,re.mode,xe,Me),X.return=re,X):(X=w(X,ne),X.return=re,X)}function ve(re,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number")return X=xg(""+X,re.mode,ne),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return ne=Wh(X.type,X.key,X.props,null,re.mode,ne),ne.ref=El(re,null,X),ne.return=re,ne;case ce:return X=Eg(X,re.mode,ne),X.return=re,X;case ot:var xe=X._init;return ve(re,xe(X._payload),ne)}if(W(X)||Ce(X))return X=Ml(X,re.mode,ne,null),X.return=re,X;Du(re,X)}return null}function pe(re,X,ne,xe){var Me=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Me!==null?null:z(re,X,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Y:return ne.key===Me?K(re,X,ne,xe):null;case ce:return ne.key===Me?se(re,X,ne,xe):null;case ot:return Me=ne._init,pe(re,X,Me(ne._payload),xe)}if(W(ne)||Ce(ne))return Me!==null?null:ge(re,X,ne,xe,null);Du(re,ne)}return null}function Ie(re,X,ne,xe,Me){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return re=re.get(ne)||null,z(X,re,""+xe,Me);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case Y:return re=re.get(xe.key===null?ne:xe.key)||null,K(X,re,xe,Me);case ce:return re=re.get(xe.key===null?ne:xe.key)||null,se(X,re,xe,Me);case ot:var ze=xe._init;return Ie(re,X,ne,ze(xe._payload),Me)}if(W(xe)||Ce(xe))return re=re.get(ne)||null,ge(X,re,xe,Me,null);Du(X,xe)}return null}function Ne(re,X,ne,xe){for(var Me=null,ze=null,qe=X,Ge=X=0,xr=null;qe!==null&&Ge<ne.length;Ge++){qe.index>Ge?(xr=qe,qe=null):xr=qe.sibling;var bt=pe(re,qe,ne[Ge],xe);if(bt===null){qe===null&&(qe=xr);break}i&&qe&&bt.alternate===null&&o(re,qe),X=E(bt,X,Ge),ze===null?Me=bt:ze.sibling=bt,ze=bt,qe=xr}if(Ge===ne.length)return u(re,qe),Et&&ro(re,Ge),Me;if(qe===null){for(;Ge<ne.length;Ge++)qe=ve(re,ne[Ge],xe),qe!==null&&(X=E(qe,X,Ge),ze===null?Me=qe:ze.sibling=qe,ze=qe);return Et&&ro(re,Ge),Me}for(qe=m(re,qe);Ge<ne.length;Ge++)xr=Ie(qe,re,Ge,ne[Ge],xe),xr!==null&&(i&&xr.alternate!==null&&qe.delete(xr.key===null?Ge:xr.key),X=E(xr,X,Ge),ze===null?Me=xr:ze.sibling=xr,ze=xr);return i&&qe.forEach(function(Pa){return o(re,Pa)}),Et&&ro(re,Ge),Me}function Oe(re,X,ne,xe){var Me=Ce(ne);if(typeof Me!="function")throw Error(t(150));if(ne=Me.call(ne),ne==null)throw Error(t(151));for(var ze=Me=null,qe=X,Ge=X=0,xr=null,bt=ne.next();qe!==null&&!bt.done;Ge++,bt=ne.next()){qe.index>Ge?(xr=qe,qe=null):xr=qe.sibling;var Pa=pe(re,qe,bt.value,xe);if(Pa===null){qe===null&&(qe=xr);break}i&&qe&&Pa.alternate===null&&o(re,qe),X=E(Pa,X,Ge),ze===null?Me=Pa:ze.sibling=Pa,ze=Pa,qe=xr}if(bt.done)return u(re,qe),Et&&ro(re,Ge),Me;if(qe===null){for(;!bt.done;Ge++,bt=ne.next())bt=ve(re,bt.value,xe),bt!==null&&(X=E(bt,X,Ge),ze===null?Me=bt:ze.sibling=bt,ze=bt);return Et&&ro(re,Ge),Me}for(qe=m(re,qe);!bt.done;Ge++,bt=ne.next())bt=Ie(qe,re,Ge,bt.value,xe),bt!==null&&(i&&bt.alternate!==null&&qe.delete(bt.key===null?Ge:bt.key),X=E(bt,X,Ge),ze===null?Me=bt:ze.sibling=bt,ze=bt);return i&&qe.forEach(function(Ck){return o(re,Ck)}),Et&&ro(re,Ge),Me}function Zt(re,X,ne,xe){if(typeof ne=="object"&&ne!==null&&ne.type===M&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Y:e:{for(var Me=ne.key,ze=X;ze!==null;){if(ze.key===Me){if(Me=ne.type,Me===M){if(ze.tag===7){u(re,ze.sibling),X=w(ze,ne.props.children),X.return=re,re=X;break e}}else if(ze.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ot&&Zc(Me)===ze.type){u(re,ze.sibling),X=w(ze,ne.props),X.ref=El(re,ze,ne),X.return=re,re=X;break e}u(re,ze);break}else o(re,ze);ze=ze.sibling}ne.type===M?(X=Ml(ne.props.children,re.mode,xe,ne.key),X.return=re,re=X):(xe=Wh(ne.type,ne.key,ne.props,null,re.mode,xe),xe.ref=El(re,X,ne),xe.return=re,re=xe)}return C(re);case ce:e:{for(ze=ne.key;X!==null;){if(X.key===ze)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){u(re,X.sibling),X=w(X,ne.children||[]),X.return=re,re=X;break e}else{u(re,X);break}else o(re,X);X=X.sibling}X=Eg(ne,re.mode,xe),X.return=re,re=X}return C(re);case ot:return ze=ne._init,Zt(re,X,ze(ne._payload),xe)}if(W(ne))return Ne(re,X,ne,xe);if(Ce(ne))return Oe(re,X,ne,xe);Du(re,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,X!==null&&X.tag===6?(u(re,X.sibling),X=w(X,ne),X.return=re,re=X):(u(re,X),X=xg(ne,re.mode,xe),X.return=re,re=X),C(re)):u(re,X)}return Zt}var pa=Tl(!0),no=Tl(!1),Lu=gs(null),ga=null,ya=null,Sl=null;function bs(){Sl=ya=ga=null}function ef(i){var o=Lu.current;Nt(Lu),i._currentValue=o}function tf(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function va(i,o){ga=i,Sl=ya=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(An=!0),i.firstContext=null)}function Tn(i){var o=i._currentValue;if(Sl!==i)if(i={context:i,memoizedValue:o,next:null},ya===null){if(ga===null)throw Error(t(308));ya=i,ga.dependencies={lanes:0,firstContext:i}}else ya=ya.next=i;return o}var io=null;function rf(i){io===null?io=[i]:io.push(i)}function hh(i,o,u,m){var w=o.interleaved;return w===null?(u.next=u,rf(o)):(u.next=w.next,w.next=u),o.interleaved=u,Hi(i,m)}function Hi(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Wi=!1;function _a(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $r(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function xs(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(vt&2)!==0){var w=m.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),m.pending=o,Hi(i,u)}return w=m.interleaved,w===null?(o.next=o,rf(m)):(o.next=w.next,w.next=o),m.interleaved=o,Hi(i,u)}function wa(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,jr(i,u)}}function ph(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?w=E=C:E=E.next=C,u=u.next}while(u!==null);E===null?w=E=o:E=E.next=o}else w=E=o;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Mu(i,o,u,m){var w=i.updateQueue;Wi=!1;var E=w.firstBaseUpdate,C=w.lastBaseUpdate,z=w.shared.pending;if(z!==null){w.shared.pending=null;var K=z,se=K.next;K.next=null,C===null?E=se:C.next=se,C=K;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,z=ge.lastBaseUpdate,z!==C&&(z===null?ge.firstBaseUpdate=se:z.next=se,ge.lastBaseUpdate=K))}if(E!==null){var ve=w.baseState;C=0,ge=se=K=null,z=E;do{var pe=z.lane,Ie=z.eventTime;if((m&pe)===pe){ge!==null&&(ge=ge.next={eventTime:Ie,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ne=i,Oe=z;switch(pe=o,Ie=u,Oe.tag){case 1:if(Ne=Oe.payload,typeof Ne=="function"){ve=Ne.call(Ie,ve,pe);break e}ve=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Oe.payload,pe=typeof Ne=="function"?Ne.call(Ie,ve,pe):Ne,pe==null)break e;ve=Se({},ve,pe);break e;case 2:Wi=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,pe=w.effects,pe===null?w.effects=[z]:pe.push(z))}else Ie={eventTime:Ie,lane:pe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ge===null?(se=ge=Ie,K=ve):ge=ge.next=Ie,C|=pe;if(z=z.next,z===null){if(z=w.shared.pending,z===null)break;pe=z,z=pe.next,pe.next=null,w.lastBaseUpdate=pe,w.shared.pending=null}}while(!0);if(ge===null&&(K=ve),w.baseState=K,w.firstBaseUpdate=se,w.lastBaseUpdate=ge,o=w.shared.interleaved,o!==null){w=o;do C|=w.lane,w=w.next;while(w!==o)}else E===null&&(w.shared.lanes=0);Ol|=C,i.lanes=C,i.memoizedState=ve}}function gh(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],w=m.callback;if(w!==null){if(m.callback=null,m=u,typeof w!="function")throw Error(t(191,w));w.call(m)}}}var Il={},Sn=gs(Il),hi=gs(Il),Al=gs(Il);function so(i){if(i===Il)throw Error(t(174));return i}function nf(i,o){switch(Pt(Al,o),Pt(hi,i),Pt(Sn,Il),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Le(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Le(o,i)}Nt(Sn),Pt(Sn,o)}function ba(){Nt(Sn),Nt(hi),Nt(Al)}function yh(i){so(Al.current);var o=so(Sn.current),u=Le(o,i.type);o!==u&&(Pt(hi,i),Pt(Sn,u))}function sf(i){hi.current===i&&(Nt(Sn),Nt(hi))}var Mt=gs(0);function Fu(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vu=[];function xa(){for(var i=0;i<Vu.length;i++)Vu[i]._workInProgressVersionPrimary=null;Vu.length=0}var Uu=Q.ReactCurrentDispatcher,Cl=Q.ReactCurrentBatchConfig,oo=0,Dt=null,Jt=null,ir=null,Bu=!1,Pl=!1,kl=0,of=0;function wr(){throw Error(t(321))}function af(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!zn(i[u],o[u]))return!1;return!0}function lf(i,o,u,m,w,E){if(oo=E,Dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Uu.current=i===null||i.memoizedState===null?y:I,i=u(m,w),Pl){E=0;do{if(Pl=!1,kl=0,25<=E)throw Error(t(301));E+=1,ir=Jt=null,o.updateQueue=null,Uu.current=P,i=u(m,w)}while(Pl)}if(Uu.current=g,o=Jt!==null&&Jt.next!==null,oo=0,ir=Jt=Dt=null,Bu=!1,o)throw Error(t(300));return i}function uf(){var i=kl!==0;return kl=0,i}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Dt.memoizedState=ir=i:ir=ir.next=i,ir}function In(){if(Jt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var o=ir===null?Dt.memoizedState:ir.next;if(o!==null)ir=o,Jt=i;else{if(i===null)throw Error(t(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ir===null?Dt.memoizedState=ir=i:ir=ir.next=i}return ir}function Rl(i,o){return typeof o=="function"?o(i):o}function cf(i){var o=In(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var m=Jt,w=m.baseQueue,E=u.pending;if(E!==null){if(w!==null){var C=w.next;w.next=E.next,E.next=C}m.baseQueue=w=E,u.pending=null}if(w!==null){E=w.next,m=m.baseState;var z=C=null,K=null,se=E;do{var ge=se.lane;if((oo&ge)===ge)K!==null&&(K=K.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),m=se.hasEagerState?se.eagerState:i(m,se.action);else{var ve={lane:ge,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};K===null?(z=K=ve,C=m):K=K.next=ve,Dt.lanes|=ge,Ol|=ge}se=se.next}while(se!==null&&se!==E);K===null?C=m:K.next=z,zn(m,o.memoizedState)||(An=!0),o.memoizedState=m,o.baseState=C,o.baseQueue=K,u.lastRenderedState=m}if(i=u.interleaved,i!==null){w=i;do E=w.lane,Dt.lanes|=E,Ol|=E,w=w.next;while(w!==i)}else w===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ff(i){var o=In(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var m=u.dispatch,w=u.pending,E=o.memoizedState;if(w!==null){u.pending=null;var C=w=w.next;do E=i(E,C.action),C=C.next;while(C!==w);zn(E,o.memoizedState)||(An=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),u.lastRenderedState=E}return[E,m]}function vh(){}function _h(i,o){var u=Dt,m=In(),w=o(),E=!zn(m.memoizedState,w);if(E&&(m.memoizedState=w,An=!0),m=m.queue,ao(xh.bind(null,u,m,i),[i]),m.getSnapshot!==o||E||ir!==null&&ir.memoizedState.tag&1){if(u.flags|=2048,Nl(9,bh.bind(null,u,m,w,o),void 0,null),br===null)throw Error(t(349));(oo&30)!==0||wh(u,o,w)}return w}function wh(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function bh(i,o,u,m){o.value=u,o.getSnapshot=m,Eh(o)&&Th(i)}function xh(i,o,u){return u(function(){Eh(o)&&Th(i)})}function Eh(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!zn(i,u)}catch{return!0}}function Th(i){var o=Hi(i,1);o!==null&&Qi(o,i,1,-1)}function Sh(i){var o=mi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:i},o.queue=i,i=i.dispatch=Oh.bind(null,Dt,i),[o.memoizedState,i]}function Nl(i,o,u,m){return i={tag:i,create:o,destroy:u,deps:m,next:null},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i)),i}function Ih(){return In().memoizedState}function zu(i,o,u,m){var w=mi();Dt.flags|=i,w.memoizedState=Nl(1|o,u,void 0,m===void 0?null:m)}function qu(i,o,u,m){var w=In();m=m===void 0?null:m;var E=void 0;if(Jt!==null){var C=Jt.memoizedState;if(E=C.destroy,m!==null&&af(m,C.deps)){w.memoizedState=Nl(o,u,E,m);return}}Dt.flags|=i,w.memoizedState=Nl(1|o,u,E,m)}function Ah(i,o){return zu(8390656,8,i,o)}function ao(i,o){return qu(2048,8,i,o)}function Ch(i,o){return qu(4,2,i,o)}function df(i,o){return qu(4,4,i,o)}function Ph(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function kh(i,o,u){return u=u!=null?u.concat([i]):null,qu(4,4,Ph.bind(null,o,i),u)}function hf(){}function mf(i,o){var u=In();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&af(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function pf(i,o){var u=In();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&af(o,m[1])?m[0]:(i=i(),u.memoizedState=[i,o],i)}function gf(i,o,u){return(oo&21)===0?(i.baseState&&(i.baseState=!1,An=!0),i.memoizedState=u):(zn(u,o)||(u=ki(),Dt.lanes|=u,Ol|=u,i.baseState=!0),o)}function Rh(i,o){var u=ct;ct=u!==0&&4>u?u:4,i(!0);var m=Cl.transition;Cl.transition={};try{i(!1),o()}finally{ct=u,Cl.transition=m}}function $u(){return In().memoizedState}function Nh(i,o,u){var m=Ia(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},yf(i))h(o,u);else if(u=hh(i,o,u,m),u!==null){var w=an();Qi(u,i,m,w),c(u,o,m)}}function Oh(i,o,u){var m=Ia(i),w={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(yf(i))h(o,w);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var C=o.lastRenderedState,z=E(C,u);if(w.hasEagerState=!0,w.eagerState=z,zn(z,C)){var K=o.interleaved;K===null?(w.next=w,rf(o)):(w.next=K.next,K.next=w),o.interleaved=w;return}}catch{}finally{}u=hh(i,o,w,m),u!==null&&(w=an(),Qi(u,i,m,w),c(u,o,m))}}function yf(i){var o=i.alternate;return i===Dt||o!==null&&o===Dt}function h(i,o){Pl=Bu=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function c(i,o,u){if((u&4194240)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,jr(i,u)}}var g={readContext:Tn,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},y={readContext:Tn,useCallback:function(i,o){return mi().memoizedState=[i,o===void 0?null:o],i},useContext:Tn,useEffect:Ah,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,zu(4194308,4,Ph.bind(null,o,i),u)},useLayoutEffect:function(i,o){return zu(4194308,4,i,o)},useInsertionEffect:function(i,o){return zu(4,2,i,o)},useMemo:function(i,o){var u=mi();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var m=mi();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=Nh.bind(null,Dt,i),[m.memoizedState,i]},useRef:function(i){var o=mi();return i={current:i},o.memoizedState=i},useState:Sh,useDebugValue:hf,useDeferredValue:function(i){return mi().memoizedState=i},useTransition:function(){var i=Sh(!1),o=i[0];return i=Rh.bind(null,i[1]),mi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var m=Dt,w=mi();if(Et){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),br===null)throw Error(t(349));(oo&30)!==0||wh(m,o,u)}w.memoizedState=u;var E={value:u,getSnapshot:o};return w.queue=E,Ah(xh.bind(null,m,E,i),[i]),m.flags|=2048,Nl(9,bh.bind(null,m,E,u,o),void 0,null),u},useId:function(){var i=mi(),o=br.identifierPrefix;if(Et){var u=$i,m=qi;u=(m&~(1<<32-vr(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=kl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=of++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},I={readContext:Tn,useCallback:mf,useContext:Tn,useEffect:ao,useImperativeHandle:kh,useInsertionEffect:Ch,useLayoutEffect:df,useMemo:pf,useReducer:cf,useRef:Ih,useState:function(){return cf(Rl)},useDebugValue:hf,useDeferredValue:function(i){var o=In();return gf(o,Jt.memoizedState,i)},useTransition:function(){var i=cf(Rl)[0],o=In().memoizedState;return[i,o]},useMutableSource:vh,useSyncExternalStore:_h,useId:$u,unstable_isNewReconciler:!1},P={readContext:Tn,useCallback:mf,useContext:Tn,useEffect:ao,useImperativeHandle:kh,useInsertionEffect:Ch,useLayoutEffect:df,useMemo:pf,useReducer:ff,useRef:Ih,useState:function(){return ff(Rl)},useDebugValue:hf,useDeferredValue:function(i){var o=In();return Jt===null?o.memoizedState=i:gf(o,Jt.memoizedState,i)},useTransition:function(){var i=ff(Rl)[0],o=In().memoizedState;return[i,o]},useMutableSource:vh,useSyncExternalStore:_h,useId:$u,unstable_isNewReconciler:!1};function G(i,o){if(i&&i.defaultProps){o=Se({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function oe(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:Se({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ie={isMounted:function(i){return(i=i._reactInternals)?vn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var m=an(),w=Ia(i),E=$r(m,w);E.payload=o,u!=null&&(E.callback=u),o=xs(i,E,w),o!==null&&(Qi(o,i,w,m),wa(o,i,w))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=an(),w=Ia(i),E=$r(m,w);E.tag=1,E.payload=o,u!=null&&(E.callback=u),o=xs(i,E,w),o!==null&&(Qi(o,i,w,m),wa(o,i,w))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=an(),m=Ia(i),w=$r(u,m);w.tag=2,o!=null&&(w.callback=o),o=xs(i,w,m),o!==null&&(Qi(o,i,m,u),wa(o,i,m))}};function we(i,o,u,m,w,E,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,E,C):o.prototype&&o.prototype.isPureReactComponent?!gl(u,m)||!gl(w,E):!0}function Re(i,o,u){var m=!1,w=ys,E=o.contextType;return typeof E=="object"&&E!==null?E=Tn(E):(w=qr(o)?bn:dr.current,m=o.contextTypes,E=(m=m!=null)?ca(i,w):ys),o=new o(u,E),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ie,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=E),o}function $e(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&ie.enqueueReplaceState(o,o.state,null)}function it(i,o,u,m){var w=i.stateNode;w.props=u,w.state=i.memoizedState,w.refs={},_a(i);var E=o.contextType;typeof E=="object"&&E!==null?w.context=Tn(E):(E=qr(o)?bn:dr.current,w.context=ca(i,E)),w.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(oe(i,o,E,u),w.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(o=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),o!==w.state&&ie.enqueueReplaceState(w,w.state,null),Mu(i,u,w,m),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function wt(i,o){try{var u="",m=o;do u+=Ke(m),m=m.return;while(m);var w=u}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:o,stack:w,digest:null}}function Wn(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function pi(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var gi=typeof WeakMap=="function"?WeakMap:Map;function lo(i,o,u){u=$r(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){Uh||(Uh=!0,mg=m),pi(i,o)},u}function uo(i,o,u){u=$r(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var w=o.value;u.payload=function(){return m(w)},u.callback=function(){pi(i,o)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){pi(i,o),typeof m!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})}),u}function yi(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new gi;var w=new Set;m.set(o,w)}else w=m.get(o),w===void 0&&(w=new Set,m.set(o,w));w.has(u)||(w.add(u),i=yk.bind(null,i,o,u),o.then(i,i))}function co(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Hu(i,o,u,m,w){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=$r(-1,1),o.tag=2,xs(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var ik=Q.ReactCurrentOwner,An=!1;function on(i,o,u,m){o.child=i===null?no(o,null,u,m):pa(o,i.child,u,m)}function Ab(i,o,u,m,w){u=u.render;var E=o.ref;return va(o,w),m=lf(i,o,u,m,E,w),u=uf(),i!==null&&!An?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~w,fo(i,o,w)):(Et&&u&&Xc(o),o.flags|=1,on(i,o,m,w),o.child)}function Cb(i,o,u,m,w){if(i===null){var E=u.type;return typeof E=="function"&&!bg(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=E,Pb(i,o,E,m,w)):(i=Wh(u.type,null,m,o,o.mode,w),i.ref=o.ref,i.return=o,o.child=i)}if(E=i.child,(i.lanes&w)===0){var C=E.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(C,m)&&i.ref===o.ref)return fo(i,o,w)}return o.flags|=1,i=Ca(E,m),i.ref=o.ref,i.return=o,o.child=i}function Pb(i,o,u,m,w){if(i!==null){var E=i.memoizedProps;if(gl(E,m)&&i.ref===o.ref)if(An=!1,o.pendingProps=m=E,(i.lanes&w)!==0)(i.flags&131072)!==0&&(An=!0);else return o.lanes=i.lanes,fo(i,o,w)}return eg(i,o,u,m,w)}function kb(i,o,u){var m=o.pendingProps,w=m.children,E=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Gu,Gn),Gn|=u;else{if((u&1073741824)===0)return i=E!==null?E.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Pt(Gu,Gn),Gn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:u,Pt(Gu,Gn),Gn|=m}else E!==null?(m=E.baseLanes|u,o.memoizedState=null):m=u,Pt(Gu,Gn),Gn|=m;return on(i,o,w,u),o.child}function Rb(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function eg(i,o,u,m,w){var E=qr(u)?bn:dr.current;return E=ca(o,E),va(o,w),u=lf(i,o,u,m,E,w),m=uf(),i!==null&&!An?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~w,fo(i,o,w)):(Et&&m&&Xc(o),o.flags|=1,on(i,o,u,w),o.child)}function Nb(i,o,u,m,w){if(qr(u)){var E=!0;ku(o)}else E=!1;if(va(o,w),o.stateNode===null)Dh(i,o),Re(o,u,m),it(o,u,m,w),m=!0;else if(i===null){var C=o.stateNode,z=o.memoizedProps;C.props=z;var K=C.context,se=u.contextType;typeof se=="object"&&se!==null?se=Tn(se):(se=qr(u)?bn:dr.current,se=ca(o,se));var ge=u.getDerivedStateFromProps,ve=typeof ge=="function"||typeof C.getSnapshotBeforeUpdate=="function";ve||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==m||K!==se)&&$e(o,C,m,se),Wi=!1;var pe=o.memoizedState;C.state=pe,Mu(o,m,C,w),K=o.memoizedState,z!==m||pe!==K||zr.current||Wi?(typeof ge=="function"&&(oe(o,u,ge,m),K=o.memoizedState),(z=Wi||we(o,u,z,m,pe,K,se))?(ve||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=K),C.props=m,C.state=K,C.context=se,m=z):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{C=o.stateNode,mh(i,o),z=o.memoizedProps,se=o.type===o.elementType?z:G(o.type,z),C.props=se,ve=o.pendingProps,pe=C.context,K=u.contextType,typeof K=="object"&&K!==null?K=Tn(K):(K=qr(u)?bn:dr.current,K=ca(o,K));var Ie=u.getDerivedStateFromProps;(ge=typeof Ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==ve||pe!==K)&&$e(o,C,m,K),Wi=!1,pe=o.memoizedState,C.state=pe,Mu(o,m,C,w);var Ne=o.memoizedState;z!==ve||pe!==Ne||zr.current||Wi?(typeof Ie=="function"&&(oe(o,u,Ie,m),Ne=o.memoizedState),(se=Wi||we(o,u,se,m,pe,Ne,K)||!1)?(ge||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,Ne,K),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,Ne,K)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||z===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Ne),C.props=m,C.state=Ne,C.context=K,m=se):(typeof C.componentDidUpdate!="function"||z===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),m=!1)}return tg(i,o,u,m,E,w)}function tg(i,o,u,m,w,E){Rb(i,o);var C=(o.flags&128)!==0;if(!m&&!C)return w&&ah(o,u,!1),fo(i,o,E);m=o.stateNode,ik.current=o;var z=C&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&C?(o.child=pa(o,i.child,null,E),o.child=pa(o,null,z,E)):on(i,o,z,E),o.memoizedState=m.state,w&&ah(o,u,!0),o.child}function Ob(i){var o=i.stateNode;o.pendingContext?sh(i,o.pendingContext,o.pendingContext!==o.context):o.context&&sh(i,o.context,!1),nf(i,o.containerInfo)}function jb(i,o,u,m,w){return ma(),Jc(w),o.flags|=256,on(i,o,u,m),o.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ng(i){return{baseLanes:i,cachePool:null,transitions:null}}function Db(i,o,u){var m=o.pendingProps,w=Mt.current,E=!1,C=(o.flags&128)!==0,z;if((z=C)||(z=i!==null&&i.memoizedState===null?!1:(w&2)!==0),z?(E=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Pt(Mt,w&1),i===null)return ws(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(C=m.children,i=m.fallback,E?(m=o.mode,E=o.child,C={mode:"hidden",children:C},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=C):E=Gh(C,m,0,null),i=Ml(i,m,u,null),E.return=o,i.return=o,E.sibling=i,o.child=E,o.child.memoizedState=ng(u),o.memoizedState=rg,i):ig(o,C));if(w=i.memoizedState,w!==null&&(z=w.dehydrated,z!==null))return sk(i,o,C,m,z,w,u);if(E){E=m.fallback,C=o.mode,w=i.child,z=w.sibling;var K={mode:"hidden",children:m.children};return(C&1)===0&&o.child!==w?(m=o.child,m.childLanes=0,m.pendingProps=K,o.deletions=null):(m=Ca(w,K),m.subtreeFlags=w.subtreeFlags&14680064),z!==null?E=Ca(z,E):(E=Ml(E,C,u,null),E.flags|=2),E.return=o,m.return=o,m.sibling=E,o.child=m,m=E,E=o.child,C=i.child.memoizedState,C=C===null?ng(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},E.memoizedState=C,E.childLanes=i.childLanes&~u,o.memoizedState=rg,m}return E=i.child,i=E.sibling,m=Ca(E,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=u),m.return=o,m.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=m,o.memoizedState=null,m}function ig(i,o){return o=Gh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function jh(i,o,u,m){return m!==null&&Jc(m),pa(o,i.child,null,u),i=ig(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function sk(i,o,u,m,w,E,C){if(u)return o.flags&256?(o.flags&=-257,m=Wn(Error(t(422))),jh(i,o,C,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(E=m.fallback,w=o.mode,m=Gh({mode:"visible",children:m.children},w,0,null),E=Ml(E,w,C,null),E.flags|=2,m.return=o,E.return=o,m.sibling=E,o.child=m,(o.mode&1)!==0&&pa(o,i.child,null,C),o.child.memoizedState=ng(C),o.memoizedState=rg,E);if((o.mode&1)===0)return jh(i,o,C,null);if(w.data==="$!"){if(m=w.nextSibling&&w.nextSibling.dataset,m)var z=m.dgst;return m=z,E=Error(t(419)),m=Wn(E,m,void 0),jh(i,o,C,m)}if(z=(C&i.childLanes)!==0,An||z){if(m=br,m!==null){switch(C&-C){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(m.suspendedLanes|C))!==0?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Hi(i,w),Qi(m,i,w,-1))}return wg(),m=Wn(Error(t(421))),jh(i,o,C,m)}return w.data==="$?"?(o.flags|=128,o.child=i.child,o=vk.bind(null,i),w._reactRetry=o,null):(i=E.treeContext,sn=ms(w.nextSibling),_r=o,Et=!0,Hn=null,i!==null&&(xn[En++]=qi,xn[En++]=$i,xn[En++]=to,qi=i.id,$i=i.overflow,to=o),o=ig(o,m.children),o.flags|=4096,o)}function Lb(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),tf(i.return,o,u)}function sg(i,o,u,m,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=u,E.tailMode=w)}function Mb(i,o,u){var m=o.pendingProps,w=m.revealOrder,E=m.tail;if(on(i,o,m.children,u),m=Mt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Lb(i,u,o);else if(i.tag===19)Lb(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(Pt(Mt,m),(o.mode&1)===0)o.memoizedState=null;else switch(w){case"forwards":for(u=o.child,w=null;u!==null;)i=u.alternate,i!==null&&Fu(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=o.child,o.child=null):(w=u.sibling,u.sibling=null),sg(o,!1,w,u,E);break;case"backwards":for(u=null,w=o.child,o.child=null;w!==null;){if(i=w.alternate,i!==null&&Fu(i)===null){o.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}sg(o,!0,u,null,E);break;case"together":sg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function fo(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ol|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Ca(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ca(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ok(i,o,u){switch(o.tag){case 3:Ob(o),ma();break;case 5:yh(o);break;case 1:qr(o.type)&&ku(o);break;case 4:nf(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,w=o.memoizedProps.value;Pt(Lu,m._currentValue),m._currentValue=w;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Pt(Mt,Mt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Db(i,o,u):(Pt(Mt,Mt.current&1),i=fo(i,o,u),i!==null?i.sibling:null);Pt(Mt,Mt.current&1);break;case 19:if(m=(u&o.childLanes)!==0,(i.flags&128)!==0){if(m)return Mb(i,o,u);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Pt(Mt,Mt.current),m)break;return null;case 22:case 23:return o.lanes=0,kb(i,o,u)}return fo(i,o,u)}var Fb,og,Vb,Ub;Fb=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},og=function(){},Vb=function(i,o,u,m){var w=i.memoizedProps;if(w!==m){i=o.stateNode,so(Sn.current);var E=null;switch(u){case"input":w=fn(i,w),m=fn(i,m),E=[];break;case"select":w=Se({},w,{value:void 0}),m=Se({},m,{value:void 0}),E=[];break;case"textarea":w=le(i,w),m=le(i,m),E=[];break;default:typeof w.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Au)}Si(u,m);var C;u=null;for(se in w)if(!m.hasOwnProperty(se)&&w.hasOwnProperty(se)&&w[se]!=null)if(se==="style"){var z=w[se];for(C in z)z.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(s.hasOwnProperty(se)?E||(E=[]):(E=E||[]).push(se,null));for(se in m){var K=m[se];if(z=w!=null?w[se]:void 0,m.hasOwnProperty(se)&&K!==z&&(K!=null||z!=null))if(se==="style")if(z){for(C in z)!z.hasOwnProperty(C)||K&&K.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in K)K.hasOwnProperty(C)&&z[C]!==K[C]&&(u||(u={}),u[C]=K[C])}else u||(E||(E=[]),E.push(se,u)),u=K;else se==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,z=z?z.__html:void 0,K!=null&&z!==K&&(E=E||[]).push(se,K)):se==="children"?typeof K!="string"&&typeof K!="number"||(E=E||[]).push(se,""+K):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(s.hasOwnProperty(se)?(K!=null&&se==="onScroll"&&Ct("scroll",i),E||z===K||(E=[])):(E=E||[]).push(se,K))}u&&(E=E||[]).push("style",u);var se=E;(o.updateQueue=se)&&(o.flags|=4)}},Ub=function(i,o,u,m){u!==m&&(o.flags|=4)};function vf(i,o){if(!Et)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Hr(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&14680064,m|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function ak(i,o,u){var m=o.pendingProps;switch(Ru(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(o),null;case 1:return qr(o.type)&&Pu(),Hr(o),null;case 3:return m=o.stateNode,ba(),Nt(zr),Nt(dr),xa(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(ju(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hn!==null&&(yg(Hn),Hn=null))),og(i,o),Hr(o),null;case 5:sf(o);var w=so(Al.current);if(u=o.type,i!==null&&o.stateNode!=null)Vb(i,o,u,m,w),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return Hr(o),null}if(i=so(Sn.current),ju(o)){m=o.stateNode,u=o.type;var E=o.memoizedProps;switch(m[di]=o,m[bl]=E,i=(o.mode&1)!==0,u){case"dialog":Ct("cancel",m),Ct("close",m);break;case"iframe":case"object":case"embed":Ct("load",m);break;case"video":case"audio":for(w=0;w<Js.length;w++)Ct(Js[w],m);break;case"source":Ct("error",m);break;case"img":case"image":case"link":Ct("error",m),Ct("load",m);break;case"details":Ct("toggle",m);break;case"input":lt(m,E),Ct("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},Ct("invalid",m);break;case"textarea":me(m,E),Ct("invalid",m)}Si(u,E),w=null;for(var C in E)if(E.hasOwnProperty(C)){var z=E[C];C==="children"?typeof z=="string"?m.textContent!==z&&(E.suppressHydrationWarning!==!0&&Iu(m.textContent,z,i),w=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(E.suppressHydrationWarning!==!0&&Iu(m.textContent,z,i),w=["children",""+z]):s.hasOwnProperty(C)&&z!=null&&C==="onScroll"&&Ct("scroll",m)}switch(u){case"input":Ht(m),hn(m,E,!0);break;case"textarea":Ht(m),de(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=Au)}m=w,o.updateQueue=m,m!==null&&(o.flags|=4)}else{C=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Te(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=C.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=C.createElement(u,{is:m.is}):(i=C.createElement(u),u==="select"&&(C=i,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):i=C.createElementNS(i,u),i[di]=o,i[bl]=m,Fb(i,o,!1,!1),o.stateNode=i;e:{switch(C=Ms(u,m),u){case"dialog":Ct("cancel",i),Ct("close",i),w=m;break;case"iframe":case"object":case"embed":Ct("load",i),w=m;break;case"video":case"audio":for(w=0;w<Js.length;w++)Ct(Js[w],i);w=m;break;case"source":Ct("error",i),w=m;break;case"img":case"image":case"link":Ct("error",i),Ct("load",i),w=m;break;case"details":Ct("toggle",i),w=m;break;case"input":lt(i,m),w=fn(i,m),Ct("invalid",i);break;case"option":w=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},w=Se({},m,{value:void 0}),Ct("invalid",i);break;case"textarea":me(i,m),w=le(i,m),Ct("invalid",i);break;default:w=m}Si(u,w),z=w;for(E in z)if(z.hasOwnProperty(E)){var K=z[E];E==="style"?Wt(i,K):E==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&jt(i,K)):E==="children"?typeof K=="string"?(u!=="textarea"||K!=="")&&yr(i,K):typeof K=="number"&&yr(i,""+K):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?K!=null&&E==="onScroll"&&Ct("scroll",i):K!=null&&k(i,E,K,C))}switch(u){case"input":Ht(i),hn(i,m,!1);break;case"textarea":Ht(i),de(i);break;case"option":m.value!=null&&i.setAttribute("value",""+at(m.value));break;case"select":i.multiple=!!m.multiple,E=m.value,E!=null?Z(i,!!m.multiple,E,!1):m.defaultValue!=null&&Z(i,!!m.multiple,m.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Au)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Hr(o),null;case 6:if(i&&o.stateNode!=null)Ub(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(u=so(Al.current),so(Sn.current),ju(o)){if(m=o.stateNode,u=o.memoizedProps,m[di]=o,(E=m.nodeValue!==u)&&(i=_r,i!==null))switch(i.tag){case 3:Iu(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Iu(m.nodeValue,u,(i.mode&1)!==0)}E&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[di]=o,o.stateNode=m}return Hr(o),null;case 13:if(Nt(Mt),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Et&&sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)dh(),ma(),o.flags|=98560,E=!1;else if(E=ju(o),m!==null&&m.dehydrated!==null){if(i===null){if(!E)throw Error(t(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[di]=o}else ma(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Hr(o),E=!1}else Hn!==null&&(yg(Hn),Hn=null),E=!0;if(!E)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Mt.current&1)!==0?hr===0&&(hr=3):wg())),o.updateQueue!==null&&(o.flags|=4),Hr(o),null);case 4:return ba(),og(i,o),i===null&&Fi(o.stateNode.containerInfo),Hr(o),null;case 10:return ef(o.type._context),Hr(o),null;case 17:return qr(o.type)&&Pu(),Hr(o),null;case 19:if(Nt(Mt),E=o.memoizedState,E===null)return Hr(o),null;if(m=(o.flags&128)!==0,C=E.rendering,C===null)if(m)vf(E,!1);else{if(hr!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(C=Fu(i),C!==null){for(o.flags|=128,vf(E,!1),m=C.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)E=u,i=m,E.flags&=14680066,C=E.alternate,C===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=C.childLanes,E.lanes=C.lanes,E.child=C.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=C.memoizedProps,E.memoizedState=C.memoizedState,E.updateQueue=C.updateQueue,E.type=C.type,i=C.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Pt(Mt,Mt.current&1|2),o.child}i=i.sibling}E.tail!==null&&At()>Ku&&(o.flags|=128,m=!0,vf(E,!1),o.lanes=4194304)}else{if(!m)if(i=Fu(C),i!==null){if(o.flags|=128,m=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),vf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!C.alternate&&!Et)return Hr(o),null}else 2*At()-E.renderingStartTime>Ku&&u!==1073741824&&(o.flags|=128,m=!0,vf(E,!1),o.lanes=4194304);E.isBackwards?(C.sibling=o.child,o.child=C):(u=E.last,u!==null?u.sibling=C:o.child=C,E.last=C)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=At(),o.sibling=null,u=Mt.current,Pt(Mt,m?u&1|2:u&1),o):(Hr(o),null);case 22:case 23:return _g(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(Gn&1073741824)!==0&&(Hr(o),o.subtreeFlags&6&&(o.flags|=8192)):Hr(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function lk(i,o){switch(Ru(o),o.tag){case 1:return qr(o.type)&&Pu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ba(),Nt(zr),Nt(dr),xa(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return sf(o),null;case 13:if(Nt(Mt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ma()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Nt(Mt),null;case 4:return ba(),null;case 10:return ef(o.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var Lh=!1,Wr=!1,uk=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Wu(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Qt(i,o,m)}else u.current=null}function ag(i,o,u){try{u()}catch(m){Qt(i,o,m)}}var Bb=!1;function ck(i,o){if(Wc=fs,i=Kd(),Fc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var C=0,z=-1,K=-1,se=0,ge=0,ve=i,pe=null;t:for(;;){for(var Ie;ve!==u||w!==0&&ve.nodeType!==3||(z=C+w),ve!==E||m!==0&&ve.nodeType!==3||(K=C+m),ve.nodeType===3&&(C+=ve.nodeValue.length),(Ie=ve.firstChild)!==null;)pe=ve,ve=Ie;for(;;){if(ve===i)break t;if(pe===u&&++se===w&&(z=C),pe===E&&++ge===m&&(K=C),(Ie=ve.nextSibling)!==null)break;ve=pe,pe=ve.parentNode}ve=Ie}u=z===-1||K===-1?null:{start:z,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gc={focusedElem:i,selectionRange:u},fs=!1,Ae=o;Ae!==null;)if(o=Ae,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ae=i;else for(;Ae!==null;){o=Ae;try{var Ne=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Oe=Ne.memoizedProps,Zt=Ne.memoizedState,re=o.stateNode,X=re.getSnapshotBeforeUpdate(o.elementType===o.type?Oe:G(o.type,Oe),Zt);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ne=o.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(xe){Qt(o,o.return,xe)}if(i=o.sibling,i!==null){i.return=o.return,Ae=i;break}Ae=o.return}return Ne=Bb,Bb=!1,Ne}function _f(i,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&i)===i){var E=w.destroy;w.destroy=void 0,E!==void 0&&ag(o,u,E)}w=w.next}while(w!==m)}}function Mh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function lg(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function zb(i){var o=i.alternate;o!==null&&(i.alternate=null,zb(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[di],delete o[bl],delete o[$n],delete o[Xp],delete o[Jp])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function qb(i){return i.tag===5||i.tag===3||i.tag===4}function $b(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ug(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Au));else if(m!==4&&(i=i.child,i!==null))for(ug(i,o,u),i=i.sibling;i!==null;)ug(i,o,u),i=i.sibling}function cg(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(cg(i,o,u),i=i.sibling;i!==null;)cg(i,o,u),i=i.sibling}var Ir=null,Gi=!1;function Ea(i,o,u){for(u=u.child;u!==null;)Hb(i,o,u),u=u.sibling}function Hb(i,o,u){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(ti,u)}catch{}switch(u.tag){case 5:Wr||Wu(u,o);case 6:var m=Ir,w=Gi;Ir=null,Ea(i,o,u),Ir=m,Gi=w,Ir!==null&&(Gi?(i=Ir,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ir.removeChild(u.stateNode));break;case 18:Ir!==null&&(Gi?(i=Ir,u=u.stateNode,i.nodeType===8?Qc(i.parentNode,u):i.nodeType===1&&Qc(i,u),Vn(i)):Qc(Ir,u.stateNode));break;case 4:m=Ir,w=Gi,Ir=u.stateNode.containerInfo,Gi=!0,Ea(i,o,u),Ir=m,Gi=w;break;case 0:case 11:case 14:case 15:if(!Wr&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){w=m=m.next;do{var E=w,C=E.destroy;E=E.tag,C!==void 0&&((E&2)!==0||(E&4)!==0)&&ag(u,o,C),w=w.next}while(w!==m)}Ea(i,o,u);break;case 1:if(!Wr&&(Wu(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(z){Qt(u,o,z)}Ea(i,o,u);break;case 21:Ea(i,o,u);break;case 22:u.mode&1?(Wr=(m=Wr)||u.memoizedState!==null,Ea(i,o,u),Wr=m):Ea(i,o,u);break;default:Ea(i,o,u)}}function Wb(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new uk),o.forEach(function(m){var w=_k.bind(null,i,m);u.has(m)||(u.add(m),m.then(w,w))})}}function Ki(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m];try{var E=i,C=o,z=C;e:for(;z!==null;){switch(z.tag){case 5:Ir=z.stateNode,Gi=!1;break e;case 3:Ir=z.stateNode.containerInfo,Gi=!0;break e;case 4:Ir=z.stateNode.containerInfo,Gi=!0;break e}z=z.return}if(Ir===null)throw Error(t(160));Hb(E,C,w),Ir=null,Gi=!1;var K=w.alternate;K!==null&&(K.return=null),w.return=null}catch(se){Qt(w,o,se)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gb(o,i),o=o.sibling}function Gb(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ki(o,i),Es(i),m&4){try{_f(3,i,i.return),Mh(3,i)}catch(Oe){Qt(i,i.return,Oe)}try{_f(5,i,i.return)}catch(Oe){Qt(i,i.return,Oe)}}break;case 1:Ki(o,i),Es(i),m&512&&u!==null&&Wu(u,u.return);break;case 5:if(Ki(o,i),Es(i),m&512&&u!==null&&Wu(u,u.return),i.flags&32){var w=i.stateNode;try{yr(w,"")}catch(Oe){Qt(i,i.return,Oe)}}if(m&4&&(w=i.stateNode,w!=null)){var E=i.memoizedProps,C=u!==null?u.memoizedProps:E,z=i.type,K=i.updateQueue;if(i.updateQueue=null,K!==null)try{z==="input"&&E.type==="radio"&&E.name!=null&&dn(w,E),Ms(z,C);var se=Ms(z,E);for(C=0;C<K.length;C+=2){var ge=K[C],ve=K[C+1];ge==="style"?Wt(w,ve):ge==="dangerouslySetInnerHTML"?jt(w,ve):ge==="children"?yr(w,ve):k(w,ge,ve,se)}switch(z){case"input":tt(w,E);break;case"textarea":be(w,E);break;case"select":var pe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Ie=E.value;Ie!=null?Z(w,!!E.multiple,Ie,!1):pe!==!!E.multiple&&(E.defaultValue!=null?Z(w,!!E.multiple,E.defaultValue,!0):Z(w,!!E.multiple,E.multiple?[]:"",!1))}w[bl]=E}catch(Oe){Qt(i,i.return,Oe)}}break;case 6:if(Ki(o,i),Es(i),m&4){if(i.stateNode===null)throw Error(t(162));w=i.stateNode,E=i.memoizedProps;try{w.nodeValue=E}catch(Oe){Qt(i,i.return,Oe)}}break;case 3:if(Ki(o,i),Es(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Vn(o.containerInfo)}catch(Oe){Qt(i,i.return,Oe)}break;case 4:Ki(o,i),Es(i);break;case 13:Ki(o,i),Es(i),w=i.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(hg=At())),m&4&&Wb(i);break;case 22:if(ge=u!==null&&u.memoizedState!==null,i.mode&1?(Wr=(se=Wr)||ge,Ki(o,i),Wr=se):Ki(o,i),Es(i),m&8192){if(se=i.memoizedState!==null,(i.stateNode.isHidden=se)&&!ge&&(i.mode&1)!==0)for(Ae=i,ge=i.child;ge!==null;){for(ve=Ae=ge;Ae!==null;){switch(pe=Ae,Ie=pe.child,pe.tag){case 0:case 11:case 14:case 15:_f(4,pe,pe.return);break;case 1:Wu(pe,pe.return);var Ne=pe.stateNode;if(typeof Ne.componentWillUnmount=="function"){m=pe,u=pe.return;try{o=m,Ne.props=o.memoizedProps,Ne.state=o.memoizedState,Ne.componentWillUnmount()}catch(Oe){Qt(m,u,Oe)}}break;case 5:Wu(pe,pe.return);break;case 22:if(pe.memoizedState!==null){Yb(ve);continue}}Ie!==null?(Ie.return=pe,Ae=Ie):Yb(ve)}ge=ge.sibling}e:for(ge=null,ve=i;;){if(ve.tag===5){if(ge===null){ge=ve;try{w=ve.stateNode,se?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(z=ve.stateNode,K=ve.memoizedProps.style,C=K!=null&&K.hasOwnProperty("display")?K.display:null,z.style.display=Xt("display",C))}catch(Oe){Qt(i,i.return,Oe)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=se?"":ve.memoizedProps}catch(Oe){Qt(i,i.return,Oe)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===i)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===i)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===i)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Ki(o,i),Es(i),m&4&&Wb(i);break;case 21:break;default:Ki(o,i),Es(i)}}function Es(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(qb(u)){var m=u;break e}u=u.return}throw Error(t(160))}switch(m.tag){case 5:var w=m.stateNode;m.flags&32&&(yr(w,""),m.flags&=-33);var E=$b(i);cg(i,E,w);break;case 3:case 4:var C=m.stateNode.containerInfo,z=$b(i);ug(i,z,C);break;default:throw Error(t(161))}}catch(K){Qt(i,i.return,K)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function fk(i,o,u){Ae=i,Kb(i)}function Kb(i,o,u){for(var m=(i.mode&1)!==0;Ae!==null;){var w=Ae,E=w.child;if(w.tag===22&&m){var C=w.memoizedState!==null||Lh;if(!C){var z=w.alternate,K=z!==null&&z.memoizedState!==null||Wr;z=Lh;var se=Wr;if(Lh=C,(Wr=K)&&!se)for(Ae=w;Ae!==null;)C=Ae,K=C.child,C.tag===22&&C.memoizedState!==null?Xb(w):K!==null?(K.return=C,Ae=K):Xb(w);for(;E!==null;)Ae=E,Kb(E),E=E.sibling;Ae=w,Lh=z,Wr=se}Qb(i)}else(w.subtreeFlags&8772)!==0&&E!==null?(E.return=w,Ae=E):Qb(i)}}function Qb(i){for(;Ae!==null;){var o=Ae;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wr||Mh(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Wr)if(u===null)m.componentDidMount();else{var w=o.elementType===o.type?u.memoizedProps:G(o.type,u.memoizedProps);m.componentDidUpdate(w,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&gh(o,E,m);break;case 3:var C=o.updateQueue;if(C!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}gh(o,C,u)}break;case 5:var z=o.stateNode;if(u===null&&o.flags&4){u=z;var K=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&u.focus();break;case"img":K.src&&(u.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var se=o.alternate;if(se!==null){var ge=se.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&Vn(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wr||o.flags&512&&lg(o)}catch(pe){Qt(o,o.return,pe)}}if(o===i){Ae=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function Yb(i){for(;Ae!==null;){var o=Ae;if(o===i){Ae=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ae=u;break}Ae=o.return}}function Xb(i){for(;Ae!==null;){var o=Ae;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Mh(4,o)}catch(K){Qt(o,u,K)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var w=o.return;try{m.componentDidMount()}catch(K){Qt(o,w,K)}}var E=o.return;try{lg(o)}catch(K){Qt(o,E,K)}break;case 5:var C=o.return;try{lg(o)}catch(K){Qt(o,C,K)}}}catch(K){Qt(o,o.return,K)}if(o===i){Ae=null;break}var z=o.sibling;if(z!==null){z.return=o.return,Ae=z;break}Ae=o.return}}var dk=Math.ceil,Fh=Q.ReactCurrentDispatcher,fg=Q.ReactCurrentOwner,vi=Q.ReactCurrentBatchConfig,vt=0,br=null,sr=null,Ar=0,Gn=0,Gu=gs(0),hr=0,wf=null,Ol=0,Vh=0,dg=0,bf=null,Cn=null,hg=0,Ku=1/0,ho=null,Uh=!1,mg=null,Ta=null,Bh=!1,Sa=null,zh=0,xf=0,pg=null,qh=-1,$h=0;function an(){return(vt&6)!==0?At():qh!==-1?qh:qh=At()}function Ia(i){return(i.mode&1)===0?1:(vt&2)!==0&&Ar!==0?Ar&-Ar:Zp.transition!==null?($h===0&&($h=ki()),$h):(i=ct,i!==0||(i=window.event,i=i===void 0?16:qo(i.type)),i)}function Qi(i,o,u,m){if(50<xf)throw xf=0,pg=null,Error(t(185));Ri(i,u,m),((vt&2)===0||i!==br)&&(i===br&&((vt&2)===0&&(Vh|=u),hr===4&&Aa(i,Ar)),Pn(i,m),u===1&&vt===0&&(o.mode&1)===0&&(Ku=At()+500,xl&&vs()))}function Pn(i,o){var u=i.callbackNode;ni(i,o);var m=ri(i,i===br?Ar:0);if(m===0)u!==null&&Ln(u),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(u!=null&&Ln(u),o===1)i.tag===0?da(Zb.bind(null,i)):lh(Zb.bind(null,i)),Yp(function(){(vt&6)===0&&vs()}),u=null;else{switch(us(m)){case 1:u=as;break;case 4:u=ei;break;case 16:u=rn;break;case 536870912:u=ut;break;default:u=rn}u=ax(u,Jb.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Jb(i,o){if(qh=-1,$h=0,(vt&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Qu()&&i.callbackNode!==u)return null;var m=ri(i,i===br?Ar:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||o)o=Hh(i,m);else{o=m;var w=vt;vt|=2;var E=tx();(br!==i||Ar!==o)&&(ho=null,Ku=At()+500,Dl(i,o));do try{pk();break}catch(z){ex(i,z)}while(!0);bs(),Fh.current=E,vt=w,sr!==null?o=0:(br=null,Ar=0,o=hr)}if(o!==0){if(o===2&&(w=Or(i),w!==0&&(m=w,o=gg(i,w))),o===1)throw u=wf,Dl(i,0),Aa(i,m),Pn(i,At()),u;if(o===6)Aa(i,m);else{if(w=i.current.alternate,(m&30)===0&&!hk(w)&&(o=Hh(i,m),o===2&&(E=Or(i),E!==0&&(m=E,o=gg(i,E))),o===1))throw u=wf,Dl(i,0),Aa(i,m),Pn(i,At()),u;switch(i.finishedWork=w,i.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:Ll(i,Cn,ho);break;case 3:if(Aa(i,m),(m&130023424)===m&&(o=hg+500-At(),10<o)){if(ri(i,0)!==0)break;if(w=i.suspendedLanes,(w&m)!==m){an(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Kc(Ll.bind(null,i,Cn,ho),o);break}Ll(i,Cn,ho);break;case 4:if(Aa(i,m),(m&4194240)===m)break;for(o=i.eventTimes,w=-1;0<m;){var C=31-vr(m);E=1<<C,C=o[C],C>w&&(w=C),m&=~E}if(m=w,m=At()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*dk(m/1960))-m,10<m){i.timeoutHandle=Kc(Ll.bind(null,i,Cn,ho),m);break}Ll(i,Cn,ho);break;case 5:Ll(i,Cn,ho);break;default:throw Error(t(329))}}}return Pn(i,At()),i.callbackNode===u?Jb.bind(null,i):null}function gg(i,o){var u=bf;return i.current.memoizedState.isDehydrated&&(Dl(i,o).flags|=256),i=Hh(i,o),i!==2&&(o=Cn,Cn=u,o!==null&&yg(o)),i}function yg(i){Cn===null?Cn=i:Cn.push.apply(Cn,i)}function hk(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var w=u[m],E=w.getSnapshot;w=w.value;try{if(!zn(E(),w))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Aa(i,o){for(o&=~dg,o&=~Vh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-vr(o),m=1<<u;i[u]=-1,o&=~m}}function Zb(i){if((vt&6)!==0)throw Error(t(327));Qu();var o=ri(i,0);if((o&1)===0)return Pn(i,At()),null;var u=Hh(i,o);if(i.tag!==0&&u===2){var m=Or(i);m!==0&&(o=m,u=gg(i,m))}if(u===1)throw u=wf,Dl(i,0),Aa(i,o),Pn(i,At()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ll(i,Cn,ho),Pn(i,At()),null}function vg(i,o){var u=vt;vt|=1;try{return i(o)}finally{vt=u,vt===0&&(Ku=At()+500,xl&&vs())}}function jl(i){Sa!==null&&Sa.tag===0&&(vt&6)===0&&Qu();var o=vt;vt|=1;var u=vi.transition,m=ct;try{if(vi.transition=null,ct=1,i)return i()}finally{ct=m,vi.transition=u,vt=o,(vt&6)===0&&vs()}}function _g(){Gn=Gu.current,Nt(Gu)}function Dl(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Qp(u)),sr!==null)for(u=sr.return;u!==null;){var m=u;switch(Ru(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Pu();break;case 3:ba(),Nt(zr),Nt(dr),xa();break;case 5:sf(m);break;case 4:ba();break;case 13:Nt(Mt);break;case 19:Nt(Mt);break;case 10:ef(m.type._context);break;case 22:case 23:_g()}u=u.return}if(br=i,sr=i=Ca(i.current,null),Ar=Gn=o,hr=0,wf=null,dg=Vh=Ol=0,Cn=bf=null,io!==null){for(o=0;o<io.length;o++)if(u=io[o],m=u.interleaved,m!==null){u.interleaved=null;var w=m.next,E=u.pending;if(E!==null){var C=E.next;E.next=w,m.next=C}u.pending=m}io=null}return i}function ex(i,o){do{var u=sr;try{if(bs(),Uu.current=g,Bu){for(var m=Dt.memoizedState;m!==null;){var w=m.queue;w!==null&&(w.pending=null),m=m.next}Bu=!1}if(oo=0,ir=Jt=Dt=null,Pl=!1,kl=0,fg.current=null,u===null||u.return===null){hr=1,wf=o,sr=null;break}e:{var E=i,C=u.return,z=u,K=o;if(o=Ar,z.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var se=K,ge=z,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ie=co(C);if(Ie!==null){Ie.flags&=-257,Hu(Ie,C,z,E,o),Ie.mode&1&&yi(E,se,o),o=Ie,K=se;var Ne=o.updateQueue;if(Ne===null){var Oe=new Set;Oe.add(K),o.updateQueue=Oe}else Ne.add(K);break e}else{if((o&1)===0){yi(E,se,o),wg();break e}K=Error(t(426))}}else if(Et&&z.mode&1){var Zt=co(C);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),Hu(Zt,C,z,E,o),Jc(wt(K,z));break e}}E=K=wt(K,z),hr!==4&&(hr=2),bf===null?bf=[E]:bf.push(E),E=C;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var re=lo(E,K,o);ph(E,re);break e;case 1:z=K;var X=E.type,ne=E.stateNode;if((E.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Ta===null||!Ta.has(ne)))){E.flags|=65536,o&=-o,E.lanes|=o;var xe=uo(E,z,o);ph(E,xe);break e}}E=E.return}while(E!==null)}nx(u)}catch(Me){o=Me,sr===u&&u!==null&&(sr=u=u.return);continue}break}while(!0)}function tx(){var i=Fh.current;return Fh.current=g,i===null?g:i}function wg(){(hr===0||hr===3||hr===2)&&(hr=4),br===null||(Ol&268435455)===0&&(Vh&268435455)===0||Aa(br,Ar)}function Hh(i,o){var u=vt;vt|=2;var m=tx();(br!==i||Ar!==o)&&(ho=null,Dl(i,o));do try{mk();break}catch(w){ex(i,w)}while(!0);if(bs(),vt=u,Fh.current=m,sr!==null)throw Error(t(261));return br=null,Ar=0,hr}function mk(){for(;sr!==null;)rx(sr)}function pk(){for(;sr!==null&&!Lo();)rx(sr)}function rx(i){var o=ox(i.alternate,i,Gn);i.memoizedProps=i.pendingProps,o===null?nx(i):sr=o,fg.current=null}function nx(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=ak(u,o,Gn),u!==null){sr=u;return}}else{if(u=lk(u,o),u!==null){u.flags&=32767,sr=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{hr=6,sr=null;return}}if(o=o.sibling,o!==null){sr=o;return}sr=o=i}while(o!==null);hr===0&&(hr=5)}function Ll(i,o,u){var m=ct,w=vi.transition;try{vi.transition=null,ct=1,gk(i,o,u,m)}finally{vi.transition=w,ct=m}return null}function gk(i,o,u,m){do Qu();while(Sa!==null);if((vt&6)!==0)throw Error(t(327));u=i.finishedWork;var w=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var E=u.lanes|u.childLanes;if(xt(i,E),i===br&&(sr=br=null,Ar=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bh||(Bh=!0,ax(rn,function(){return Qu(),null})),E=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||E){E=vi.transition,vi.transition=null;var C=ct;ct=1;var z=vt;vt|=4,fg.current=null,ck(i,u),Gb(u,i),$p(Gc),fs=!!Wc,Gc=Wc=null,i.current=u,fk(u),cu(),vt=z,ct=C,vi.transition=E}else i.current=u;if(Bh&&(Bh=!1,Sa=i,zh=w),E=i.pendingLanes,E===0&&(Ta=null),Fo(u.stateNode),Pn(i,At()),o!==null)for(m=i.onRecoverableError,u=0;u<o.length;u++)w=o[u],m(w.value,{componentStack:w.stack,digest:w.digest});if(Uh)throw Uh=!1,i=mg,mg=null,i;return(zh&1)!==0&&i.tag!==0&&Qu(),E=i.pendingLanes,(E&1)!==0?i===pg?xf++:(xf=0,pg=i):xf=0,vs(),null}function Qu(){if(Sa!==null){var i=us(zh),o=vi.transition,u=ct;try{if(vi.transition=null,ct=16>i?16:i,Sa===null)var m=!1;else{if(i=Sa,Sa=null,zh=0,(vt&6)!==0)throw Error(t(331));var w=vt;for(vt|=4,Ae=i.current;Ae!==null;){var E=Ae,C=E.child;if((Ae.flags&16)!==0){var z=E.deletions;if(z!==null){for(var K=0;K<z.length;K++){var se=z[K];for(Ae=se;Ae!==null;){var ge=Ae;switch(ge.tag){case 0:case 11:case 15:_f(8,ge,E)}var ve=ge.child;if(ve!==null)ve.return=ge,Ae=ve;else for(;Ae!==null;){ge=Ae;var pe=ge.sibling,Ie=ge.return;if(zb(ge),ge===se){Ae=null;break}if(pe!==null){pe.return=Ie,Ae=pe;break}Ae=Ie}}}var Ne=E.alternate;if(Ne!==null){var Oe=Ne.child;if(Oe!==null){Ne.child=null;do{var Zt=Oe.sibling;Oe.sibling=null,Oe=Zt}while(Oe!==null)}}Ae=E}}if((E.subtreeFlags&2064)!==0&&C!==null)C.return=E,Ae=C;else e:for(;Ae!==null;){if(E=Ae,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:_f(9,E,E.return)}var re=E.sibling;if(re!==null){re.return=E.return,Ae=re;break e}Ae=E.return}}var X=i.current;for(Ae=X;Ae!==null;){C=Ae;var ne=C.child;if((C.subtreeFlags&2064)!==0&&ne!==null)ne.return=C,Ae=ne;else e:for(C=X;Ae!==null;){if(z=Ae,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Mh(9,z)}}catch(Me){Qt(z,z.return,Me)}if(z===C){Ae=null;break e}var xe=z.sibling;if(xe!==null){xe.return=z.return,Ae=xe;break e}Ae=z.return}}if(vt=w,vs(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(ti,i)}catch{}m=!0}return m}finally{ct=u,vi.transition=o}}return!1}function ix(i,o,u){o=wt(u,o),o=lo(i,o,1),i=xs(i,o,1),o=an(),i!==null&&(Ri(i,1,o),Pn(i,o))}function Qt(i,o,u){if(i.tag===3)ix(i,i,u);else for(;o!==null;){if(o.tag===3){ix(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ta===null||!Ta.has(m))){i=wt(u,i),i=uo(o,i,1),o=xs(o,i,1),i=an(),o!==null&&(Ri(o,1,i),Pn(o,i));break}}o=o.return}}function yk(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),o=an(),i.pingedLanes|=i.suspendedLanes&u,br===i&&(Ar&u)===u&&(hr===4||hr===3&&(Ar&130023424)===Ar&&500>At()-hg?Dl(i,0):dg|=u),Pn(i,o)}function sx(i,o){o===0&&((i.mode&1)===0?o=1:(o=Uo,Uo<<=1,(Uo&130023424)===0&&(Uo=4194304)));var u=an();i=Hi(i,o),i!==null&&(Ri(i,o,u),Pn(i,u))}function vk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),sx(i,u)}function _k(i,o){var u=0;switch(i.tag){case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),sx(i,u)}var ox;ox=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||zr.current)An=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return An=!1,ok(i,o,u);An=(i.flags&131072)!==0}else An=!1,Et&&(o.flags&1048576)!==0&&uh(o,zi,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Dh(i,o),i=o.pendingProps;var w=ca(o,dr.current);va(o,u),w=lf(null,o,m,i,w,u);var E=uf();return o.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,qr(m)?(E=!0,ku(o)):E=!1,o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,_a(o),w.updater=ie,o.stateNode=w,w._reactInternals=o,it(o,m,i,u),o=tg(null,o,m,!0,E,u)):(o.tag=0,Et&&E&&Xc(o),on(null,o,w,u),o=o.child),o;case 16:m=o.elementType;e:{switch(Dh(i,o),i=o.pendingProps,w=m._init,m=w(m._payload),o.type=m,w=o.tag=bk(m),i=G(m,i),w){case 0:o=eg(null,o,m,i,u);break e;case 1:o=Nb(null,o,m,i,u);break e;case 11:o=Ab(null,o,m,i,u);break e;case 14:o=Cb(null,o,m,G(m.type,i),u);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:G(m,w),eg(i,o,m,w,u);case 1:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:G(m,w),Nb(i,o,m,w,u);case 3:e:{if(Ob(o),i===null)throw Error(t(387));m=o.pendingProps,E=o.memoizedState,w=E.element,mh(i,o),Mu(o,m,null,u);var C=o.memoizedState;if(m=C.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){w=wt(Error(t(423)),o),o=jb(i,o,m,u,w);break e}else if(m!==w){w=wt(Error(t(424)),o),o=jb(i,o,m,u,w);break e}else for(sn=ms(o.stateNode.containerInfo.firstChild),_r=o,Et=!0,Hn=null,u=no(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ma(),m===w){o=fo(i,o,u);break e}on(i,o,m,u)}o=o.child}return o;case 5:return yh(o),i===null&&ws(o),m=o.type,w=o.pendingProps,E=i!==null?i.memoizedProps:null,C=w.children,oa(m,w)?C=null:E!==null&&oa(m,E)&&(o.flags|=32),Rb(i,o),on(i,o,C,u),o.child;case 6:return i===null&&ws(o),null;case 13:return Db(i,o,u);case 4:return nf(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=pa(o,null,m,u):on(i,o,m,u),o.child;case 11:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:G(m,w),Ab(i,o,m,w,u);case 7:return on(i,o,o.pendingProps,u),o.child;case 8:return on(i,o,o.pendingProps.children,u),o.child;case 12:return on(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,w=o.pendingProps,E=o.memoizedProps,C=w.value,Pt(Lu,m._currentValue),m._currentValue=C,E!==null)if(zn(E.value,C)){if(E.children===w.children&&!zr.current){o=fo(i,o,u);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var z=E.dependencies;if(z!==null){C=E.child;for(var K=z.firstContext;K!==null;){if(K.context===m){if(E.tag===1){K=$r(-1,u&-u),K.tag=2;var se=E.updateQueue;if(se!==null){se=se.shared;var ge=se.pending;ge===null?K.next=K:(K.next=ge.next,ge.next=K),se.pending=K}}E.lanes|=u,K=E.alternate,K!==null&&(K.lanes|=u),tf(E.return,u,o),z.lanes|=u;break}K=K.next}}else if(E.tag===10)C=E.type===o.type?null:E.child;else if(E.tag===18){if(C=E.return,C===null)throw Error(t(341));C.lanes|=u,z=C.alternate,z!==null&&(z.lanes|=u),tf(C,u,o),C=E.sibling}else C=E.child;if(C!==null)C.return=E;else for(C=E;C!==null;){if(C===o){C=null;break}if(E=C.sibling,E!==null){E.return=C.return,C=E;break}C=C.return}E=C}on(i,o,w.children,u),o=o.child}return o;case 9:return w=o.type,m=o.pendingProps.children,va(o,u),w=Tn(w),m=m(w),o.flags|=1,on(i,o,m,u),o.child;case 14:return m=o.type,w=G(m,o.pendingProps),w=G(m.type,w),Cb(i,o,m,w,u);case 15:return Pb(i,o,o.type,o.pendingProps,u);case 17:return m=o.type,w=o.pendingProps,w=o.elementType===m?w:G(m,w),Dh(i,o),o.tag=1,qr(m)?(i=!0,ku(o)):i=!1,va(o,u),Re(o,m,w),it(o,m,w,u),tg(null,o,m,!0,i,u);case 19:return Mb(i,o,u);case 22:return kb(i,o,u)}throw Error(t(156,o.tag))};function ax(i,o){return Zn(i,o)}function wk(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(i,o,u,m){return new wk(i,o,u,m)}function bg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bk(i){if(typeof i=="function")return bg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===H)return 11;if(i===st)return 14}return 2}function Ca(i,o){var u=i.alternate;return u===null?(u=_i(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Wh(i,o,u,m,w,E){var C=2;if(m=i,typeof i=="function")bg(i)&&(C=1);else if(typeof i=="string")C=5;else e:switch(i){case M:return Ml(u.children,w,E,o);case R:C=8,w|=8;break;case V:return i=_i(12,u,o,w|2),i.elementType=V,i.lanes=E,i;case U:return i=_i(13,u,o,w),i.elementType=U,i.lanes=E,i;case Ue:return i=_i(19,u,o,w),i.elementType=Ue,i.lanes=E,i;case We:return Gh(u,w,E,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:C=10;break e;case q:C=9;break e;case H:C=11;break e;case st:C=14;break e;case ot:C=16,m=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=_i(C,u,o,w),o.elementType=i,o.type=m,o.lanes=E,o}function Ml(i,o,u,m){return i=_i(7,i,m,o),i.lanes=u,i}function Gh(i,o,u,m){return i=_i(22,i,m,o),i.elementType=We,i.lanes=u,i.stateNode={isHidden:!1},i}function xg(i,o,u){return i=_i(6,i,null,o),i.lanes=u,i}function Eg(i,o,u){return o=_i(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function xk(i,o,u,m,w){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ls(0),this.expirationTimes=ls(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.identifierPrefix=m,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Tg(i,o,u,m,w,E,C,z,K){return i=new xk(i,o,u,z,K),o===1?(o=1,E===!0&&(o|=8)):o=0,E=_i(3,null,null,o),i.current=E,E.stateNode=i,E.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(E),i}function Ek(i,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:m==null?null:""+m,children:i,containerInfo:o,implementation:u}}function lx(i){if(!i)return ys;i=i._reactInternals;e:{if(vn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(qr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(qr(u))return oh(i,u,o)}return o}function ux(i,o,u,m,w,E,C,z,K){return i=Tg(u,m,!0,i,w,E,C,z,K),i.context=lx(null),u=i.current,m=an(),w=Ia(u),E=$r(m,w),E.callback=o??null,xs(u,E,w),i.current.lanes=w,Ri(i,w,m),Pn(i,m),i}function Kh(i,o,u,m){var w=o.current,E=an(),C=Ia(w);return u=lx(u),o.context===null?o.context=u:o.pendingContext=u,o=$r(E,C),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=xs(w,o,C),i!==null&&(Qi(i,w,C,E),wa(i,w,C)),C}function Qh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Sg(i,o){cx(i,o),(i=i.alternate)&&cx(i,o)}function Tk(){return null}var fx=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ig(i){this._internalRoot=i}Yh.prototype.render=Ig.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Kh(i,o,null,null)},Yh.prototype.unmount=Ig.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;jl(function(){Kh(null,i,null,null)}),o[Ui]=null}};function Yh(i){this._internalRoot=i}Yh.prototype.unstable_scheduleHydration=function(i){if(i){var o=cs();i={blockedOn:null,target:i,priority:o};for(var u=0;u<si.length&&o!==0&&o<si[u].priority;u++);si.splice(u,0,i),u===0&&hu(i)}};function Ag(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Xh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function dx(){}function Sk(i,o,u,m,w){if(w){if(typeof m=="function"){var E=m;m=function(){var se=Qh(C);E.call(se)}}var C=ux(o,m,i,0,null,!1,!1,"",dx);return i._reactRootContainer=C,i[Ui]=C.current,Fi(i.nodeType===8?i.parentNode:i),jl(),C}for(;w=i.lastChild;)i.removeChild(w);if(typeof m=="function"){var z=m;m=function(){var se=Qh(K);z.call(se)}}var K=Tg(i,0,!1,null,null,!1,!1,"",dx);return i._reactRootContainer=K,i[Ui]=K.current,Fi(i.nodeType===8?i.parentNode:i),jl(function(){Kh(o,K,u,m)}),K}function Jh(i,o,u,m,w){var E=u._reactRootContainer;if(E){var C=E;if(typeof w=="function"){var z=w;w=function(){var K=Qh(C);z.call(K)}}Kh(o,C,i,w)}else C=Sk(u,o,i,w,m);return Qh(C)}al=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=wn(o.pendingLanes);u!==0&&(jr(o,u|1),Pn(o,At()),(vt&6)===0&&(Ku=At()+500,vs()))}break;case 13:jl(function(){var m=Hi(i,1);if(m!==null){var w=an();Qi(m,i,1,w)}}),Sg(i,1)}},zs=function(i){if(i.tag===13){var o=Hi(i,134217728);if(o!==null){var u=an();Qi(o,i,134217728,u)}Sg(i,134217728)}},ll=function(i){if(i.tag===13){var o=Ia(i),u=Hi(i,o);if(u!==null){var m=an();Qi(u,i,o,m)}Sg(i,o)}},cs=function(){return ct},fu=function(i,o){var u=ct;try{return ct=i,o()}finally{ct=u}},Fs=function(i,o,u){switch(o){case"input":if(tt(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var w=Cu(m);if(!w)throw Error(t(90));jn(m),tt(m,w)}}}break;case"textarea":be(i,u);break;case"select":o=u.value,o!=null&&Z(i,!!u.multiple,o,!1)}},Ii=vg,Us=jl;var Ik={usingClientEntryPoint:!1,Events:[la,ua,Cu,pn,Oo,vg]},Ef={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ak={bundleType:Ef.bundleType,version:Ef.version,rendererPackageName:Ef.rendererPackageName,rendererConfig:Ef.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Do(i),i===null?null:i.stateNode},findFiberByHostInstance:Ef.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{ti=Zh.inject(Ak),Nr=Zh}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik,kn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ag(o))throw Error(t(200));return Ek(i,o,null,u)},kn.createRoot=function(i,o){if(!Ag(i))throw Error(t(299));var u=!1,m="",w=fx;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=Tg(i,1,!1,null,null,u,!1,m,w),i[Ui]=o.current,Fi(i.nodeType===8?i.parentNode:i),new Ig(o)},kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Do(o),i=i===null?null:i.stateNode,i},kn.flushSync=function(i){return jl(i)},kn.hydrate=function(i,o,u){if(!Xh(o))throw Error(t(200));return Jh(null,i,o,!0,u)},kn.hydrateRoot=function(i,o,u){if(!Ag(i))throw Error(t(405));var m=u!=null&&u.hydratedSources||null,w=!1,E="",C=fx;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),o=ux(o,null,i,1,u??null,w,!1,E,C),i[Ui]=o.current,Fi(i),m)for(i=0;i<m.length;i++)u=m[i],w=u._getVersion,w=w(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,w]:o.mutableSourceEagerHydrationData.push(u,w);return new Yh(o)},kn.render=function(i,o,u){if(!Xh(o))throw Error(t(200));return Jh(null,i,o,!1,u)},kn.unmountComponentAtNode=function(i){if(!Xh(i))throw Error(t(40));return i._reactRootContainer?(jl(function(){Jh(null,null,i,!1,function(){i._reactRootContainer=null,i[Ui]=null})}),!0):!1},kn.unstable_batchedUpdates=vg,kn.unstable_renderSubtreeIntoContainer=function(i,o,u,m){if(!Xh(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Jh(i,o,u,!1,m)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var wx;function nI(){if(wx)return kg.exports;wx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kg.exports=Fk(),kg.exports}var bx;function Vk(){if(bx)return tm;bx=1;var r=nI();return tm.createRoot=r.createRoot,tm.hydrateRoot=r.hydrateRoot,tm}var Uk=Vk();nI();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Qf.apply(this,arguments)}var Fa;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Fa||(Fa={}));const xx="popstate";function Bk(r){r===void 0&&(r={});function e(n,s){let{pathname:a,search:l,hash:f}=n.location;return d_("",{pathname:a,search:l,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Am(s)}return qk(e,t,null,r)}function qt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function iI(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zk(){return Math.random().toString(36).substr(2,8)}function Ex(r,e){return{usr:r.state,key:r.key,idx:e}}function d_(r,e,t,n){return t===void 0&&(t=null),Qf({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?bc(e):e,{state:t,key:e&&e.key||n||zk()})}function Am(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function qk(r,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,f=Fa.Pop,p=null,_=b();_==null&&(_=0,l.replaceState(Qf({},l.state,{idx:_}),""));function b(){return(l.state||{idx:null}).idx}function T(){f=Fa.Pop;let D=b(),J=D==null?null:D-_;_=D,p&&p({action:f,location:F.location,delta:J})}function A(D,J){f=Fa.Push;let B=d_(F.location,D,J);_=b()+1;let k=Ex(B,_),Q=F.createHref(B);try{l.pushState(k,"",Q)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(Q)}a&&p&&p({action:f,location:F.location,delta:1})}function O(D,J){f=Fa.Replace;let B=d_(F.location,D,J);_=b();let k=Ex(B,_),Q=F.createHref(B);l.replaceState(k,"",Q),a&&p&&p({action:f,location:F.location,delta:0})}function j(D){let J=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof D=="string"?D:Am(D);return B=B.replace(/ $/,"%20"),qt(J,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,J)}let F={get action(){return f},get location(){return r(s,l)},listen(D){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(xx,T),p=D,()=>{s.removeEventListener(xx,T),p=null}},createHref(D){return e(s,D)},createURL:j,encodeLocation(D){let J=j(D);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:A,replace:O,go(D){return l.go(D)}};return F}var Tx;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Tx||(Tx={}));function $k(r,e,t){return t===void 0&&(t="/"),Hk(r,e,t)}function Hk(r,e,t,n){let s=typeof e=="string"?bc(e):e,a=fc(s.pathname||"/",t);if(a==null)return null;let l=sI(r);Wk(l);let f=null;for(let p=0;f==null&&p<l.length;++p){let _=nR(a);f=tR(l[p],_)}return f}function sI(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(a,l,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};p.relativePath.startsWith("/")&&(qt(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let _=Ua([n,p.relativePath]),b=t.concat(p);a.children&&a.children.length>0&&(qt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),sI(a.children,e,b,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:Zk(_,a.index),routesMeta:b})};return r.forEach((a,l)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,l);else for(let p of oI(a.path))s(a,l,p)}),e}function oI(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=oI(n.join("/")),f=[];return f.push(...l.map(p=>p===""?a:[a,p].join("/"))),s&&f.push(...l),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function Wk(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:eR(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Gk=/^:[\w-]+$/,Kk=3,Qk=2,Yk=1,Xk=10,Jk=-2,Sx=r=>r==="*";function Zk(r,e){let t=r.split("/"),n=t.length;return t.some(Sx)&&(n+=Jk),e&&(n+=Qk),t.filter(s=>!Sx(s)).reduce((s,a)=>s+(Gk.test(a)?Kk:a===""?Yk:Xk),n)}function eR(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function tR(r,e,t){let{routesMeta:n}=r,s={},a="/",l=[];for(let f=0;f<n.length;++f){let p=n[f],_=f===n.length-1,b=a==="/"?e:e.slice(a.length)||"/",T=h_({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},b),A=p.route;if(!T)return null;Object.assign(s,T.params),l.push({params:s,pathname:Ua([a,T.pathname]),pathnameBase:aR(Ua([a,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(a=Ua([a,T.pathnameBase]))}return l}function h_(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=rR(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:n.reduce((_,b,T)=>{let{paramName:A,isOptional:O}=b;if(A==="*"){let F=f[T]||"";l=a.slice(0,a.length-F.length).replace(/(.)\/+$/,"$1")}const j=f[T];return O&&!j?_[A]=void 0:_[A]=(j||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:l,pattern:r}}function rR(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),iI(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function nR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iI(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function fc(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function iR(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?bc(r):r;return{pathname:t?t.startsWith("/")?t:sR(t,e):e,search:lR(n),hash:uR(s)}}function sR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Og(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iw(r,e){let t=oR(r);return e?t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function sw(r,e,t,n){n===void 0&&(n=!1);let s;typeof r=="string"?s=bc(r):(s=Qf({},r),qt(!s.pathname||!s.pathname.includes("?"),Og("?","pathname","search",s)),qt(!s.pathname||!s.pathname.includes("#"),Og("#","pathname","hash",s)),qt(!s.search||!s.search.includes("#"),Og("#","search","hash",s)));let a=r===""||s.pathname==="",l=a?"/":s.pathname,f;if(l==null)f=t;else{let T=e.length-1;if(!n&&l.startsWith("..")){let A=l.split("/");for(;A[0]==="..";)A.shift(),T-=1;s.pathname=A.join("/")}f=T>=0?e[T]:"/"}let p=iR(s,f),_=l&&l!=="/"&&l.endsWith("/"),b=(a||l===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||b)&&(p.pathname+="/"),p}const Ua=r=>r.join("/").replace(/\/\/+/g,"/"),aR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function cR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const aI=["post","put","patch","delete"];new Set(aI);const fR=["get",...aI];new Set(fR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yf(){return Yf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Yf.apply(this,arguments)}const tp=L.createContext(null),lI=L.createContext(null),Po=L.createContext(null),rp=L.createContext(null),Os=L.createContext({outlet:null,matches:[],isDataRoute:!1}),uI=L.createContext(null);function dR(r,e){let{relative:t}=e===void 0?{}:e;xc()||qt(!1);let{basename:n,navigator:s}=L.useContext(Po),{hash:a,pathname:l,search:f}=np(r,{relative:t}),p=l;return n!=="/"&&(p=l==="/"?n:Ua([n,l])),s.createHref({pathname:p,search:f,hash:a})}function xc(){return L.useContext(rp)!=null}function ko(){return xc()||qt(!1),L.useContext(rp).location}function cI(r){L.useContext(Po).static||L.useLayoutEffect(r)}function Ec(){let{isDataRoute:r}=L.useContext(Os);return r?CR():hR()}function hR(){xc()||qt(!1);let r=L.useContext(tp),{basename:e,future:t,navigator:n}=L.useContext(Po),{matches:s}=L.useContext(Os),{pathname:a}=ko(),l=JSON.stringify(iw(s,t.v7_relativeSplatPath)),f=L.useRef(!1);return cI(()=>{f.current=!0}),L.useCallback(function(_,b){if(b===void 0&&(b={}),!f.current)return;if(typeof _=="number"){n.go(_);return}let T=sw(_,JSON.parse(l),a,b.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ua([e,T.pathname])),(b.replace?n.replace:n.push)(T,b.state,b)},[e,n,l,a,r])}const mR=L.createContext(null);function pR(r){let e=L.useContext(Os).outlet;return e&&L.createElement(mR.Provider,{value:r},e)}function gR(){let{matches:r}=L.useContext(Os),e=r[r.length-1];return e?e.params:{}}function np(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=L.useContext(Po),{matches:s}=L.useContext(Os),{pathname:a}=ko(),l=JSON.stringify(iw(s,n.v7_relativeSplatPath));return L.useMemo(()=>sw(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function yR(r,e){return vR(r,e)}function vR(r,e,t,n){xc()||qt(!1);let{navigator:s}=L.useContext(Po),{matches:a}=L.useContext(Os),l=a[a.length-1],f=l?l.params:{};l&&l.pathname;let p=l?l.pathnameBase:"/";l&&l.route;let _=ko(),b;if(e){var T;let D=typeof e=="string"?bc(e):e;p==="/"||(T=D.pathname)!=null&&T.startsWith(p)||qt(!1),b=D}else b=_;let A=b.pathname||"/",O=A;if(p!=="/"){let D=p.replace(/^\//,"").split("/");O="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let j=$k(r,{pathname:O}),F=ER(j&&j.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:Ua([p,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Ua([p,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,n);return e&&F?L.createElement(rp.Provider,{value:{location:Yf({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Fa.Pop}},F):F}function _R(){let r=AR(),e=cR(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,null)}const wR=L.createElement(_R,null);class bR extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Os.Provider,{value:this.props.routeContext},L.createElement(uI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xR(r){let{routeContext:e,match:t,children:n}=r,s=L.useContext(tp);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Os.Provider,{value:e},n)}function ER(r,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,f=(s=t)==null?void 0:s.errors;if(f!=null){let b=l.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);b>=0||qt(!1),l=l.slice(0,Math.min(l.length,b+1))}let p=!1,_=-1;if(t&&n&&n.v7_partialHydration)for(let b=0;b<l.length;b++){let T=l[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=b),T.route.id){let{loaderData:A,errors:O}=t,j=T.route.loader&&A[T.route.id]===void 0&&(!O||O[T.route.id]===void 0);if(T.route.lazy||j){p=!0,_>=0?l=l.slice(0,_+1):l=[l[0]];break}}}return l.reduceRight((b,T,A)=>{let O,j=!1,F=null,D=null;t&&(O=f&&T.route.id?f[T.route.id]:void 0,F=T.route.errorElement||wR,p&&(_<0&&A===0?(PR("route-fallback"),j=!0,D=null):_===A&&(j=!0,D=T.route.hydrateFallbackElement||null)));let J=e.concat(l.slice(0,A+1)),B=()=>{let k;return O?k=F:j?k=D:T.route.Component?k=L.createElement(T.route.Component,null):T.route.element?k=T.route.element:k=b,L.createElement(xR,{match:T,routeContext:{outlet:b,matches:J,isDataRoute:t!=null},children:k})};return t&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?L.createElement(bR,{location:t.location,revalidation:t.revalidation,component:F,error:O,children:B(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):B()},null)}var fI=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(fI||{}),dI=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(dI||{});function TR(r){let e=L.useContext(tp);return e||qt(!1),e}function SR(r){let e=L.useContext(lI);return e||qt(!1),e}function IR(r){let e=L.useContext(Os);return e||qt(!1),e}function hI(r){let e=IR(),t=e.matches[e.matches.length-1];return t.route.id||qt(!1),t.route.id}function AR(){var r;let e=L.useContext(uI),t=SR(),n=hI();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function CR(){let{router:r}=TR(fI.UseNavigateStable),e=hI(dI.UseNavigateStable),t=L.useRef(!1);return cI(()=>{t.current=!0}),L.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,Yf({fromRouteId:e},a)))},[r,e])}const Ix={};function PR(r,e,t){Ix[r]||(Ix[r]=!0)}function kR(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function mI(r){let{to:e,replace:t,state:n,relative:s}=r;xc()||qt(!1);let{future:a,static:l}=L.useContext(Po),{matches:f}=L.useContext(Os),{pathname:p}=ko(),_=Ec(),b=sw(e,iw(f,a.v7_relativeSplatPath),p,s==="path"),T=JSON.stringify(b);return L.useEffect(()=>_(JSON.parse(T),{replace:t,state:n,relative:s}),[_,T,s,t,n]),null}function RR(r){return pR(r.context)}function Er(r){qt(!1)}function NR(r){let{basename:e="/",children:t=null,location:n,navigationType:s=Fa.Pop,navigator:a,static:l=!1,future:f}=r;xc()&&qt(!1);let p=e.replace(/^\/*/,"/"),_=L.useMemo(()=>({basename:p,navigator:a,static:l,future:Yf({v7_relativeSplatPath:!1},f)}),[p,f,a,l]);typeof n=="string"&&(n=bc(n));let{pathname:b="/",search:T="",hash:A="",state:O=null,key:j="default"}=n,F=L.useMemo(()=>{let D=fc(b,p);return D==null?null:{location:{pathname:D,search:T,hash:A,state:O,key:j},navigationType:s}},[p,b,T,A,O,j,s]);return F==null?null:L.createElement(Po.Provider,{value:_},L.createElement(rp.Provider,{children:t,value:F}))}function pI(r){let{children:e,location:t}=r;return yR(m_(e),t)}new Promise(()=>{});function m_(r,e){e===void 0&&(e=[]);let t=[];return L.Children.forEach(r,(n,s)=>{if(!L.isValidElement(n))return;let a=[...e,s];if(n.type===L.Fragment){t.push.apply(t,m_(n.props.children,a));return}n.type!==Er&&qt(!1),!n.props.index||!n.props.children||qt(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=m_(n.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Cm.apply(this,arguments)}function gI(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function OR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jR(r,e){return r.button===0&&(!e||e==="_self")&&!OR(r)}const DR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],MR="6";try{window.__reactRouterVersion=MR}catch{}const FR=L.createContext({isTransitioning:!1}),VR="startTransition",Ax=Dk[VR];function UR(r){let{basename:e,children:t,future:n,window:s}=r,a=L.useRef();a.current==null&&(a.current=Bk({window:s,v5Compat:!0}));let l=a.current,[f,p]=L.useState({action:l.action,location:l.location}),{v7_startTransition:_}=n||{},b=L.useCallback(T=>{_&&Ax?Ax(()=>p(T)):p(T)},[p,_]);return L.useLayoutEffect(()=>l.listen(b),[l,b]),L.useEffect(()=>kR(n),[n]),L.createElement(NR,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:l,future:n})}const BR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kt=L.forwardRef(function(e,t){let{onClick:n,relative:s,reloadDocument:a,replace:l,state:f,target:p,to:_,preventScrollReset:b,viewTransition:T}=e,A=gI(e,DR),{basename:O}=L.useContext(Po),j,F=!1;if(typeof _=="string"&&zR.test(_)&&(j=_,BR))try{let k=new URL(window.location.href),Q=_.startsWith("//")?new URL(k.protocol+_):new URL(_),Y=fc(Q.pathname,O);Q.origin===k.origin&&Y!=null?_=Y+Q.search+Q.hash:F=!0}catch{}let D=dR(_,{relative:s}),J=$R(_,{replace:l,state:f,target:p,preventScrollReset:b,relative:s,viewTransition:T});function B(k){n&&n(k),k.defaultPrevented||J(k)}return L.createElement("a",Cm({},A,{href:j||D,onClick:F||a?n:B,ref:t,target:p}))}),hm=L.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:l=!1,style:f,to:p,viewTransition:_,children:b}=e,T=gI(e,LR),A=np(p,{relative:T.relative}),O=ko(),j=L.useContext(lI),{navigator:F,basename:D}=L.useContext(Po),J=j!=null&&HR(A)&&_===!0,B=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,k=O.pathname,Q=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(k=k.toLowerCase(),Q=Q?Q.toLowerCase():null,B=B.toLowerCase()),Q&&D&&(Q=fc(Q,D)||Q);const Y=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ce=k===B||!l&&k.startsWith(B)&&k.charAt(Y)==="/",M=Q!=null&&(Q===B||!l&&Q.startsWith(B)&&Q.charAt(B.length)==="/"),R={isActive:ce,isPending:M,isTransitioning:J},V=ce?n:void 0,$;typeof a=="function"?$=a(R):$=[a,ce?"active":null,M?"pending":null,J?"transitioning":null].filter(Boolean).join(" ");let q=typeof f=="function"?f(R):f;return L.createElement(kt,Cm({},T,{"aria-current":V,className:$,ref:t,style:q,to:p,viewTransition:_}),typeof b=="function"?b(R):b)});var p_;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(p_||(p_={}));var Cx;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Cx||(Cx={}));function qR(r){let e=L.useContext(tp);return e||qt(!1),e}function $R(r,e){let{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:f}=e===void 0?{}:e,p=Ec(),_=ko(),b=np(r,{relative:l});return L.useCallback(T=>{if(jR(T,t)){T.preventDefault();let A=n!==void 0?n:Am(_)===Am(b);p(r,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:f})}},[_,p,b,n,s,t,r,a,l,f])}function HR(r,e){e===void 0&&(e={});let t=L.useContext(FR);t==null&&qt(!1);let{basename:n}=qR(p_.useViewTransitionState),s=np(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=fc(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=fc(t.nextLocation.pathname,n)||t.nextLocation.pathname;return h_(s.pathname,l)!=null||h_(s.pathname,a)!=null}var jg,Px;function WR(){if(Px)return jg;Px=1;var r=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var f,p,_;if(Array.isArray(a)){if(f=a.length,f!=l.length)return!1;for(p=f;p--!==0;)if(!s(a[p],l[p]))return!1;return!0}var b;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(b=a.entries();!(p=b.next()).done;)if(!l.has(p.value[0]))return!1;for(b=a.entries();!(p=b.next()).done;)if(!s(p.value[1],l.get(p.value[0])))return!1;return!0}if(t&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(b=a.entries();!(p=b.next()).done;)if(!l.has(p.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(f=a.length,f!=l.length)return!1;for(p=f;p--!==0;)if(a[p]!==l[p])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(_=Object.keys(a),f=_.length,f!==Object.keys(l).length)return!1;for(p=f;p--!==0;)if(!Object.prototype.hasOwnProperty.call(l,_[p]))return!1;if(r&&a instanceof Element)return!1;for(p=f;p--!==0;)if(!((_[p]==="_owner"||_[p]==="__v"||_[p]==="__o")&&a.$$typeof)&&!s(a[_[p]],l[_[p]]))return!1;return!0}return a!==a&&l!==l}return jg=function(l,f){try{return s(l,f)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},jg}var GR=WR();const KR=fd(GR);var Dg,kx;function QR(){if(kx)return Dg;kx=1;var r=function(e,t,n,s,a,l,f,p){if(!e){var _;if(t===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[n,s,a,l,f,p],T=0;_=new Error(t.replace(/%s/g,function(){return b[T++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return Dg=r,Dg}var YR=QR();const Rx=fd(YR);var Lg,Nx;function XR(){return Nx||(Nx=1,Lg=function(e,t,n,s){var a=n?n.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),f=Object.keys(t);if(l.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(t),_=0;_<l.length;_++){var b=l[_];if(!p(b))return!1;var T=e[b],A=t[b];if(a=n?n.call(s,T,A,b):void 0,a===!1||a===void 0&&T!==A)return!1}return!0}),Lg}var JR=XR();const ZR=fd(JR);var yI=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(yI||{}),Mg={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Ox=Object.values(yI),ow={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},eN=Object.entries(ow).reduce((r,[e,t])=>(r[t]=e,r),{}),Ji="data-rh",nc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ic=(r,e)=>{for(let t=r.length-1;t>=0;t-=1){const n=r[t];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return null},tN=r=>{let e=ic(r,"title");const t=ic(r,nc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const n=ic(r,nc.DEFAULT_TITLE);return e||n||void 0},rN=r=>ic(r,nc.ON_CHANGE_CLIENT_STATE)||(()=>{}),Fg=(r,e)=>e.filter(t=>typeof t[r]<"u").map(t=>t[r]).reduce((t,n)=>({...t,...n}),{}),nN=(r,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,n)=>{if(!t.length){const s=Object.keys(n);for(let a=0;a<s.length;a+=1){const f=s[a].toLowerCase();if(r.indexOf(f)!==-1&&n[f])return t.concat(n)}}return t},[]),iN=r=>console&&typeof console.warn=="function"&&console.warn(r),Sf=(r,e,t)=>{const n={};return t.filter(s=>Array.isArray(s[r])?!0:(typeof s[r]<"u"&&iN(`Helmet: ${r} should be of type "Array". Instead found type "${typeof s[r]}"`),!1)).map(s=>s[r]).reverse().reduce((s,a)=>{const l={};a.filter(p=>{let _;const b=Object.keys(p);for(let A=0;A<b.length;A+=1){const O=b[A],j=O.toLowerCase();e.indexOf(j)!==-1&&!(_==="rel"&&p[_].toLowerCase()==="canonical")&&!(j==="rel"&&p[j].toLowerCase()==="stylesheet")&&(_=j),e.indexOf(O)!==-1&&(O==="innerHTML"||O==="cssText"||O==="itemprop")&&(_=O)}if(!_||!p[_])return!1;const T=p[_].toLowerCase();return n[_]||(n[_]={}),l[_]||(l[_]={}),n[_][T]?!1:(l[_][T]=!0,!0)}).reverse().forEach(p=>s.push(p));const f=Object.keys(l);for(let p=0;p<f.length;p+=1){const _=f[p],b={...n[_],...l[_]};n[_]=b}return s},[]).reverse()},sN=(r,e)=>{if(Array.isArray(r)&&r.length){for(let t=0;t<r.length;t+=1)if(r[t][e])return!0}return!1},oN=r=>({baseTag:nN(["href"],r),bodyAttributes:Fg("bodyAttributes",r),defer:ic(r,nc.DEFER),encode:ic(r,nc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Fg("htmlAttributes",r),linkTags:Sf("link",["rel","href"],r),metaTags:Sf("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Sf("noscript",["innerHTML"],r),onChangeClientState:rN(r),scriptTags:Sf("script",["src","innerHTML"],r),styleTags:Sf("style",["cssText"],r),title:tN(r),titleAttributes:Fg("titleAttributes",r),prioritizeSeoTags:sN(r,nc.PRIORITIZE_SEO_TAGS)}),vI=r=>Array.isArray(r)?r.join(""):r,aN=(r,e)=>{const t=Object.keys(r);for(let n=0;n<t.length;n+=1)if(e[t[n]]&&e[t[n]].includes(r[t[n]]))return!0;return!1},Vg=(r,e)=>Array.isArray(r)?r.reduce((t,n)=>(aN(n,e)?t.priority.push(n):t.default.push(n),t),{priority:[],default:[]}):{default:r,priority:[]},jx=(r,e)=>({...r,[e]:void 0}),lN=["noscript","script","style"],g_=(r,e=!0)=>e===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),_I=r=>Object.keys(r).reduce((e,t)=>{const n=typeof r[t]<"u"?`${t}="${r[t]}"`:`${t}`;return e?`${e} ${n}`:n},""),uN=(r,e,t,n)=>{const s=_I(t),a=vI(e);return s?`<${r} ${Ji}="true" ${s}>${g_(a,n)}</${r}>`:`<${r} ${Ji}="true">${g_(a,n)}</${r}>`},cN=(r,e,t=!0)=>e.reduce((n,s)=>{const a=s,l=Object.keys(a).filter(_=>!(_==="innerHTML"||_==="cssText")).reduce((_,b)=>{const T=typeof a[b]>"u"?b:`${b}="${g_(a[b],t)}"`;return _?`${_} ${T}`:T},""),f=a.innerHTML||a.cssText||"",p=lN.indexOf(r)===-1;return`${n}<${r} ${Ji}="true" ${l}${p?"/>":`>${f}</${r}>`}`},""),wI=(r,e={})=>Object.keys(r).reduce((t,n)=>{const s=ow[n];return t[s||n]=r[n],t},e),fN=(r,e,t)=>{const n={key:e,[Ji]:!0},s=wI(t,n);return[Fe.createElement("title",s,e)]},mm=(r,e)=>e.map((t,n)=>{const s={key:n,[Ji]:!0};return Object.keys(t).forEach(a=>{const f=ow[a]||a;if(f==="innerHTML"||f==="cssText"){const p=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:p}}else s[f]=t[a]}),Fe.createElement(r,s)}),wi=(r,e,t=!0)=>{switch(r){case"title":return{toComponent:()=>fN(r,e.title,e.titleAttributes),toString:()=>uN(r,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>wI(e),toString:()=>_I(e)};default:return{toComponent:()=>mm(r,e),toString:()=>cN(r,e,t)}}},dN=({metaTags:r,linkTags:e,scriptTags:t,encode:n})=>{const s=Vg(r,Mg.meta),a=Vg(e,Mg.link),l=Vg(t,Mg.script);return{priorityMethods:{toComponent:()=>[...mm("meta",s.priority),...mm("link",a.priority),...mm("script",l.priority)],toString:()=>`${wi("meta",s.priority,n)} ${wi("link",a.priority,n)} ${wi("script",l.priority,n)}`},metaTags:s.default,linkTags:a.default,scriptTags:l.default}},hN=r=>{const{baseTag:e,bodyAttributes:t,encode:n=!0,htmlAttributes:s,noscriptTags:a,styleTags:l,title:f="",titleAttributes:p,prioritizeSeoTags:_}=r;let{linkTags:b,metaTags:T,scriptTags:A}=r,O={toComponent:()=>{},toString:()=>""};return _&&({priorityMethods:O,linkTags:b,metaTags:T,scriptTags:A}=dN(r)),{priority:O,base:wi("base",e,n),bodyAttributes:wi("bodyAttributes",t,n),htmlAttributes:wi("htmlAttributes",s,n),link:wi("link",b,n),meta:wi("meta",T,n),noscript:wi("noscript",a,n),script:wi("script",A,n),style:wi("style",l,n),title:wi("title",{title:f,titleAttributes:p},n)}},y_=hN,rm=[],bI=!!(typeof window<"u"&&window.document&&window.document.createElement),v_=class{constructor(r,e){mo(this,"instances",[]);mo(this,"canUseDOM",bI);mo(this,"context");mo(this,"value",{setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?rm:this.instances,add:r=>{(this.canUseDOM?rm:this.instances).push(r)},remove:r=>{const e=(this.canUseDOM?rm:this.instances).indexOf(r);(this.canUseDOM?rm:this.instances).splice(e,1)}}});this.context=r,this.canUseDOM=e||!1,e||(r.helmet=y_({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},mN={},xI=Fe.createContext(mN),$l,EI=($l=class extends L.Component{constructor(t){super(t);mo(this,"helmetData");this.helmetData=new v_(this.props.context||{},$l.canUseDOM)}render(){return Fe.createElement(xI.Provider,{value:this.helmetData.value},this.props.children)}},mo($l,"canUseDOM",bI),$l),Yu=(r,e)=>{const t=document.head||document.querySelector("head"),n=t.querySelectorAll(`${r}[${Ji}]`),s=[].slice.call(n),a=[];let l;return e&&e.length&&e.forEach(f=>{const p=document.createElement(r);for(const _ in f)if(Object.prototype.hasOwnProperty.call(f,_))if(_==="innerHTML")p.innerHTML=f.innerHTML;else if(_==="cssText")p.styleSheet?p.styleSheet.cssText=f.cssText:p.appendChild(document.createTextNode(f.cssText));else{const b=_,T=typeof f[b]>"u"?"":f[b];p.setAttribute(_,T)}p.setAttribute(Ji,"true"),s.some((_,b)=>(l=b,p.isEqualNode(_)))?s.splice(l,1):a.push(p)}),s.forEach(f=>{var p;return(p=f.parentNode)==null?void 0:p.removeChild(f)}),a.forEach(f=>t.appendChild(f)),{oldTags:s,newTags:a}},__=(r,e)=>{const t=document.getElementsByTagName(r)[0];if(!t)return;const n=t.getAttribute(Ji),s=n?n.split(","):[],a=[...s],l=Object.keys(e);for(const f of l){const p=e[f]||"";t.getAttribute(f)!==p&&t.setAttribute(f,p),s.indexOf(f)===-1&&s.push(f);const _=a.indexOf(f);_!==-1&&a.splice(_,1)}for(let f=a.length-1;f>=0;f-=1)t.removeAttribute(a[f]);s.length===a.length?t.removeAttribute(Ji):t.getAttribute(Ji)!==l.join(",")&&t.setAttribute(Ji,l.join(","))},pN=(r,e)=>{typeof r<"u"&&document.title!==r&&(document.title=vI(r)),__("title",e)},Dx=(r,e)=>{const{baseTag:t,bodyAttributes:n,htmlAttributes:s,linkTags:a,metaTags:l,noscriptTags:f,onChangeClientState:p,scriptTags:_,styleTags:b,title:T,titleAttributes:A}=r;__("body",n),__("html",s),pN(T,A);const O={baseTag:Yu("base",t),linkTags:Yu("link",a),metaTags:Yu("meta",l),noscriptTags:Yu("noscript",f),scriptTags:Yu("script",_),styleTags:Yu("style",b)},j={},F={};Object.keys(O).forEach(D=>{const{newTags:J,oldTags:B}=O[D];J.length&&(j[D]=J),B.length&&(F[D]=O[D].oldTags)}),e&&e(),p(r,j,F)},If=null,gN=r=>{If&&cancelAnimationFrame(If),r.defer?If=requestAnimationFrame(()=>{Dx(r,()=>{If=null})}):(Dx(r),If=null)},yN=gN,Lx=class extends L.Component{constructor(){super(...arguments);mo(this,"rendered",!1)}shouldComponentUpdate(e){return!ZR(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const s=oN(e.get().map(a=>{const l={...a.props};return delete l.context,l}));EI.canUseDOM?yN(s):y_&&(n=y_(s)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},f_,TI=(f_=class extends L.Component{shouldComponentUpdate(r){return!KR(jx(this.props,"helmetData"),jx(r,"helmetData"))}mapNestedChildrenToProps(r,e){if(!e)return null;switch(r.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${r.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(r,e,t,n){return{...e,[r.type]:[...e[r.type]||[],{...t,...this.mapNestedChildrenToProps(r,n)}]}}mapObjectTypeChildren(r,e,t,n){switch(r.type){case"title":return{...e,[r.type]:n,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[r.type]:{...t}}}}mapArrayTypeChildrenToProps(r,e){let t={...e};return Object.keys(r).forEach(n=>{t={...t,[n]:r[n]}}),t}warnOnInvalidChildren(r,e){return Rx(Ox.some(t=>r.type===t),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Ox.join(", ")} are allowed. Helmet does not support rendering <${r.type}> elements. Refer to our API for more information.`),Rx(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${r.type}>. Did you forget to wrap your children in braces? ( <${r.type}>{\`\`}</${r.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(r,e){let t={};return Fe.Children.forEach(r,n=>{if(!n||!n.props)return;const{children:s,...a}=n.props,l=Object.keys(a).reduce((p,_)=>(p[eN[_]||_]=a[_],p),{});let{type:f}=n;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(n,s),f){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(n,t,l,s);break;default:e=this.mapObjectTypeChildren(n,e,l,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:r,...e}=this.props;let t={...e},{helmetData:n}=e;if(r&&(t=this.mapChildrenToProps(r,t)),n&&!(n instanceof v_)){const s=n;n=new v_(s.context,!0),delete t.helmetData}return n?Fe.createElement(Lx,{...t,context:n.value}):Fe.createElement(xI.Consumer,null,s=>Fe.createElement(Lx,{...t,context:s}))}},mo(f_,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),f_),Mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},vN=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=r[t++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=r[t++],l=r[t++],f=r[t++],p=((s&7)<<18|(a&63)<<12|(l&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},II={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const a=r[s],l=s+1<r.length,f=l?r[s+1]:0,p=s+2<r.length,_=p?r[s+2]:0,b=a>>2,T=(a&3)<<4|f>>4;let A=(f&15)<<2|_>>6,O=_&63;p||(O=64,l||(A=64)),n.push(t[b],t[T],t[A],t[O])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(SI(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const a=t[r.charAt(s++)],f=s<r.length?t[r.charAt(s)]:0;++s;const _=s<r.length?t[r.charAt(s)]:64;++s;const T=s<r.length?t[r.charAt(s)]:64;if(++s,a==null||f==null||_==null||T==null)throw new _N;const A=a<<2|f>>4;if(n.push(A),_!==64){const O=f<<4&240|_>>2;if(n.push(O),T!==64){const j=_<<6&192|T;n.push(j)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wN=function(r){const e=SI(r);return II.encodeByteArray(e,!0)},Pm=function(r){return wN(r).replace(/\./g,"")},AI=function(r){try{return II.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=()=>bN().__FIREBASE_DEFAULTS__,EN=()=>{if(typeof process>"u"||typeof Mx>"u")return;const r=Mx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AI(r[1]);return e&&JSON.parse(e)},ip=()=>{try{return xN()||EN()||TN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CI=r=>{var e,t;return(t=(e=ip())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},aw=r=>{const e=CI(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},PI=()=>{var r;return(r=ip())===null||r===void 0?void 0:r.config},kI=r=>{var e;return(e=ip())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pm(JSON.stringify(t)),Pm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function AN(){var r;const e=(r=ip())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kN(){const r=Rr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RN(){return!AN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="FirebaseError";class rs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=jN,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dd.prototype.create)}}class dd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?DN(a,n):"Error",f=`${this.serviceName}: ${l} (${s}).`;return new rs(s,f,n)}}function DN(r,e){return r.replace(LN,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const LN=/\{\$([^}]+)}/g;function MN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function km(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const a=r[s],l=e[s];if(Fx(a)&&Fx(l)){if(!km(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function Fx(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Nf(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Of(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function FN(r,e){const t=new VN(r,e);return t.subscribe.bind(t)}class VN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=Ug),s.error===void 0&&(s.error=Ug),s.complete===void 0&&(s.complete=Ug);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(r){return r&&r._delegate?r._delegate:r}class xo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new SN;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qN(e))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=Vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vl){return this.instances.has(e)}getOptions(e=Vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);n===f&&l.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zN(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Vl){return this.component?this.component.multipleInstances?e:Vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zN(r){return r===Vl?void 0:r}function qN(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(pt||(pt={}));const HN={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},WN=pt.INFO,GN={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},KN=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=GN[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lw{constructor(e){this.name=e,this._logLevel=WN,this._logHandler=KN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const QN=(r,e)=>e.some(t=>r instanceof t);let Vx,Ux;function YN(){return Vx||(Vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XN(){return Ux||(Ux=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NI=new WeakMap,w_=new WeakMap,OI=new WeakMap,Bg=new WeakMap,uw=new WeakMap;function JN(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t(Ba(r.result)),s()},l=()=>{n(r.error),s()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&NI.set(t,r)}).catch(()=>{}),uw.set(e,r),e}function ZN(r){if(w_.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});w_.set(r,e)}let b_={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return w_.get(r);if(e==="objectStoreNames")return r.objectStoreNames||OI.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ba(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eO(r){b_=r(b_)}function tO(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(zg(this),e,...t);return OI.set(n,e.sort?e.sort():[e]),Ba(n)}:XN().includes(r)?function(...e){return r.apply(zg(this),e),Ba(NI.get(this))}:function(...e){return Ba(r.apply(zg(this),e))}}function rO(r){return typeof r=="function"?tO(r):(r instanceof IDBTransaction&&ZN(r),QN(r,YN())?new Proxy(r,b_):r)}function Ba(r){if(r instanceof IDBRequest)return JN(r);if(Bg.has(r))return Bg.get(r);const e=rO(r);return e!==r&&(Bg.set(r,e),uw.set(e,r)),e}const zg=r=>uw.get(r);function nO(r,e,{blocked:t,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(r,e),f=Ba(l);return n&&l.addEventListener("upgradeneeded",p=>{n(Ba(l.result),p.oldVersion,p.newVersion,Ba(l.transaction),p)}),t&&l.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",_=>s(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const iO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],qg=new Map;function Bx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=sO.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||iO.includes(t)))return;const a=async function(l,...f){const p=this.transaction(l,s?"readwrite":"readonly");let _=p.store;return n&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),s&&p.done]))[0]};return qg.set(e,a),a}eO(r=>({...r,get:(e,t,n)=>Bx(e,t)||r.get(e,t,n),has:(e,t)=>!!Bx(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aO(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function aO(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x_="@firebase/app",zx="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new lw("@firebase/app"),lO="@firebase/app-compat",uO="@firebase/analytics-compat",cO="@firebase/analytics",fO="@firebase/app-check-compat",dO="@firebase/app-check",hO="@firebase/auth",mO="@firebase/auth-compat",pO="@firebase/database",gO="@firebase/database-compat",yO="@firebase/functions",vO="@firebase/functions-compat",_O="@firebase/installations",wO="@firebase/installations-compat",bO="@firebase/messaging",xO="@firebase/messaging-compat",EO="@firebase/performance",TO="@firebase/performance-compat",SO="@firebase/remote-config",IO="@firebase/remote-config-compat",AO="@firebase/storage",CO="@firebase/storage-compat",PO="@firebase/firestore",kO="@firebase/vertexai-preview",RO="@firebase/firestore-compat",NO="firebase",OO="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="[DEFAULT]",jO={[x_]:"fire-core",[lO]:"fire-core-compat",[cO]:"fire-analytics",[uO]:"fire-analytics-compat",[dO]:"fire-app-check",[fO]:"fire-app-check-compat",[hO]:"fire-auth",[mO]:"fire-auth-compat",[pO]:"fire-rtdb",[gO]:"fire-rtdb-compat",[yO]:"fire-fn",[vO]:"fire-fn-compat",[_O]:"fire-iid",[wO]:"fire-iid-compat",[bO]:"fire-fcm",[xO]:"fire-fcm-compat",[EO]:"fire-perf",[TO]:"fire-perf-compat",[SO]:"fire-rc",[IO]:"fire-rc-compat",[AO]:"fire-gcs",[CO]:"fire-gcs-compat",[PO]:"fire-fst",[RO]:"fire-fst-compat",[kO]:"fire-vertex","fire-js":"fire-js",[NO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map,DO=new Map,T_=new Map;function qx(r,e){try{r.container.addComponent(e)}catch(t){Gl.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ha(r){const e=r.name;if(T_.has(e))return Gl.debug(`There were multiple attempts to register component ${e}.`),!1;T_.set(e,r);for(const t of Rm.values())qx(t,r);for(const t of DO.values())qx(t,r);return!0}function md(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ss(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new dd("app","Firebase",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=OO;function jI(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:E_,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw za.create("bad-app-name",{appName:String(s)});if(t||(t=PI()),!t)throw za.create("no-options");const a=Rm.get(s);if(a){if(km(t,a.options)&&km(n,a.config))return a;throw za.create("duplicate-app",{appName:s})}const l=new $N(s);for(const p of T_.values())l.addComponent(p);const f=new MO(t,n,l);return Rm.set(s,f),f}function sp(r=E_){const e=Rm.get(r);if(!e&&r===E_&&PI())return jI();if(!e)throw za.create("no-app",{appName:r});return e}function bi(r,e,t){var n;let s=(n=jO[r])!==null&&n!==void 0?n:r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gl.warn(f.join(" "));return}Ha(new xo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-heartbeat-database",VO=1,Xf="firebase-heartbeat-store";let $g=null;function DI(){return $g||($g=nO(FO,VO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xf)}catch(t){console.warn(t)}}}}).catch(r=>{throw za.create("idb-open",{originalErrorMessage:r.message})})),$g}async function UO(r){try{const t=(await DI()).transaction(Xf),n=await t.objectStore(Xf).get(LI(r));return await t.done,n}catch(e){if(e instanceof rs)Gl.warn(e.message);else{const t=za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gl.warn(t.message)}}}async function $x(r,e){try{const n=(await DI()).transaction(Xf,"readwrite");await n.objectStore(Xf).put(e,LI(r)),await n.done}catch(t){if(t instanceof rs)Gl.warn(t.message);else{const n=za.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gl.warn(n.message)}}}function LI(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1024,zO=30*24*60*60*1e3;class qO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HO(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Hx();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const f=new Date(l.date).valueOf();return Date.now()-f<=zO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hx(),{heartbeatsToSend:n,unsentEntries:s}=$O(this._heartbeatsCache.heartbeats),a=Pm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function Hx(){return new Date().toISOString().substring(0,10)}function $O(r,e=BO){const t=[];let n=r.slice();for(const s of r){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Wx(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Wx(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class HO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $x(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $x(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Wx(r){return Pm(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(r){Ha(new xo("platform-logger",e=>new oO(e),"PRIVATE")),Ha(new xo("heartbeat",e=>new qO(e),"PRIVATE")),bi(x_,zx,r),bi(x_,zx,"esm2017"),bi("fire-js","")}WO("");function cw(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t}function MI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GO=MI,FI=new dd("auth","Firebase",MI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new lw("@firebase/auth");function KO(r,...e){Nm.logLevel<=pt.WARN&&Nm.warn(`Auth (${ru}): ${r}`,...e)}function pm(r,...e){Nm.logLevel<=pt.ERROR&&Nm.error(`Auth (${ru}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(r,...e){throw dw(r,...e)}function es(r,...e){return dw(r,...e)}function fw(r,e,t){const n=Object.assign(Object.assign({},GO()),{[e]:t});return new dd("auth","Firebase",n).create(e,{appName:r.name})}function qa(r){return fw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QO(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ei(r,"argument-error"),fw(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dw(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return FI.create(r,...e)}function He(r,e,...t){if(!r)throw dw(e,...t)}function vo(r){const e="INTERNAL ASSERTION FAILED: "+r;throw pm(e),new Error(e)}function Eo(r,e){r||vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function YO(){return Gx()==="http:"||Gx()==="https:"}function Gx(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YO()||CN()||"connection"in navigator)?navigator.onLine:!0}function JO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Eo(t>e,"Short delay should be less than long delay!"),this.isMobile=IN()||PN()}get(){return XO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(r,e){Eo(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new pd(3e4,6e4);function nu(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Qa(r,e,t,n,s={}){return UI(r,s,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const f=hd(Object.assign({key:r.config.apiKey},l)).slice(1),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode),VI.fetch()(BI(r,r.config.apiHost,t,f),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},a))})}async function UI(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},ZO),e);try{const s=new r4(r),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw nm(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const f=a.ok?l.errorMessage:l.error.message,[p,_]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nm(r,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw nm(r,"email-already-in-use",l);if(p==="USER_DISABLED")throw nm(r,"user-disabled",l);const b=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw fw(r,b,_);Ei(r,b)}}catch(s){if(s instanceof rs)throw s;Ei(r,"network-request-failed",{message:String(s)})}}async function op(r,e,t,n,s={}){const a=await Qa(r,e,t,n,s);return"mfaPendingCredential"in a&&Ei(r,"multi-factor-auth-required",{_serverResponse:a}),a}function BI(r,e,t,n){const s=`${e}${t}?${n}`;return r.config.emulator?hw(r.config,s):`${r.config.apiScheme}://${s}`}function t4(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(es(this.auth,"network-request-failed")),e4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nm(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=es(r,e,n);return s.customData._tokenResponse=t,s}function Kx(r){return r!==void 0&&r.enterprise!==void 0}class n4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return t4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function i4(r,e){return Qa(r,"GET","/v2/recaptchaConfig",nu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(r,e){return Qa(r,"POST","/v1/accounts:delete",e)}async function zI(r,e){return Qa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o4(r,e=!1){const t=Yt(r),n=await t.getIdToken(e),s=mw(n);He(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:Bf(Hg(s.auth_time)),issuedAtTime:Bf(Hg(s.iat)),expirationTime:Bf(Hg(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Hg(r){return Number(r)*1e3}function mw(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return pm("JWT malformed, contained fewer than 3 sections"),null;try{const s=AI(t);return s?JSON.parse(s):(pm("Failed to decode base64 JWT payload"),null)}catch(s){return pm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Qx(r){const e=mw(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof rs&&a4(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function a4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bf(this.lastLoginAt),this.creationTime=Bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(r){var e;const t=r.auth,n=await r.getIdToken(),s=await Jf(r,zI(t,{idToken:n}));He(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];r._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qI(a.providerUserInfo):[],f=c4(r.providerData,l),p=r.isAnonymous,_=!(r.email&&a.passwordHash)&&!(f!=null&&f.length),b=p?_:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new I_(a.createdAt,a.lastLoginAt),isAnonymous:b};Object.assign(r,T)}async function u4(r){const e=Yt(r);await Om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c4(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function qI(r){return r.map(e=>{var{providerId:t}=e,n=cw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(r,e){const t=await UI(r,{},async()=>{const n=hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=r.config,l=BI(r,s,"/v1/token",`key=${a}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",VI.fetch()(l,{method:"POST",headers:f,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function d4(r,e){return Qa(r,"POST","/v2/accounts:revokeToken",nu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=Qx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:a}=await f4(e,t);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:a}=t,l=new sc;return n&&(He(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),s&&(He(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(He(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,a=cw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new I_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Jf(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return o4(this,e)}reload(){return u4(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Om(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await Jf(this,s4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,a,l,f,p,_,b;const T=(n=t.displayName)!==null&&n!==void 0?n:void 0,A=(s=t.email)!==null&&s!==void 0?s:void 0,O=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,j=(l=t.photoURL)!==null&&l!==void 0?l:void 0,F=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,J=(_=t.createdAt)!==null&&_!==void 0?_:void 0,B=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:k,emailVerified:Q,isAnonymous:Y,providerData:ce,stsTokenManager:M}=t;He(k&&M,e,"internal-error");const R=sc.fromJSON(this.name,M);He(typeof k=="string",e,"internal-error"),ka(T,e.name),ka(A,e.name),He(typeof Q=="boolean",e,"internal-error"),He(typeof Y=="boolean",e,"internal-error"),ka(O,e.name),ka(j,e.name),ka(F,e.name),ka(D,e.name),ka(J,e.name),ka(B,e.name);const V=new _o({uid:k,auth:e,email:A,emailVerified:Q,displayName:T,isAnonymous:Y,photoURL:j,phoneNumber:O,tenantId:F,stsTokenManager:R,createdAt:J,lastLoginAt:B});return ce&&Array.isArray(ce)&&(V.providerData=ce.map($=>Object.assign({},$))),D&&(V._redirectEventId=D),V}static async _fromIdTokenResponse(e,t,n=!1){const s=new sc;s.updateFromServerResponse(t);const a=new _o({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Om(a),a}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];He(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?qI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),f=new sc;f.updateFromIdToken(n);const p=new _o({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:l}),_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new I_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;function wo(r){Eo(r instanceof Function,"Expected a class definition");let e=Yx.get(r);return e?(Eo(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Yx.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$I.type="NONE";const Xx=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,e,t){return`firebase:${r}:${e}:${t}`}class oc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=gm(this.userKey,s.apiKey,a),this.fullPersistenceKey=gm("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new oc(wo(Xx),e,n);const s=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=s[0]||wo(Xx);const l=gm(n,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const b=await _._get(l);if(b){const T=_o._fromJSON(e,b);_!==a&&(f=T),a=_;break}}catch{}const p=s.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new oc(a,e,n):(a=p[0],f&&await a._set(l,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(l)}catch{}})),new oc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QI(e))return"Blackberry";if(YI(e))return"Webos";if(pw(e))return"Safari";if((e.includes("chrome/")||WI(e))&&!e.includes("edge/"))return"Chrome";if(KI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function HI(r=Rr()){return/firefox\//i.test(r)}function pw(r=Rr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WI(r=Rr()){return/crios\//i.test(r)}function GI(r=Rr()){return/iemobile/i.test(r)}function KI(r=Rr()){return/android/i.test(r)}function QI(r=Rr()){return/blackberry/i.test(r)}function YI(r=Rr()){return/webos/i.test(r)}function ap(r=Rr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function h4(r=Rr()){var e;return ap(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m4(){return kN()&&document.documentMode===10}function XI(r=Rr()){return ap(r)||KI(r)||YI(r)||QI(r)||/windows phone/i.test(r)||GI(r)}function p4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r,e=[]){let t;switch(r){case"Browser":t=Jx(Rr());break;case"Worker":t=`${Jx(Rr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ru}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,f)=>{try{const p=e(a);l(p)}catch(p){f(p)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(r,e={}){return Qa(r,"GET","/v2/passwordPolicy",nu(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=6;class _4{constructor(e){var t,n,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:v4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,a,l,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsNumericCharacter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zx(this),this.idTokenSubscription=new Zx(this),this.beforeStateQueue=new g4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wo(t)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await oc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zI(this,{idToken:e}),n=await _o._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ss(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===f)&&(p!=null&&p.user)&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Om(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ss(this.app))return Promise.reject(qa(this));const t=e?Yt(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ss(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y4(this),t=new _4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dd("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await d4(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wo(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await oc.create(this,[wo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(f,this,"internal-error"),f.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,s);return()=>{l=!0,p()}}else{const p=e.addObserver(t);return()=>{l=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function iu(r){return Yt(r)}class Zx{constructor(e){this.auth=e,this.observer=null,this.addObserver=FN(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b4(r){lp=r}function ZI(r){return lp.loadJS(r)}function x4(){return lp.recaptchaEnterpriseScript}function E4(){return lp.gapiScript}function T4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const S4="recaptcha-enterprise",I4="NO_RECAPTCHA";class A4{constructor(e){this.type=S4,this.auth=iu(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,f)=>{i4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const _=new n4(p);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,l(_.siteKey)}}).catch(p=>{f(p)})})}function s(a,l,f){const p=window.grecaptcha;Kx(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(_=>{l(_)}).catch(()=>{l(I4)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{n(this.auth).then(f=>{if(!t&&Kx(window.grecaptcha))s(f,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let p=x4();p.length!==0&&(p+=f),ZI(p).then(()=>{s(f,a,l)}).catch(_=>{l(_)})}}).catch(f=>{l(f)})})}}async function e1(r,e,t,n=!1){const s=new A4(r);let a;try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const l=Object.assign({},e);return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function t1(r,e,t,n){var s;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await e1(r,e,t,t==="getOobCode");return n(r,a)}else return n(r,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await e1(r,e,t,t==="getOobCode");return n(r,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(r,e){const t=md(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(km(a,e??{}))return s;Ei(s,"already-initialized")}return t.initialize({options:e})}function P4(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(wo);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function k4(r,e,t){const n=iu(r);He(n._canInitEmulator,n,"emulator-config-failed"),He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,a=eA(e),{host:l,port:f}=R4(e),p=f===null?"":`:${f}`;n.config.emulator={url:`${a}//${l}${p}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),N4()}function eA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function R4(r){const e=eA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:r1(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:r1(l)}}}function r1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function N4(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,t){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}}async function O4(r,e){return Qa(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(r,e){return op(r,"POST","/v1/accounts:signInWithPassword",nu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(r,e){return op(r,"POST","/v1/accounts:signInWithEmailLink",nu(r,e))}async function L4(r,e){return op(r,"POST","/v1/accounts:signInWithEmailLink",nu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends gw{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Zf(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Zf(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,t,"signInWithPassword",j4);case"emailLink":return D4(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return t1(e,n,"signUpPassword",O4);case"emailLink":return L4(e,{idToken:t,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(r,e){return op(r,"POST","/v1/accounts:signInWithIdp",nu(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="http://localhost";class Kl extends gw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,a=cw(t,["providerId","signInMethod"]);if(!n||!s)return null;const l=new Kl(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ac(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ac(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ac(e,t)}buildRequest(){const e={requestUri:M4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V4(r){const e=Nf(Of(r)).link,t=e?Nf(Of(e)).deep_link_id:null,n=Nf(Of(r)).deep_link_id;return(n?Nf(Of(n)).link:null)||n||t||e||r}class yw{constructor(e){var t,n,s,a,l,f;const p=Nf(Of(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,b=(n=p.oobCode)!==null&&n!==void 0?n:null,T=F4((s=p.mode)!==null&&s!==void 0?s:null);He(_&&b&&T,"argument-error"),this.apiKey=_,this.operation=T,this.code=b,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=p.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=V4(e);try{return new yw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.providerId=Tc.PROVIDER_ID}static credential(e,t){return Zf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=yw.parseLink(t);return He(n,"argument-error"),Zf._fromEmailAndCode(e,n.code,n.tenantId)}}Tc.PROVIDER_ID="password";Tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends vw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends gd{constructor(){super("facebook.com")}static credential(e){return Kl._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Kl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return yo.credential(t,n)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends gd{constructor(){super("github.com")}static credential(e){return Kl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends gd{constructor(){super("twitter.com")}static credential(e,t){return Kl._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ja.credential(t,n)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const a=await _o._fromIdTokenResponse(e,n,s),l=n1(n);return new dc({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=n1(n);return new dc({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function n1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends rs{constructor(e,t,n,s){var a;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new jm(e,t,n,s)}}function tA(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(r,a,e,n):a})}async function U4(r,e,t=!1){const n=await Jf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return dc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(r,e,t=!1){const{auth:n}=r;if(Ss(n.app))return Promise.reject(qa(n));const s="reauthenticate";try{const a=await Jf(r,tA(n,s,e,r),t);He(a.idToken,n,"internal-error");const l=mw(a.idToken);He(l,n,"internal-error");const{sub:f}=l;return He(r.uid===f,n,"user-mismatch"),dc._forOperation(r,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ei(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(r,e,t=!1){if(Ss(r.app))return Promise.reject(qa(r));const n="signIn",s=await tA(r,n,e),a=await dc._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(a.user),a}async function z4(r,e){return rA(iu(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(r){const e=iu(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function $4(r,e,t){return Ss(r.app)?Promise.reject(qa(r)):z4(Yt(r),Tc.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&q4(r),n})}function H4(r,e,t,n){return Yt(r).onIdTokenChanged(e,t,n)}function W4(r,e,t){return Yt(r).beforeAuthStateChanged(e,t)}function G4(r,e,t,n){return Yt(r).onAuthStateChanged(e,t,n)}function im(r){return Yt(r).signOut()}const Dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dm,"1"),this.storage.removeItem(Dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){const r=Rr();return pw(r)||ap(r)}const Q4=1e3,Y4=10;class iA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=K4()&&p4(),this.fallbackToPolling=XI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,f,p)=>{this.notifyListeners(l,p)});return}const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(n);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const s=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);m4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Y4):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const X4=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sA.type="SESSION";const oA=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new up(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const f=Array.from(l).map(async _=>_(t.origin,a)),p=await J4(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((f,p)=>{const _=_w("",20);s.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(T){const A=T;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(b),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(A.data.response);break;default:clearTimeout(b),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function ej(r){As().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function tj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rj(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function nj(){return aA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebaseLocalStorageDb",ij=1,Lm="firebaseLocalStorage",uA="fbase_key";class yd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cp(r,e){return r.transaction([Lm],e?"readwrite":"readonly").objectStore(Lm)}function sj(){const r=indexedDB.deleteDatabase(lA);return new yd(r).toPromise()}function A_(){const r=indexedDB.open(lA,ij);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Lm,{keyPath:uA})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Lm)?e(n):(n.close(),await sj(),e(await A_()))})})}async function i1(r,e,t){const n=cp(r,!0).put({[uA]:e,value:t});return new yd(n).toPromise()}async function oj(r,e){const t=cp(r,!1).get(e),n=await new yd(t).toPromise();return n===void 0?null:n.value}function s1(r,e){const t=cp(r,!0).delete(e);return new yd(t).toPromise()}const aj=800,lj=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>lj)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=up._getInstance(nj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tj(),!this.activeServiceWorker)return;this.sender=new Z4(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A_();return await i1(e,Dm,"1"),await s1(e,Dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>i1(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>oj(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>s1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=cp(s,!1).getAll();return new yd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const uj=cA;new pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r,e){return e?wo(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends gw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ac(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cj(r){return rA(r.auth,new ww(r),r.bypassAuthState)}function fj(r){const{auth:e,user:t}=r;return He(t,e,"internal-error"),B4(t,new ww(r),r.bypassAuthState)}async function dj(r){const{auth:e,user:t}=r;return He(t,e,"internal-error"),U4(t,new ww(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:a,error:l,type:f}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cj;case"linkViaPopup":case"linkViaRedirect":return dj;case"reauthViaPopup":case"reauthViaRedirect":return fj;default:Ei(this.auth,"internal-error")}}resolve(e){Eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new pd(2e3,1e4);async function mj(r,e,t){if(Ss(r.app))return Promise.reject(es(r,"operation-not-supported-in-this-environment"));const n=iu(r);QO(r,e,vw);const s=fA(n,t);return new Bl(n,"signInViaPopup",e,s).executeNotNull()}class Bl extends dA{constructor(e,t,n,s,a){super(e,t,s,a),this.provider=n,this.authWindow=null,this.pollId=null,Bl.currentPopupAction&&Bl.currentPopupAction.cancel(),Bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Eo(this.filter.length===1,"Popup operations only handle one event");const e=_w();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hj.get())};e()}}Bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="pendingRedirect",ym=new Map;class gj extends dA{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ym.get(this.auth._key());if(!e){try{const n=await yj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ym.set(this.auth._key(),e)}return this.bypassAuthState||ym.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yj(r,e){const t=wj(e),n=_j(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function vj(r,e){ym.set(r._key(),e)}function _j(r){return wo(r._redirectPersistence)}function wj(r){return gm(pj,r.config.apiKey,r.name)}async function bj(r,e,t=!1){if(Ss(r.app))return Promise.reject(qa(r));const n=iu(r),s=fA(n,e),l=await new gj(n,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=10*60*1e3;class Ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!hA(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(es(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(o1(e))}saveEventToCache(e){this.cachedEventUids.add(o1(e)),this.lastProcessedEventTime=Date.now()}}function o1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tj(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(r,e={}){return Qa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aj=/^https?/;async function Cj(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Sj(r);for(const t of e)try{if(Pj(t))return}catch{}Ei(r,"unauthorized-domain")}function Pj(r){const e=S_(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!Aj.test(t))return!1;if(Ij.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new pd(3e4,6e4);function a1(){const r=As().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Rj(r){return new Promise((e,t)=>{var n,s,a;function l(){a1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a1(),t(es(r,"network-request-failed"))},timeout:kj.get()})}if(!((s=(n=As().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=As().gapi)===null||a===void 0)&&a.load)l();else{const f=T4("iframefcb");return As()[f]=()=>{gapi.load?l():t(es(r,"network-request-failed"))},ZI(`${E4()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw vm=null,e})}let vm=null;function Nj(r){return vm=vm||Rj(r),vm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new pd(5e3,15e3),jj="__/auth/iframe",Dj="emulator/auth/iframe",Lj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fj(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?hw(e,Dj):`https://${r.config.authDomain}/${jj}`,n={apiKey:e.apiKey,appName:r.name,v:ru},s=Mj.get(r.config.apiHost);s&&(n.eid=s);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${hd(n).slice(1)}`}async function Vj(r){const e=await Nj(r),t=As().gapi;return He(t,r,"internal-error"),e.open({where:document.body,url:Fj(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lj,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=es(r,"network-request-failed"),f=As().setTimeout(()=>{a(l)},Oj.get());function p(){As().clearTimeout(f),s(n)}n.ping(p).then(p,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bj=500,zj=600,qj="_blank",$j="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hj(r,e,t,n=Bj,s=zj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const p=Object.assign(Object.assign({},Uj),{width:n.toString(),height:s.toString(),top:a,left:l}),_=Rr().toLowerCase();t&&(f=WI(_)?qj:t),HI(_)&&(e=e||$j,p.scrollbars="yes");const b=Object.entries(p).reduce((A,[O,j])=>`${A}${O}=${j},`,"");if(h4(_)&&f!=="_self")return Wj(e||"",f),new l1(null);const T=window.open(e||"",f,b);He(T,r,"popup-blocked");try{T.focus()}catch{}return new l1(T)}function Wj(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="__/auth/handler",Kj="emulator/auth/handler",Qj=encodeURIComponent("fac");async function u1(r,e,t,n,s,a){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:ru,eventId:s};if(e instanceof vw){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",MN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))l[b]=T}if(e instanceof gd){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(l.scopes=b.join(","))}r.tenantId&&(l.tid=r.tenantId);const f=l;for(const b of Object.keys(f))f[b]===void 0&&delete f[b];const p=await r._getAppCheckToken(),_=p?`#${Qj}=${encodeURIComponent(p)}`:"";return`${Yj(r)}?${hd(f).slice(1)}${_}`}function Yj({config:r}){return r.emulator?hw(r,Kj):`https://${r.authDomain}/${Gj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class Xj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=bj,this._overrideRedirectResult=vj}async _openPopup(e,t,n,s){var a;Eo((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await u1(e,t,n,S_(),s);return Hj(e,l,_w())}async _openRedirect(e,t,n,s){await this._originValidation(e);const a=await u1(e,t,n,S_(),s);return ej(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Eo(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Vj(e),n=new Ej(e);return t.register("authEvent",s=>(He(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wg,{type:Wg},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Wg];l!==void 0&&t(!!l),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Cj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XI()||pw()||ap()}}const Jj=Xj;var c1="@firebase/auth",f1="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tD(r){Ha(new xo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=n.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:l,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JI(r)},_=new w4(n,s,a,p);return P4(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ha(new xo("auth-internal",e=>{const t=iu(e.getProvider("auth").getImmediate());return(n=>new Zj(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(c1,f1,eD(r)),bi(c1,f1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=5*60,nD=kI("authIdTokenMaxAge")||rD;let d1=null;const iD=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>nD)return;const s=t==null?void 0:t.token;d1!==s&&(d1=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sD(r=sp()){const e=md(r,"auth");if(e.isInitialized())return e.getImmediate();const t=C4(r,{popupRedirectResolver:Jj,persistence:[uj,X4,oA]}),n=kI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=iD(a.toString());W4(t,l,()=>l(t.currentUser)),H4(t,f=>l(f))}}const s=CI("auth");return s&&k4(t,`http://${s}`),t}function oD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}b4({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const a=es("internal-error");a.customData=s,t(a)},n.type="text/javascript",n.charset="UTF-8",oD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tD("Browser");var aD="firebase",lD="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(aD,lD,"app");var h1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hl,mA;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function V(){}V.prototype=R.prototype,M.D=R.prototype,M.prototype=new V,M.prototype.constructor=M,M.C=function($,q,H){for(var U=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)U[Ue-2]=arguments[Ue];return R.prototype[q].apply($,U)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,R,V){V||(V=0);var $=Array(16);if(typeof R=="string")for(var q=0;16>q;++q)$[q]=R.charCodeAt(V++)|R.charCodeAt(V++)<<8|R.charCodeAt(V++)<<16|R.charCodeAt(V++)<<24;else for(q=0;16>q;++q)$[q]=R[V++]|R[V++]<<8|R[V++]<<16|R[V++]<<24;R=M.g[0],V=M.g[1],q=M.g[2];var H=M.g[3],U=R+(H^V&(q^H))+$[0]+3614090360&4294967295;R=V+(U<<7&4294967295|U>>>25),U=H+(q^R&(V^q))+$[1]+3905402710&4294967295,H=R+(U<<12&4294967295|U>>>20),U=q+(V^H&(R^V))+$[2]+606105819&4294967295,q=H+(U<<17&4294967295|U>>>15),U=V+(R^q&(H^R))+$[3]+3250441966&4294967295,V=q+(U<<22&4294967295|U>>>10),U=R+(H^V&(q^H))+$[4]+4118548399&4294967295,R=V+(U<<7&4294967295|U>>>25),U=H+(q^R&(V^q))+$[5]+1200080426&4294967295,H=R+(U<<12&4294967295|U>>>20),U=q+(V^H&(R^V))+$[6]+2821735955&4294967295,q=H+(U<<17&4294967295|U>>>15),U=V+(R^q&(H^R))+$[7]+4249261313&4294967295,V=q+(U<<22&4294967295|U>>>10),U=R+(H^V&(q^H))+$[8]+1770035416&4294967295,R=V+(U<<7&4294967295|U>>>25),U=H+(q^R&(V^q))+$[9]+2336552879&4294967295,H=R+(U<<12&4294967295|U>>>20),U=q+(V^H&(R^V))+$[10]+4294925233&4294967295,q=H+(U<<17&4294967295|U>>>15),U=V+(R^q&(H^R))+$[11]+2304563134&4294967295,V=q+(U<<22&4294967295|U>>>10),U=R+(H^V&(q^H))+$[12]+1804603682&4294967295,R=V+(U<<7&4294967295|U>>>25),U=H+(q^R&(V^q))+$[13]+4254626195&4294967295,H=R+(U<<12&4294967295|U>>>20),U=q+(V^H&(R^V))+$[14]+2792965006&4294967295,q=H+(U<<17&4294967295|U>>>15),U=V+(R^q&(H^R))+$[15]+1236535329&4294967295,V=q+(U<<22&4294967295|U>>>10),U=R+(q^H&(V^q))+$[1]+4129170786&4294967295,R=V+(U<<5&4294967295|U>>>27),U=H+(V^q&(R^V))+$[6]+3225465664&4294967295,H=R+(U<<9&4294967295|U>>>23),U=q+(R^V&(H^R))+$[11]+643717713&4294967295,q=H+(U<<14&4294967295|U>>>18),U=V+(H^R&(q^H))+$[0]+3921069994&4294967295,V=q+(U<<20&4294967295|U>>>12),U=R+(q^H&(V^q))+$[5]+3593408605&4294967295,R=V+(U<<5&4294967295|U>>>27),U=H+(V^q&(R^V))+$[10]+38016083&4294967295,H=R+(U<<9&4294967295|U>>>23),U=q+(R^V&(H^R))+$[15]+3634488961&4294967295,q=H+(U<<14&4294967295|U>>>18),U=V+(H^R&(q^H))+$[4]+3889429448&4294967295,V=q+(U<<20&4294967295|U>>>12),U=R+(q^H&(V^q))+$[9]+568446438&4294967295,R=V+(U<<5&4294967295|U>>>27),U=H+(V^q&(R^V))+$[14]+3275163606&4294967295,H=R+(U<<9&4294967295|U>>>23),U=q+(R^V&(H^R))+$[3]+4107603335&4294967295,q=H+(U<<14&4294967295|U>>>18),U=V+(H^R&(q^H))+$[8]+1163531501&4294967295,V=q+(U<<20&4294967295|U>>>12),U=R+(q^H&(V^q))+$[13]+2850285829&4294967295,R=V+(U<<5&4294967295|U>>>27),U=H+(V^q&(R^V))+$[2]+4243563512&4294967295,H=R+(U<<9&4294967295|U>>>23),U=q+(R^V&(H^R))+$[7]+1735328473&4294967295,q=H+(U<<14&4294967295|U>>>18),U=V+(H^R&(q^H))+$[12]+2368359562&4294967295,V=q+(U<<20&4294967295|U>>>12),U=R+(V^q^H)+$[5]+4294588738&4294967295,R=V+(U<<4&4294967295|U>>>28),U=H+(R^V^q)+$[8]+2272392833&4294967295,H=R+(U<<11&4294967295|U>>>21),U=q+(H^R^V)+$[11]+1839030562&4294967295,q=H+(U<<16&4294967295|U>>>16),U=V+(q^H^R)+$[14]+4259657740&4294967295,V=q+(U<<23&4294967295|U>>>9),U=R+(V^q^H)+$[1]+2763975236&4294967295,R=V+(U<<4&4294967295|U>>>28),U=H+(R^V^q)+$[4]+1272893353&4294967295,H=R+(U<<11&4294967295|U>>>21),U=q+(H^R^V)+$[7]+4139469664&4294967295,q=H+(U<<16&4294967295|U>>>16),U=V+(q^H^R)+$[10]+3200236656&4294967295,V=q+(U<<23&4294967295|U>>>9),U=R+(V^q^H)+$[13]+681279174&4294967295,R=V+(U<<4&4294967295|U>>>28),U=H+(R^V^q)+$[0]+3936430074&4294967295,H=R+(U<<11&4294967295|U>>>21),U=q+(H^R^V)+$[3]+3572445317&4294967295,q=H+(U<<16&4294967295|U>>>16),U=V+(q^H^R)+$[6]+76029189&4294967295,V=q+(U<<23&4294967295|U>>>9),U=R+(V^q^H)+$[9]+3654602809&4294967295,R=V+(U<<4&4294967295|U>>>28),U=H+(R^V^q)+$[12]+3873151461&4294967295,H=R+(U<<11&4294967295|U>>>21),U=q+(H^R^V)+$[15]+530742520&4294967295,q=H+(U<<16&4294967295|U>>>16),U=V+(q^H^R)+$[2]+3299628645&4294967295,V=q+(U<<23&4294967295|U>>>9),U=R+(q^(V|~H))+$[0]+4096336452&4294967295,R=V+(U<<6&4294967295|U>>>26),U=H+(V^(R|~q))+$[7]+1126891415&4294967295,H=R+(U<<10&4294967295|U>>>22),U=q+(R^(H|~V))+$[14]+2878612391&4294967295,q=H+(U<<15&4294967295|U>>>17),U=V+(H^(q|~R))+$[5]+4237533241&4294967295,V=q+(U<<21&4294967295|U>>>11),U=R+(q^(V|~H))+$[12]+1700485571&4294967295,R=V+(U<<6&4294967295|U>>>26),U=H+(V^(R|~q))+$[3]+2399980690&4294967295,H=R+(U<<10&4294967295|U>>>22),U=q+(R^(H|~V))+$[10]+4293915773&4294967295,q=H+(U<<15&4294967295|U>>>17),U=V+(H^(q|~R))+$[1]+2240044497&4294967295,V=q+(U<<21&4294967295|U>>>11),U=R+(q^(V|~H))+$[8]+1873313359&4294967295,R=V+(U<<6&4294967295|U>>>26),U=H+(V^(R|~q))+$[15]+4264355552&4294967295,H=R+(U<<10&4294967295|U>>>22),U=q+(R^(H|~V))+$[6]+2734768916&4294967295,q=H+(U<<15&4294967295|U>>>17),U=V+(H^(q|~R))+$[13]+1309151649&4294967295,V=q+(U<<21&4294967295|U>>>11),U=R+(q^(V|~H))+$[4]+4149444226&4294967295,R=V+(U<<6&4294967295|U>>>26),U=H+(V^(R|~q))+$[11]+3174756917&4294967295,H=R+(U<<10&4294967295|U>>>22),U=q+(R^(H|~V))+$[2]+718787259&4294967295,q=H+(U<<15&4294967295|U>>>17),U=V+(H^(q|~R))+$[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(q+(U<<21&4294967295|U>>>11))&4294967295,M.g[2]=M.g[2]+q&4294967295,M.g[3]=M.g[3]+H&4294967295}n.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var V=R-this.blockSize,$=this.B,q=this.h,H=0;H<R;){if(q==0)for(;H<=V;)s(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<R;)if($[q++]=M.charCodeAt(H++),q==this.blockSize){s(this,$),q=0;break}}else for(;H<R;)if($[q++]=M[H++],q==this.blockSize){s(this,$),q=0;break}}this.h=q,this.o+=R},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var V=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=V&255,V/=256;for(this.u(M),M=Array(16),R=V=0;4>R;++R)for(var $=0;32>$;$+=8)M[V++]=this.g[R]>>>$&255;return M};function a(M,R){var V=f;return Object.prototype.hasOwnProperty.call(V,M)?V[M]:V[M]=R(M)}function l(M,R){this.h=R;for(var V=[],$=!0,q=M.length-1;0<=q;q--){var H=M[q]|0;$&&H==R||(V[q]=H,$=!1)}this.g=V}var f={};function p(M){return-128<=M&&128>M?a(M,function(R){return new l([R|0],0>R?-1:0)}):new l([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return D(_(-M));for(var R=[],V=1,$=0;M>=V;$++)R[$]=M/V|0,V*=4294967296;return new l(R,0)}function b(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return D(b(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=_(Math.pow(R,8)),$=T,q=0;q<M.length;q+=8){var H=Math.min(8,M.length-q),U=parseInt(M.substring(q,q+H),R);8>H?(H=_(Math.pow(R,H)),$=$.j(H).add(_(U))):($=$.j(V),$=$.add(_(U)))}return $}var T=p(0),A=p(1),O=p(16777216);r=l.prototype,r.m=function(){if(F(this))return-D(this).m();for(var M=0,R=1,V=0;V<this.g.length;V++){var $=this.i(V);M+=(0<=$?$:4294967296+$)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(j(this))return"0";if(F(this))return"-"+D(this).toString(M);for(var R=_(Math.pow(M,6)),V=this,$="";;){var q=Q(V,R).g;V=J(V,q.j(R));var H=((0<V.g.length?V.g[0]:V.h)>>>0).toString(M);if(V=q,j(V))return H+$;for(;6>H.length;)H="0"+H;$=H+$}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function j(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function F(M){return M.h==-1}r.l=function(M){return M=J(this,M),F(M)?-1:j(M)?0:1};function D(M){for(var R=M.g.length,V=[],$=0;$<R;$++)V[$]=~M.g[$];return new l(V,~M.h).add(A)}r.abs=function(){return F(this)?D(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),V=[],$=0,q=0;q<=R;q++){var H=$+(this.i(q)&65535)+(M.i(q)&65535),U=(H>>>16)+(this.i(q)>>>16)+(M.i(q)>>>16);$=U>>>16,H&=65535,U&=65535,V[q]=U<<16|H}return new l(V,V[V.length-1]&-2147483648?-1:0)};function J(M,R){return M.add(D(R))}r.j=function(M){if(j(this)||j(M))return T;if(F(this))return F(M)?D(this).j(D(M)):D(D(this).j(M));if(F(M))return D(this.j(D(M)));if(0>this.l(O)&&0>M.l(O))return _(this.m()*M.m());for(var R=this.g.length+M.g.length,V=[],$=0;$<2*R;$++)V[$]=0;for($=0;$<this.g.length;$++)for(var q=0;q<M.g.length;q++){var H=this.i($)>>>16,U=this.i($)&65535,Ue=M.i(q)>>>16,st=M.i(q)&65535;V[2*$+2*q]+=U*st,B(V,2*$+2*q),V[2*$+2*q+1]+=H*st,B(V,2*$+2*q+1),V[2*$+2*q+1]+=U*Ue,B(V,2*$+2*q+1),V[2*$+2*q+2]+=H*Ue,B(V,2*$+2*q+2)}for($=0;$<R;$++)V[$]=V[2*$+1]<<16|V[2*$];for($=R;$<2*R;$++)V[$]=0;return new l(V,0)};function B(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function k(M,R){this.g=M,this.h=R}function Q(M,R){if(j(R))throw Error("division by zero");if(j(M))return new k(T,T);if(F(M))return R=Q(D(M),R),new k(D(R.g),D(R.h));if(F(R))return R=Q(M,D(R)),new k(D(R.g),R.h);if(30<M.g.length){if(F(M)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var V=A,$=R;0>=$.l(M);)V=Y(V),$=Y($);var q=ce(V,1),H=ce($,1);for($=ce($,2),V=ce(V,2);!j($);){var U=H.add($);0>=U.l(M)&&(q=q.add(V),H=U),$=ce($,1),V=ce(V,1)}return R=J(M,q.j(R)),new k(q,R)}for(q=T;0<=M.l(R);){for(V=Math.max(1,Math.floor(M.m()/R.m())),$=Math.ceil(Math.log(V)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),H=_(V),U=H.j(R);F(U)||0<U.l(M);)V-=$,H=_(V),U=H.j(R);j(H)&&(H=A),q=q.add(H),M=J(M,U)}return new k(q,M)}r.A=function(M){return Q(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),V=[],$=0;$<R;$++)V[$]=this.i($)&M.i($);return new l(V,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),V=[],$=0;$<R;$++)V[$]=this.i($)|M.i($);return new l(V,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),V=[],$=0;$<R;$++)V[$]=this.i($)^M.i($);return new l(V,this.h^M.h)};function Y(M){for(var R=M.g.length+1,V=[],$=0;$<R;$++)V[$]=M.i($)<<1|M.i($-1)>>>31;return new l(V,M.h)}function ce(M,R){var V=R>>5;R%=32;for(var $=M.g.length-V,q=[],H=0;H<$;H++)q[H]=0<R?M.i(H+V)>>>R|M.i(H+V+1)<<32-R:M.i(H+V);return new l(q,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,mA=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=_,l.fromString=b,Hl=l}).apply(typeof h1<"u"?h1:typeof self<"u"?self:typeof window<"u"?window:{});var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pA,gA,jf,yA,_m,C_,vA,_A,wA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,S){return d==Array.prototype||d==Object.prototype||(d[x]=S.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sm=="object"&&sm];for(var x=0;x<d.length;++x){var S=d[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var n=t(this);function s(d,x){if(x)e:{var S=n;d=d.split(".");for(var N=0;N<d.length-1;N++){var te=d[N];if(!(te in S))break e;S=S[te]}d=d[d.length-1],N=S[d],x=x(N),x!=N&&x!=null&&e(S,d,{configurable:!0,writable:!0,value:x})}}function a(d,x){d instanceof String&&(d+="");var S=0,N=!1,te={next:function(){if(!N&&S<d.length){var ae=S++;return{value:x(ae,d[ae]),done:!1}}return N=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}s("Array.prototype.values",function(d){return d||function(){return a(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},f=this||self;function p(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function _(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function b(d,x,S){return d.call.apply(d.bind,arguments)}function T(d,x,S){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,N),d.apply(x,te)}}return function(){return d.apply(x,arguments)}}function A(d,x,S){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:T,A.apply(null,arguments)}function O(d,x){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function j(d,x){function S(){}S.prototype=x.prototype,d.aa=x.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(N,te,ae){for(var Ee=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Ee[_t-2]=arguments[_t];return x.prototype[te].apply(N,Ee)}}function F(d){const x=d.length;if(0<x){const S=Array(x);for(let N=0;N<x;N++)S[N]=d[N];return S}return[]}function D(d,x){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(p(N)){const te=d.length||0,ae=N.length||0;d.length=te+ae;for(let Ee=0;Ee<ae;Ee++)d[te+Ee]=N[Ee]}else d.push(N)}}class J{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(d){return/^[\s\xa0]*$/.test(d)}function k(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var Y=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function ce(d,x,S){for(const N in d)x.call(S,d[N],N,d)}function M(d,x){for(const S in d)x.call(void 0,d[S],S,d)}function R(d){const x={};for(const S in d)x[S]=d[S];return x}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(d,x){let S,N;for(let te=1;te<arguments.length;te++){N=arguments[te];for(S in N)d[S]=N[S];for(let ae=0;ae<V.length;ae++)S=V[ae],Object.prototype.hasOwnProperty.call(N,S)&&(d[S]=N[S])}}function q(d){var x=1;d=d.split(":");const S=[];for(;0<x&&d.length;)S.push(d.shift()),x--;return d.length&&S.push(d.join(":")),S}function H(d){f.setTimeout(()=>{throw d},0)}function U(){var d=Ce;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class Ue{constructor(){this.h=this.g=null}add(x,S){const N=st.get();N.set(x,S),this.h?this.h.next=N:this.g=N,this.h=N}}var st=new J(()=>new ot,d=>d.reset());class ot{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let We,_e=!1,Ce=new Ue,Se=()=>{const d=f.Promise.resolve(void 0);We=()=>{d.then(ee)}};var ee=()=>{for(var d;d=U();){try{d.h.call(d.g)}catch(S){H(S)}var x=st;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}_e=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};f.addEventListener("test",S,x),f.removeEventListener("test",S,x)}catch{}return d}();function Ke(d,x){if(ke.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(Y){e:{try{Q(x.nodeName);var te=!0;break e}catch{}te=!1}te||(x=null)}}else S=="mouseover"?x=d.fromElement:S=="mouseout"&&(x=d.toElement);this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:rt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ke.aa.h.call(this)}}j(Ke,ke);var rt={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),at=0;function nt(d,x,S,N,te){this.listener=d,this.proxy=null,this.src=x,this.type=S,this.capture=!!N,this.ha=te,this.key=++at,this.da=this.fa=!1}function Lt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ht(d){this.src=d,this.g={},this.h=0}Ht.prototype.add=function(d,x,S,N,te){var ae=d.toString();d=this.g[ae],d||(d=this.g[ae]=[],this.h++);var Ee=Zr(d,x,N,te);return-1<Ee?(x=d[Ee],S||(x.fa=!1)):(x=new nt(x,this.src,ae,!!N,te),x.fa=S,d.push(x)),x};function jn(d,x){var S=x.type;if(S in d.g){var N=d.g[S],te=Array.prototype.indexOf.call(N,x,void 0),ae;(ae=0<=te)&&Array.prototype.splice.call(N,te,1),ae&&(Lt(x),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Zr(d,x,S,N){for(var te=0;te<d.length;++te){var ae=d[te];if(!ae.da&&ae.listener==x&&ae.capture==!!S&&ae.ha==N)return te}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),lt={};function dn(d,x,S,N,te){if(Array.isArray(x)){for(var ae=0;ae<x.length;ae++)dn(d,x[ae],S,N,te);return null}return S=de(S),d&&d[Be]?d.K(x,S,_(N)?!!N.capture:!1,te):tt(d,x,S,!1,N,te)}function tt(d,x,S,N,te,ae){if(!x)throw Error("Invalid event type");var Ee=_(te)?!!te.capture:!!te,_t=me(d);if(_t||(d[fn]=_t=new Ht(d)),S=_t.add(x,S,N,Ee,ae),S.proxy)return S;if(N=hn(),S.proxy=N,N.src=d,N.listener=S,d.addEventListener)Ye||(te=Ee),te===void 0&&(te=!1),d.addEventListener(x.toString(),N,te);else if(d.attachEvent)d.attachEvent(Z(x.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function hn(){function d(S){return x.call(d.src,d.listener,S)}const x=le;return d}function Ut(d,x,S,N,te){if(Array.isArray(x))for(var ae=0;ae<x.length;ae++)Ut(d,x[ae],S,N,te);else N=_(N)?!!N.capture:!!N,S=de(S),d&&d[Be]?(d=d.i,x=String(x).toString(),x in d.g&&(ae=d.g[x],S=Zr(ae,S,N,te),-1<S&&(Lt(ae[S]),Array.prototype.splice.call(ae,S,1),ae.length==0&&(delete d.g[x],d.h--)))):d&&(d=me(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Zr(x,S,N,te)),(S=-1<d?x[d]:null)&&W(S))}function W(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[Be])jn(x.i,d);else{var S=d.type,N=d.proxy;x.removeEventListener?x.removeEventListener(S,N,d.capture):x.detachEvent?x.detachEvent(Z(S),N):x.addListener&&x.removeListener&&x.removeListener(N),(S=me(x))?(jn(S,d),S.h==0&&(S.src=null,x[fn]=null)):Lt(d)}}}function Z(d){return d in lt?lt[d]:lt[d]="on"+d}function le(d,x){if(d.da)d=!0;else{x=new Ke(x,this);var S=d.listener,N=d.ha||d.src;d.fa&&W(d),d=S.call(N,x)}return d}function me(d){return d=d[fn],d instanceof Ht?d:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(d){return typeof d=="function"?d:(d[be]||(d[be]=function(x){return d.handleEvent(x)}),d[be])}function Te(){ue.call(this),this.i=new Ht(this),this.M=this,this.F=null}j(Te,ue),Te.prototype[Be]=!0,Te.prototype.removeEventListener=function(d,x,S,N){Ut(this,d,x,S,N)};function Le(d,x){var S,N=d.F;if(N)for(S=[];N;N=N.F)S.push(N);if(d=d.M,N=x.type||x,typeof x=="string")x=new ke(x,d);else if(x instanceof ke)x.target=x.target||d;else{var te=x;x=new ke(N,d),$(x,te)}if(te=!0,S)for(var ae=S.length-1;0<=ae;ae--){var Ee=x.g=S[ae];te=Xe(Ee,N,!0,x)&&te}if(Ee=x.g=d,te=Xe(Ee,N,!0,x)&&te,te=Xe(Ee,N,!1,x)&&te,S)for(ae=0;ae<S.length;ae++)Ee=x.g=S[ae],te=Xe(Ee,N,!1,x)&&te}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var S=d.g[x],N=0;N<S.length;N++)Lt(S[N]);delete d.g[x],d.h--}}this.F=null},Te.prototype.K=function(d,x,S,N){return this.i.add(String(d),x,!1,S,N)},Te.prototype.L=function(d,x,S,N){return this.i.add(String(d),x,!0,S,N)};function Xe(d,x,S,N){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var te=!0,ae=0;ae<x.length;++ae){var Ee=x[ae];if(Ee&&!Ee.da&&Ee.capture==S){var _t=Ee.listener,zt=Ee.ha||Ee.src;Ee.fa&&jn(d.i,Ee),te=_t.call(zt,N)!==!1&&te}}return te&&!N.defaultPrevented}function jt(d,x,S){if(typeof d=="function")S&&(d=A(d,S));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(d,x||0)}function yr(d){d.g=jt(()=>{d.g=null,d.i&&(d.i=!1,yr(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class et extends ue{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(d){ue.call(this),this.h=d,this.g={}}j(mn,ue);var Xt=[];function Wt(d){ce(d.g,function(x,S){this.g.hasOwnProperty(S)&&W(x)},d),d.g={}}mn.prototype.N=function(){mn.aa.N.call(this),Wt(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=f.JSON.stringify,Si=f.JSON.parse,Ms=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Yn(){}Yn.prototype.h=null;function No(d){return d.h||(d.h=d.i())}function Fs(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){ke.call(this,"d")}j(Dn,ke);function Vs(){ke.call(this,"c")}j(Vs,ke);var pn={},Oo=null;function Ii(){return Oo=Oo||new Te}pn.La="serverreachability";function Us(d){ke.call(this,pn.La,d)}j(Us,ke);function Xn(d){const x=Ii();Le(x,new Us(x))}pn.STAT_EVENT="statevent";function rl(d,x){ke.call(this,pn.STAT_EVENT,d),this.stat=x}j(rl,ke);function Bt(d){const x=Ii();Le(x,new rl(x,d))}pn.Ma="timingevent";function is(d,x){ke.call(this,pn.Ma,d),this.size=x}j(is,ke);function tn(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},x)}function Ai(){this.g=!0}Ai.prototype.xa=function(){this.g=!1};function Jn(d,x,S,N,te,ae){d.info(function(){if(d.g)if(ae)for(var Ee="",_t=ae.split("&"),zt=0;zt<_t.length;zt++){var ht=_t[zt].split("=");if(1<ht.length){var Gt=ht[0];ht=ht[1];var Kt=Gt.split("_");Ee=2<=Kt.length&&Kt[1]=="type"?Ee+(Gt+"="+ht+"&"):Ee+(Gt+"=redacted&")}}else Ee=null;else Ee=ae;return"XMLHTTP REQ ("+N+") [attempt "+te+"]: "+x+`
`+S+`
`+Ee})}function Bs(d,x,S,N,te,ae,Ee){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+te+"]: "+x+`
`+S+`
`+ae+" "+Ee})}function gn(d,x,S,N){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+jo(d,S)+(N?" "+N:"")})}function nl(d,x){d.info(function(){return"TIMEOUT: "+x})}Ai.prototype.info=function(){};function jo(d,x){if(!d.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var N=S[d];if(!(2>N.length)){var te=N[1];if(Array.isArray(te)&&!(1>te.length)){var ae=te[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Ee=1;Ee<te.length;Ee++)te[Ee]=""}}}}return ns(S)}catch{return x}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function ss(){}j(ss,Yn),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},vn=new ss;function _n(d,x,S,N){this.j=d,this.i=x,this.l=S,this.R=N||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new il}function il(){this.i=null,this.g="",this.h=!1}var Do={},os={};function Zn(d,x,S){d.L=1,d.v=jr(Or(x)),d.m=S,d.P=!0,Ln(d,null)}function Ln(d,x){d.F=Date.now(),At(d),d.A=Or(d.v);var S=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),Rt(S.i,"t",N),d.C=0,S=d.j.J,d.h=new il,d.g=yu(d.j,S?x:null,!d.m),0<d.O&&(d.M=new et(A(d.Y,d,d.g),d.O)),x=d.U,S=d.g,N=d.ca;var te="readystatechange";Array.isArray(te)||(te&&(Xt[0]=te.toString()),te=Xt);for(var ae=0;ae<te.length;ae++){var Ee=dn(S,te[ae],N||x.handleEvent,!1,x.h||x);if(!Ee)break;x.g[Ee.key]=Ee}x=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),Xn(),Jn(d.i,d.u,d.A,d.l,d.R,d.m)}_n.prototype.ca=function(d){d=d.target;const x=this.M;x&&Fr(d)==3?x.j():this.Y(d)},_n.prototype.Y=function(d){try{if(d==this.g)e:{const Kt=Fr(this.g);var x=this.g.Ba();const Ur=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||fl(this.g)))){this.J||Kt!=4||x==7||(x==8||0>=Ur?Xn(3):Xn(2)),as(this);var S=this.g.Z();this.X=S;t:if(Lo(this)){var N=fl(this.g);d="";var te=N.length,ae=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),ei(this);var Ee="";break t}this.h.i=new f.TextDecoder}for(x=0;x<te;x++)this.h.h=!0,d+=this.h.i.decode(N[x],{stream:!(ae&&x==te-1)});N.length=0,this.h.g+=d,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=S==200,Bs(this.i,this.u,this.A,this.l,this.R,Kt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,zt=this.g;if((_t=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(_t)){var ht=_t;break t}}ht=null}if(S=ht)gn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mo(this,S);else{this.o=!1,this.s=3,Bt(12),rn(this),ei(this);break e}}if(this.P){S=!0;let nr;for(;!this.J&&this.C<Ee.length;)if(nr=cu(this,Ee),nr==os){Kt==4&&(this.s=4,Bt(14),S=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==Do){this.s=4,Bt(15),gn(this.i,this.l,Ee,"[Invalid Chunk]"),S=!1;break}else gn(this.i,this.l,nr,null),Mo(this,nr);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||Ee.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)gn(this.i,this.l,Ee,"[Invalid Chunked Response]"),rn(this),ei(this);else if(0<Ee.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),li(Gt),Gt.M=!0,Bt(11))}}else gn(this.i,this.l,Ee,null),Mo(this,Ee);Kt==4&&rn(this),this.o&&!this.J&&(Kt==4?Qo(this.j,this):(this.o=!1,At(this)))}else Ho(this.g),S==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),rn(this),ei(this)}}}catch{}finally{}};function Lo(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function cu(d,x){var S=d.C,N=x.indexOf(`
`,S);return N==-1?os:(S=Number(x.substring(S,N)),isNaN(S)?Do:(N+=1,N+S>x.length?os:(x=x.slice(N,N+S),d.C=N+S,x)))}_n.prototype.cancel=function(){this.J=!0,rn(this)};function At(d){d.S=Date.now()+d.I,sl(d,d.I)}function sl(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=tn(A(d.ba,d),x)}function as(d){d.B&&(f.clearTimeout(d.B),d.B=null)}_n.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(nl(this.i,this.A),this.L!=2&&(Xn(),Bt(17)),rn(this),this.s=2,ei(this)):sl(this,this.S-d)};function ei(d){d.j.G==0||d.J||Qo(d.j,d)}function rn(d){as(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,Wt(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function Mo(d,x){try{var S=d.j;if(S.G!=0&&(S.g==d||vr(S.h,d))){if(!d.K&&vr(S.h,d)&&S.G==3){try{var N=S.Da.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var te=N;if(te[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Ko(S),Bn(S);else break e;Go(S),Bt(18)}}else S.za=te[1],0<S.za-S.T&&37500>te[2]&&S.F&&S.v==0&&!S.C&&(S.C=tn(A(S.Za,S),6e3));if(1>=Fo(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Di(S,11)}else if((d.K||S.g==d)&&Ko(S),!B(x))for(te=S.Da.g.parse(x),x=0;x<te.length;x++){let ht=te[x];if(S.T=ht[0],ht=ht[1],S.G==2)if(ht[0]=="c"){S.K=ht[1],S.ia=ht[2];const Gt=ht[3];Gt!=null&&(S.la=Gt,S.j.info("VER="+S.la));const Kt=ht[4];Kt!=null&&(S.Aa=Kt,S.j.info("SVER="+S.Aa));const Ur=ht[5];Ur!=null&&typeof Ur=="number"&&0<Ur&&(N=1.5*Ur,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const nr=d.g;if(nr){const Ks=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var ae=N.h;ae.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Vo(ae,ae.h),ae.h=null))}if(N.D){const Xo=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(N.ya=Xo,xt(N.I,N.D,Xo))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var Ee=d;if(N.qa=gu(N,N.J?N.ia:null,N.W),Ee.K){ol(N.h,Ee);var _t=Ee,zt=N.L;zt&&(_t.I=zt),_t.B&&(as(_t),At(_t)),N.g=Ee}else Ws(N);0<S.i.length&&Vr(S)}else ht[0]!="stop"&&ht[0]!="close"||Di(S,7);else S.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Di(S,7):tr(S):ht[0]!="noop"&&S.l&&S.l.ta(ht),S.v=0)}}Xn(4)}catch{}}var ut=class{constructor(d,x){this.g=d,this.map=x}};function ti(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Fo(d){return d.h?1:d.g?d.g.size:0}function vr(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Vo(d,x){d.g?d.g.add(x):d.h=x}function ol(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}ti.prototype.cancel=function(){if(this.i=Mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Mn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const S of d.g.values())x=x.concat(S.D);return x}return F(d.i)}function Pi(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var x=[],S=d.length,N=0;N<S;N++)x.push(d[N]);return x}x=[],S=0;for(N in d)x[S++]=d[N];return x}function Uo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var x=[];d=d.length;for(var S=0;S<d;S++)x.push(S);return x}x=[],S=0;for(const N in d)x[S++]=N;return x}}}function wn(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var S=Uo(d),N=Pi(d),te=N.length,ae=0;ae<te;ae++)x.call(void 0,N[ae],S&&S[ae],d)}var ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(d,x){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var N=d[S].indexOf("="),te=null;if(0<=N){var ae=d[S].substring(0,N);te=d[S].substring(N+1)}else ae=d[S];x(ae,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ni(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ni){this.h=d.h,ki(this,d.j),this.o=d.o,this.g=d.g,ls(this,d.s),this.l=d.l;var x=d.i,S=new ii;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),Ri(this,S),this.m=d.m}else d&&(x=String(d).match(ri))?(this.h=!1,ki(this,x[1]||"",!0),this.o=ct(x[2]||""),this.g=ct(x[3]||"",!0),ls(this,x[4]),this.l=ct(x[5]||"",!0),Ri(this,x[6]||"",!0),this.m=ct(x[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}ni.prototype.toString=function(){var d=[],x=this.j;x&&d.push(us(x,zs,!0),":");var S=this.g;return(S||x=="file")&&(d.push("//"),(x=this.o)&&d.push(us(x,zs,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(us(S,S.charAt(0)=="/"?cs:ll,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",us(S,Bo)),d.join("")};function Or(d){return new ni(d)}function ki(d,x,S){d.j=S?ct(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function ls(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function Ri(d,x,S){x instanceof ii?(d.i=x,si(d.i,d.h)):(S||(x=us(x,fu)),d.i=new ii(x,d.h))}function xt(d,x,S){d.i.set(x,S)}function jr(d){return xt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ct(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function us(d,x,S){return typeof d=="string"?(d=encodeURI(d).replace(x,al),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function al(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var zs=/[#\/\?@]/g,ll=/[#\?:]/g,cs=/[#\?]/g,fu=/[#\?@]/g,Bo=/#/g;function ii(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function cr(d){d.g||(d.g=new Map,d.h=0,d.i&&Oc(d.i,function(x,S){d.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}r=ii.prototype,r.add=function(d,x){cr(this),this.i=null,d=fr(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(x),this.h+=1,this};function Fn(d,x){cr(d),x=fr(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function Dr(d,x){return cr(d),x=fr(d,x),d.g.has(x)}r.forEach=function(d,x){cr(this),this.g.forEach(function(S,N){S.forEach(function(te){d.call(x,te,N,this)},this)},this)},r.na=function(){cr(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let N=0;N<x.length;N++){const te=d[N];for(let ae=0;ae<te.length;ae++)S.push(x[N])}return S},r.V=function(d){cr(this);let x=[];if(typeof d=="string")Dr(this,d)&&(x=x.concat(this.g.get(fr(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)x=x.concat(d[S])}return x},r.set=function(d,x){return cr(this),this.i=null,d=fr(this,d),Dr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},r.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function Rt(d,x,S){Fn(d,x),0<S.length&&(d.i=null,d.g.set(fr(d,x),F(S)),d.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var N=x[S];const ae=encodeURIComponent(String(N)),Ee=this.V(N);for(N=0;N<Ee.length;N++){var te=ae;Ee[N]!==""&&(te+="="+encodeURIComponent(String(Ee[N]))),d.push(te)}}return this.i=d.join("&")};function fr(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function si(d,x){x&&!d.j&&(cr(d),d.i=null,d.g.forEach(function(S,N){var te=N.toLowerCase();N!=te&&(Fn(this,N),Rt(this,te,S))},d)),d.j=x}function jc(d,x){const S=new Ai;if(f.Image){const N=new Image;N.onload=O(Lr,S,"TestLoadImage: loaded",!0,x,N),N.onerror=O(Lr,S,"TestLoadImage: error",!1,x,N),N.onabort=O(Lr,S,"TestLoadImage: abort",!1,x,N),N.ontimeout=O(Lr,S,"TestLoadImage: timeout",!1,x,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else x(!1)}function du(d,x){const S=new Ai,N=new AbortController,te=setTimeout(()=>{N.abort(),Lr(S,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:N.signal}).then(ae=>{clearTimeout(te),ae.ok?Lr(S,"TestPingServer: ok",!0,x):Lr(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(te),Lr(S,"TestPingServer: error",!1,x)})}function Lr(d,x,S,N,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),N(S)}catch{}}function Dc(){this.g=new Ms}function hu(d,x,S){const N=S||"";try{wn(d,function(te,ae){let Ee=te;_(te)&&(Ee=ns(te)),x.push(N+ae+"="+encodeURIComponent(Ee))})}catch(te){throw x.push(N+"type="+encodeURIComponent("_badmap")),te}}function oi(d){this.l=d.Ub||null,this.j=d.eb||!1}j(oi,Yn),oi.prototype.g=function(){return new qs(this.l,this.j)},oi.prototype.i=function(d){return function(){return d}}({});function qs(d,x){Te.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(qs,Te),r=qs.prototype,r.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,Vn(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Mr(this):Vn(this),this.readyState==3&&ul(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Mr(this))},r.Qa=function(d){this.g&&(this.response=d,Mr(this))},r.ga=function(){this.g&&Mr(this)};function Mr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vn(d)}r.setRequestHeader=function(d,x){this.u.append(d,x)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=x.next();return d.join(`\r
`)};function Vn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Un(d){let x="";return ce(d,function(S,N){x+=N,x+=":",x+=S,x+=`\r
`}),x}function fs(d,x,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=Un(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):xt(d,x,S))}function St(d){Te.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(St,Te);var $s=/^https?$/i,cl=["POST","PUT"];r=St.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,x,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?No(this.o):No(vn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(ae){Hs(this,ae);return}if(d=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var te in N)S.set(te,N[te]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ae of N.keys())S.set(ae,N.get(ae));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ae=>ae.toLowerCase()=="content-type"),te=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(cl,x,void 0))||N||te||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ee]of S)this.g.setRequestHeader(ae,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$o(this),this.u=!0,this.g.send(d),this.u=!1}catch(ae){Hs(this,ae)}};function Hs(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,zo(d),nn(d)}function zo(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Le(this,"complete"),Le(this,"abort"),nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),St.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qo(this):this.bb())},r.bb=function(){qo(this)};function qo(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Fr(d)!=4||d.Z()!=2)){if(d.u&&Fr(d)==4)jt(d.Ea,0,d);else if(Le(d,"readystatechange"),Fr(d)==4){d.h=!1;try{const Ee=d.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var N;if(N=Ee===0){var te=String(d.D).match(ri)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),N=!$s.test(te?te.toLowerCase():"")}S=N}if(S)Le(d,"complete"),Le(d,"success");else{d.m=6;try{var ae=2<Fr(d)?d.g.statusText:""}catch{ae=""}d.l=ae+" ["+d.Z()+"]",zo(d)}}finally{nn(d)}}}}function nn(d,x){if(d.g){$o(d);const S=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||Le(d,"ready");try{S.onreadystatechange=N}catch{}}}function $o(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function Fr(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Si(x)}};function fl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ho(d){const x={};d=(d.g&&2<=Fr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(B(d[N]))continue;var S=q(d[N]);const te=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ae=x[te]||[];x[te]=ae,ae.push(S)}M(x,function(N){return N.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(d,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||x}function dl(d){this.Aa=0,this.i=[],this.j=new Ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,d),this.cb=ai("retryDelaySeedMs",1e4,d),this.Wa=ai("forwardChannelMaxRetries",2,d),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ti(d&&d.concurrentRequestLimit),this.Da=new Dc,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=dl.prototype,r.la=8,r.G=1,r.connect=function(d,x,S,N){Bt(0),this.W=d,this.H=x||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=gu(this,null,this.W),Vr(this)};function tr(d){if(Ni(d),d.G==3){var x=d.U++,S=Or(d.I);if(xt(S,"SID",d.K),xt(S,"RID",x),xt(S,"TYPE","terminate"),Oi(d,S),x=new _n(d,d.j,x),x.L=2,x.v=jr(Or(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!S&&f.Image&&(new Image().src=x.v,S=!0),S||(x.g=yu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),At(x)}pu(d)}function Bn(d){d.g&&(li(d),d.g.cancel(),d.g=null)}function Ni(d){Bn(d),d.u&&(f.clearTimeout(d.u),d.u=null),Ko(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Vr(d){if(!Nr(d.h)&&!d.s){d.s=!0;var x=d.Ga;We||Se(),_e||(We(),_e=!0),Ce.add(x,d),d.B=0}}function Lc(d,x){return Fo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=tn(A(d.Ga,d,x),mu(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const te=new _n(this,this.j,d);let ae=this.o;if(this.S&&(ae?(ae=R(ae),$(ae,this.S)):ae=this.S),this.m!==null||this.O||(te.H=ae,ae=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=ds(this,te,x),S=Or(this.I),xt(S,"RID",d),xt(S,"CVER",22),this.D&&xt(S,"X-HTTP-Session-Id",this.D),Oi(this,S),ae&&(this.O?x="headers="+encodeURIComponent(String(Un(ae)))+"&"+x:this.m&&fs(S,this.m,ae)),Vo(this.h,te),this.Ua&&xt(S,"TYPE","init"),this.P?(xt(S,"$req",x),xt(S,"SID","null"),te.T=!0,Zn(te,S,null)):Zn(te,S,x),this.G=2}}else this.G==3&&(d?Wo(this,d):this.i.length==0||Nr(this.h)||Wo(this))};function Wo(d,x){var S;x?S=x.l:S=d.U++;const N=Or(d.I);xt(N,"SID",d.K),xt(N,"RID",S),xt(N,"AID",d.T),Oi(d,N),d.m&&d.o&&fs(N,d.m,d.o),S=new _n(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),x&&(d.i=x.D.concat(d.i)),x=ds(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Vo(d.h,S),Zn(S,N,x)}function Oi(d,x){d.H&&ce(d.H,function(S,N){xt(x,N,S)}),d.l&&wn({},function(S,N){xt(x,N,S)})}function ds(d,x,S){S=Math.min(d.i.length,S);var N=d.l?A(d.l.Na,d.l,d):null;e:{var te=d.i;let ae=-1;for(;;){const Ee=["count="+S];ae==-1?0<S?(ae=te[0].g,Ee.push("ofs="+ae)):ae=0:Ee.push("ofs="+ae);let _t=!0;for(let zt=0;zt<S;zt++){let ht=te[zt].g;const Gt=te[zt].map;if(ht-=ae,0>ht)ae=Math.max(0,te[zt].g-100),_t=!1;else try{hu(Gt,Ee,"req"+ht+"_")}catch{N&&N(Gt)}}if(_t){N=Ee.join("&");break e}}}return d=d.i.splice(0,S),x.D=d,N}function Ws(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;We||Se(),_e||(We(),_e=!0),Ce.add(x,d),d.v=0}}function Go(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=tn(A(d.Fa,d),mu(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,ji(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=tn(A(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Bn(this),ji(this))};function li(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function ji(d){d.g=new _n(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Or(d.qa);xt(x,"RID","rpc"),xt(x,"SID",d.K),xt(x,"AID",d.T),xt(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&xt(x,"TO",d.ja),xt(x,"TYPE","xmlhttp"),Oi(d,x),d.m&&d.o&&fs(x,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=jr(Or(x)),S.m=null,S.P=!0,Ln(S,d)}r.Za=function(){this.C!=null&&(this.C=null,Bn(this),Go(this),Bt(19))};function Ko(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Qo(d,x){var S=null;if(d.g==x){Ko(d),li(d),d.g=null;var N=2}else if(vr(d.h,x))S=x.D,ol(d.h,x),N=1;else return;if(d.G!=0){if(x.o)if(N==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var te=d.B;N=Ii(),Le(N,new is(N,S)),Vr(d)}else Ws(d);else if(te=x.s,te==3||te==0&&0<x.X||!(N==1&&Lc(d,x)||N==2&&Go(d)))switch(S&&0<S.length&&(x=d.h,x.i=x.i.concat(S)),te){case 1:Di(d,5);break;case 4:Di(d,10);break;case 3:Di(d,6);break;default:Di(d,2)}}}function mu(d,x){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*x}function Di(d,x){if(d.j.info("Error code "+x),x==2){var S=A(d.fb,d),N=d.Xa;const te=!N;N=new ni(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ki(N,"https"),jr(N),te?jc(N.toString(),S):du(N.toString(),S)}else Bt(2);d.G=0,d.l&&d.l.sa(x),pu(d),Ni(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function pu(d){if(d.G=0,d.ka=[],d.l){const x=Mn(d.h);(x.length!=0||d.i.length!=0)&&(D(d.ka,x),D(d.ka,d.i),d.h.i.length=0,F(d.i),d.i.length=0),d.l.ra()}}function gu(d,x,S){var N=S instanceof ni?Or(S):new ni(S);if(N.g!="")x&&(N.g=x+"."+N.g),ls(N,N.s);else{var te=f.location;N=te.protocol,x=x?x+"."+te.hostname:te.hostname,te=+te.port;var ae=new ni(null);N&&ki(ae,N),x&&(ae.g=x),te&&ls(ae,te),S&&(ae.l=S),N=ae}return S=d.D,x=d.ya,S&&x&&xt(N,S,x),xt(N,"VER",d.la),Oi(d,N),N}function yu(d,x,S){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new St(new oi({eb:S})):new St(d.pa),x.Ha(d.J),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hl(){}r=hl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Gs(){}Gs.prototype.g=function(d,x){return new rr(d,x)};function rr(d,x){Te.call(this),this.g=new dl(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!B(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!B(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new ui(this)}j(rr,Te),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){tr(this.g)},rr.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=ns(d),d=S);x.i.push(new ut(x.Ya++,d)),x.G==3&&Vr(x)},rr.prototype.N=function(){this.g.l=null,delete this.j,tr(this.g),delete this.g,rr.aa.N.call(this)};function vu(d){Dn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const S in x){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}j(vu,Dn);function Yo(){Vs.call(this),this.status=1}j(Yo,Vs);function ui(d){this.g=d}j(ui,hl),ui.prototype.ua=function(){Le(this.g,"a")},ui.prototype.ta=function(d){Le(this.g,new vu(d))},ui.prototype.sa=function(d){Le(this.g,new Yo)},ui.prototype.ra=function(){Le(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,wA=function(){return new Gs},_A=function(){return Ii()},vA=pn,C_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,_m=Ci,yn.COMPLETE="complete",yA=yn,Fs.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Te.prototype.listen=Te.prototype.K,jf=Fs,gA=oi,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,pA=St}).apply(typeof sm<"u"?sm:typeof self<"u"?self:typeof window<"u"?window:{});const m1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="10.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new lw("@firebase/firestore");function Af(){return Ql.logLevel}function je(r,...e){if(Ql.logLevel<=pt.DEBUG){const t=e.map(bw);Ql.debug(`Firestore (${Sc}): ${r}`,...t)}}function To(r,...e){if(Ql.logLevel<=pt.ERROR){const t=e.map(bw);Ql.error(`Firestore (${Sc}): ${r}`,...t)}}function hc(r,...e){if(Ql.logLevel<=pt.WARN){const t=e.map(bw);Ql.warn(`Firestore (${Sc}): ${r}`,...t)}}function bw(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(r="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+r;throw To(e),new Error(e)}function Ot(r,e){r||Qe()}function Je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class cD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fD{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const s=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let a=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new bo,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ot(typeof n.accessToken=="string"),new bA(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string"),new Qr(e)}}class dD{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hD{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new dD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,je("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const s=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot(typeof t.token=="string"),this.R=t.token,new mD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=gD(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<t&&(n+=e.charAt(s[a]%e.length))}return n}}function Tt(r,e){return r<e?-1:r>e?1:0}function mc(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pr.fromMillis(Date.now())}static fromDate(e){return pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new pr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new pr(0,0))}static max(){return new Ze(new pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t,n){t===void 0?t=0:t>e.length&&Qe(),n===void 0?n=e.length-t:n>e.length-t&&Qe(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ed.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ed?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.get(s),l=t.get(s);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vt extends ed{construct(e,t,n){return new Vt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const yD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends ed{construct(e,t,n){return new Pr(e,t,n)}static isValidIdentifier(e){return yD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let n="",s=0;const a=()=>{if(n.length===0)throw new Pe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Pe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(n+=f,s++):(a(),s++)}if(a(),l)throw new Pe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Vt.fromString(e))}static fromName(e){return new Ve(Vt.fromString(e).popFirst(5))}static empty(){return new Ve(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Vt(e.slice()))}}function vD(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Ze.fromTimestamp(n===1e9?new pr(t+1,0):new pr(t,n));return new Wa(s,Ve.empty(),e)}function _D(r){return new Wa(r.readTime,r.key,-1)}class Wa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Wa(Ze.min(),Ve.empty(),-1)}static max(){return new Wa(Ze.max(),Ve.empty(),-1)}}function wD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(r.documentKey,e.documentKey),t!==0?t:Tt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(r){if(r.code!==he.FAILED_PRECONDITION||r.message!==bD)throw r;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,n)=>{t(e)})}static reject(e){return new ye((t,n)=>{n(e)})}static waitFor(e){return new ye((t,n)=>{let s=0,a=0,l=!1;e.forEach(f=>{++s,f.next(()=>{++a,l&&a===s&&t()},p=>n(p))}),l=!0,a===s&&t()})}static or(e){let t=ye.resolve(!1);for(const n of e)t=t.next(s=>s?ye.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,a)=>{n.push(t.call(this,s,a))}),this.waitFor(n)}static mapArray(e,t){return new ye((n,s)=>{const a=e.length,l=new Array(a);let f=0;for(let p=0;p<a;p++){const _=p;t(e[_]).next(b=>{l[_]=b,++f,f===a&&n(l)},b=>s(b))}})}static doWhile(e,t){return new ye((n,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):n()};a()})}}function ED(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _d(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xw.oe=-1;function fp(r){return r==null}function Mm(r){return r===0&&1/r==-1/0}function TD(r){return typeof r=="number"&&Number.isInteger(r)&&!Mm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function su(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function SD(r,e){const t=[];for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(e(r[n],n,r));return t}function EA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new $t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,t,n,s,a){this.key=e,this.value=t,this.color=n??Cr.RED,this.left=s??Cr.EMPTY,this.right=a??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,a){return new Cr(e??this.key,t??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,n),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Cr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(e,t,n,s,a){return this}insert(e,t,n){return new Cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g1(this.data.getIterator())}getIteratorFrom(e){return new g1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kr(this.comparator);return t.data=e,t}}class g1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new kr(Pr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new TA("Invalid base64 string: "+a):a}}(e);return new Xr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(r){if(Ot(!!r),typeof r=="string"){let e=0;const t=ID.exec(r);if(Ot(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ar(r.seconds),nanos:ar(r.nanos)}}function ar(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yl(r){return typeof r=="string"?Xr.fromBase64String(r):Xr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Tw(r){const e=r.mapValue.fields.__previous_value__;return Ew(e)?Tw(e):e}function td(r){const e=Ga(r.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,n,s,a,l,f,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=_}}class rd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am={mapValue:{}};function Xl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ew(r)?4:CD(r)?9007199254740991:10:Qe()}function ks(r,e){if(r===e)return!0;const t=Xl(r);if(t!==Xl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return td(r).isEqual(td(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ga(s.timestampValue),f=Ga(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,a){return Yl(s.bytesValue).isEqual(Yl(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return ar(s.geoPointValue.latitude)===ar(a.geoPointValue.latitude)&&ar(s.geoPointValue.longitude)===ar(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ar(s.integerValue)===ar(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ar(s.doubleValue),f=ar(a.doubleValue);return l===f?Mm(l)===Mm(f):isNaN(l)&&isNaN(f)}return!1}(r,e);case 9:return mc(r.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(p1(l)!==p1(f))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(f[p]===void 0||!ks(l[p],f[p])))return!1;return!0}(r,e);default:return Qe()}}function nd(r,e){return(r.values||[]).find(t=>ks(t,e))!==void 0}function pc(r,e){if(r===e)return 0;const t=Xl(r),n=Xl(e);if(t!==n)return Tt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Tt(r.booleanValue,e.booleanValue);case 2:return function(a,l){const f=ar(a.integerValue||a.doubleValue),p=ar(l.integerValue||l.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return y1(r.timestampValue,e.timestampValue);case 4:return y1(td(r),td(e));case 5:return Tt(r.stringValue,e.stringValue);case 6:return function(a,l){const f=Yl(a),p=Yl(l);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),p=l.split("/");for(let _=0;_<f.length&&_<p.length;_++){const b=Tt(f[_],p[_]);if(b!==0)return b}return Tt(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const f=Tt(ar(a.latitude),ar(l.latitude));return f!==0?f:Tt(ar(a.longitude),ar(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],p=l.values||[];for(let _=0;_<f.length&&_<p.length;++_){const b=pc(f[_],p[_]);if(b)return b}return Tt(f.length,p.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===am.mapValue&&l===am.mapValue)return 0;if(a===am.mapValue)return 1;if(l===am.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),_=l.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const A=Tt(p[T],b[T]);if(A!==0)return A;const O=pc(f[p[T]],_[b[T]]);if(O!==0)return O}return Tt(p.length,b.length)}(r.mapValue,e.mapValue);default:throw Qe()}}function y1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Tt(r,e);const t=Ga(r),n=Ga(e),s=Tt(t.seconds,n.seconds);return s!==0?s:Tt(t.nanos,n.nanos)}function gc(r){return P_(r)}function P_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Ga(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Yl(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ve.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",s=!0;for(const a of t.values||[])s?s=!1:n+=",",n+=P_(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${P_(t.fields[l])}`;return s+"}"}(r.mapValue):Qe()}function v1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function k_(r){return!!r&&"integerValue"in r}function Sw(r){return!!r&&"arrayValue"in r}function _1(r){return!!r&&"nullValue"in r}function w1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wm(r){return!!r&&"mapValue"in r}function zf(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return su(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=zf(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zf(r.arrayValue.values[t]);return e}return Object.assign({},r)}function CD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(t)}setAll(e){let t=Pr.emptyPath(),n={},s=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,s),n={},s=[],t=f.popLast()}l?n[f.lastSegment()]=zf(l):s.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,s)}delete(e){const t=this.field(e.popLast());wm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];wm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){su(t,(s,a)=>e[s]=a);for(const s of n)delete e[s]}clone(){return new Rn(zf(this.value))}}function SA(r){const e=[];return su(r.fields,(t,n)=>{const s=new Pr([t]);if(wm(n)){const a=SA(n.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t,n,s,a,l,f){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Yr(e,0,Ze.min(),Ze.min(),Ze.min(),Rn.empty(),0)}static newFoundDocument(e,t,n,s){return new Yr(e,1,t,Ze.min(),n,s,0)}static newNoDocument(e,t){return new Yr(e,2,t,Ze.min(),Ze.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new Yr(e,3,t,Ze.min(),Ze.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t){this.position=e,this.inclusive=t}}function b1(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const a=e[s],l=r.position[s];if(a.field.isKeyField()?n=Ve.comparator(Ve.fromName(l.referenceValue),t.key):n=pc(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function x1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ks(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function PD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{}class ur extends IA{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new RD(e,t,n):t==="array-contains"?new jD(e,n):t==="in"?new DD(e,n):t==="not-in"?new LD(e,n):t==="array-contains-any"?new MD(e,n):new ur(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new ND(e,n):new OD(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(pc(t,this.value)):t!==null&&Xl(this.value)===Xl(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends IA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ts(e,t)}matches(e){return AA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AA(r){return r.op==="and"}function CA(r){return kD(r)&&AA(r)}function kD(r){for(const e of r.filters)if(e instanceof ts)return!1;return!0}function R_(r){if(r instanceof ur)return r.field.canonicalString()+r.op.toString()+gc(r.value);if(CA(r))return r.filters.map(e=>R_(e)).join(",");{const e=r.filters.map(t=>R_(t)).join(",");return`${r.op}(${e})`}}function PA(r,e){return r instanceof ur?function(n,s){return s instanceof ur&&n.op===s.op&&n.field.isEqual(s.field)&&ks(n.value,s.value)}(r,e):r instanceof ts?function(n,s){return s instanceof ts&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,l,f)=>a&&PA(l,s.filters[f]),!0):!1}(r,e):void Qe()}function kA(r){return r instanceof ur?function(t){return`${t.field.canonicalString()} ${t.op} ${gc(t.value)}`}(r):r instanceof ts?function(t){return t.op.toString()+" {"+t.getFilters().map(kA).join(" ,")+"}"}(r):"Filter"}class RD extends ur{constructor(e,t,n){super(e,t,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class ND extends ur{constructor(e,t){super(e,"in",t),this.keys=RA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OD extends ur{constructor(e,t){super(e,"not-in",t),this.keys=RA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RA(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ve.fromName(n.referenceValue))}class jD extends ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sw(t)&&nd(t.arrayValue,this.value)}}class DD extends ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nd(this.value.arrayValue,t)}}class LD extends ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!nd(this.value.arrayValue,t)}}class MD extends ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>nd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t=null,n=[],s=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=f,this.ue=null}}function E1(r,e=null,t=[],n=[],s=null,a=null,l=null){return new FD(r,e,t,n,s,a,l)}function Iw(r){const e=Je(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>R_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),fp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>gc(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>gc(n)).join(",")),e.ue=t}return e.ue}function Aw(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!PD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!PA(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!x1(r.startAt,e.startAt)&&x1(r.endAt,e.endAt)}function N_(r){return Ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t=null,n=[],s=[],a=null,l="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VD(r,e,t,n,s,a,l,f){return new Ic(r,e,t,n,s,a,l,f)}function NA(r){return new Ic(r)}function T1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OA(r){return r.collectionGroup!==null}function qf(r){const e=Je(r);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new kr(Pr.comparator);return l.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(f=f.add(_.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new id(a,n))}),t.has(Pr.keyField().canonicalString())||e.ce.push(new id(Pr.keyField(),n))}return e.ce}function Cs(r){const e=Je(r);return e.le||(e.le=jA(e,qf(r))),e.le}function UD(r){const e=Je(r);return e.he||(e.he=jA(e,r.explicitOrderBy)),e.he}function jA(r,e){if(r.limitType==="F")return E1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new id(s.field,a)});const t=r.endAt?new Fm(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Fm(r.startAt.position,r.startAt.inclusive):null;return E1(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function O_(r,e){const t=r.filters.concat([e]);return new Ic(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Vm(r,e,t){return new Ic(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function dp(r,e){return Aw(Cs(r),Cs(e))&&r.limitType===e.limitType}function DA(r){return`${Iw(Cs(r))}|lt:${r.limitType}`}function Zu(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>kA(s)).join(", ")}]`),fp(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>gc(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>gc(s)).join(",")),`Target(${n})`}(Cs(r))}; limitType=${r.limitType})`}function hp(r,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ve.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,s){for(const a of qf(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(l,f,p){const _=b1(l,f,p);return l.inclusive?_<=0:_<0}(n.startAt,qf(n),s)||n.endAt&&!function(l,f,p){const _=b1(l,f,p);return l.inclusive?_>=0:_>0}(n.endAt,qf(n),s))}(r,e)}function BD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LA(r){return(e,t)=>{let n=!1;for(const s of qf(r)){const a=zD(s,e,t);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function zD(r,e,t){const n=r.field.isKeyField()?Ve.comparator(e.key,t.key):function(a,l,f){const p=l.data.field(a),_=f.data.field(a);return p!==null&&_!==null?pc(p,_):Qe()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(t,n)=>{for(const[s,a]of n)e(s,a)})}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new $t(Ve.comparator);function So(){return qD}const MA=new $t(Ve.comparator);function Df(...r){let e=MA;for(const t of r)e=e.insert(t.key,t);return e}function FA(r){let e=MA;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function zl(){return $f()}function VA(){return $f()}function $f(){return new Ac(r=>r.toString(),(r,e)=>r.isEqual(e))}const $D=new $t(Ve.comparator),HD=new kr(Ve.comparator);function mt(...r){let e=HD;for(const t of r)e=e.add(t);return e}const WD=new kr(Tt);function GD(){return WD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function BA(r){return{integerValue:""+r}}function zA(r,e){return TD(e)?BA(e):UA(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this._=void 0}}function KD(r,e,t){return r instanceof sd?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ew(a)&&(a=Tw(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof od?$A(r,e):r instanceof ad?HA(r,e):function(s,a){const l=qA(s,a),f=S1(l)+S1(s.Pe);return k_(l)&&k_(s.Pe)?BA(f):UA(s.serializer,f)}(r,e)}function QD(r,e,t){return r instanceof od?$A(r,e):r instanceof ad?HA(r,e):t}function qA(r,e){return r instanceof ld?function(n){return k_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class sd extends mp{}class od extends mp{constructor(e){super(),this.elements=e}}function $A(r,e){const t=WA(e);for(const n of r.elements)t.some(s=>ks(s,n))||t.push(n);return{arrayValue:{values:t}}}class ad extends mp{constructor(e){super(),this.elements=e}}function HA(r,e){let t=WA(e);for(const n of r.elements)t=t.filter(s=>!ks(s,n));return{arrayValue:{values:t}}}class ld extends mp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function S1(r){return ar(r.integerValue||r.doubleValue)}function WA(r){return Sw(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t){this.field=e,this.transform=t}}function YD(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof od&&s instanceof od||n instanceof ad&&s instanceof ad?mc(n.elements,s.elements,ks):n instanceof ld&&s instanceof ld?ks(n.Pe,s.Pe):n instanceof sd&&s instanceof sd}(r.transform,e.transform)}class XD{constructor(e,t){this.version=e,this.transformResults=t}}class xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bm(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pp{}function KA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cw(r.key,xi.none()):new wd(r.key,r.data,xi.none());{const t=r.data,n=Rn.empty();let s=new kr(Pr.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new Ya(r.key,n,new Qn(s.toArray()),xi.none())}}function JD(r,e,t){r instanceof wd?function(s,a,l){const f=s.value.clone(),p=A1(s.fieldTransforms,a,l.transformResults);f.setAll(p),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Ya?function(s,a,l){if(!bm(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=A1(s.fieldTransforms,a,l.transformResults),p=a.data;p.setAll(QA(s)),p.setAll(f),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(r,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Hf(r,e,t,n){return r instanceof wd?function(a,l,f,p){if(!bm(a.precondition,l))return f;const _=a.value.clone(),b=C1(a.fieldTransforms,p,l);return _.setAll(b),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(r,e,t,n):r instanceof Ya?function(a,l,f,p){if(!bm(a.precondition,l))return f;const _=C1(a.fieldTransforms,p,l),b=l.data;return b.setAll(QA(a)),b.setAll(_),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(r,e,t,n):function(a,l,f){return bm(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f}(r,e,t)}function ZD(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),a=qA(n.transform,s||null);a!=null&&(t===null&&(t=Rn.empty()),t.set(n.field,a))}return t||null}function I1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&mc(n,s,(a,l)=>YD(a,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wd extends pp{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ya extends pp{constructor(e,t,n,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function A1(r,e,t){const n=new Map;Ot(r.length===t.length);for(let s=0;s<t.length;s++){const a=r[s],l=a.transform,f=e.data.field(a.field);n.set(a.field,QD(l,f,t[s]))}return n}function C1(r,e,t){const n=new Map;for(const s of r){const a=s.transform,l=t.data.field(s.field);n.set(s.field,KD(a,l,e))}return n}class Cw extends pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e3 extends pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&JD(a,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Hf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Hf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=VA();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(s.key)?null:f;const p=KA(l,f);p!==null&&n.set(s.key,p),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(t,n)=>I1(t,n))&&mc(this.baseMutations,e.baseMutations,(t,n)=>I1(t,n))}}class Pw{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Ot(e.mutations.length===n.length);let s=function(){return $D}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,n[l].version);return new Pw(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,yt;function s3(r){switch(r){default:return Qe();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function YA(r){if(r===void 0)return To("GRPC error has no .code"),he.UNKNOWN;switch(r){case or.OK:return he.OK;case or.CANCELLED:return he.CANCELLED;case or.UNKNOWN:return he.UNKNOWN;case or.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case or.INTERNAL:return he.INTERNAL;case or.UNAVAILABLE:return he.UNAVAILABLE;case or.UNAUTHENTICATED:return he.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case or.NOT_FOUND:return he.NOT_FOUND;case or.ALREADY_EXISTS:return he.ALREADY_EXISTS;case or.PERMISSION_DENIED:return he.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case or.ABORTED:return he.ABORTED;case or.OUT_OF_RANGE:return he.OUT_OF_RANGE;case or.UNIMPLEMENTED:return he.UNIMPLEMENTED;case or.DATA_LOSS:return he.DATA_LOSS;default:return Qe()}}(yt=or||(or={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new Hl([4294967295,4294967295],0);function P1(r){const e=o3().encode(r),t=new mA;return t.update(e),new Uint8Array(t.digest())}function k1(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Hl([t,n],0),new Hl([s,a],0)]}class kw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Lf(`Invalid padding: ${t}`);if(n<0)throw new Lf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Hl.fromNumber(this.Ie)}Ee(e,t,n){let s=e.add(t.multiply(Hl.fromNumber(n)));return s.compare(a3)===1&&(s=new Hl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=P1(e),[n,s]=k1(t);for(let a=0;a<this.hashCount;a++){const l=this.Ee(n,s,a);if(!this.de(l))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new kw(a,s,t);return n.forEach(f=>l.insert(f)),l}insert(e){if(this.Ie===0)return;const t=P1(e),[n,s]=k1(t);for(let a=0;a<this.hashCount;a++){const l=this.Ee(n,s,a);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t,n,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new gp(Ze.min(),s,new $t(Tt),So(),mt())}}class bd{constructor(e,t,n,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bd(n,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t,n,s){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=s}}class XA{constructor(e,t){this.targetId=e,this.me=t}}class JA{constructor(e,t,n=Xr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class R1{constructor(){this.fe=0,this.ge=O1(),this.pe=Xr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=mt(),t=mt(),n=mt();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Qe()}}),new bd(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=O1()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class l3{constructor(e){this.Le=e,this.Be=new Map,this.ke=So(),this.qe=N1(),this.Qe=new $t(Tt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,n=e.me.count,s=this.Je(t);if(s){const a=s.target;if(N_(a))if(n===0){const l=new Ve(a.path);this.Ue(t,l,Yr.newNoDocument(l,Ze.min()))}else Ot(n===1);else{const l=this.Ye(t);if(l!==n){const f=this.Ze(e),p=f?this.Xe(f,e,l):1;if(p!==0){this.je(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=t;let l,f;try{l=Yl(n).toUint8Array()}catch(p){if(p instanceof TA)return hc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new kw(l,s,a)}catch(p){return hc(p instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ie===0?null:f}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let s=0;return n.forEach(a=>{const l=this.Le.tt(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,a,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((a,l)=>{const f=this.Je(l);if(f){if(a.current&&N_(f.target)){const p=new Ve(f.target.path);this.ke.get(p)!==null||this.it(l,p)||this.Ue(l,p,Yr.newNoDocument(p,e))}a.be&&(t.set(l,a.Ce()),a.ve())}});let n=mt();this.qe.forEach((a,l)=>{let f=!0;l.forEachWhile(p=>{const _=this.Je(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const s=new gp(e,t,this.Qe,this.ke,n);return this.ke=So(),this.qe=N1(),this.Qe=new $t(Tt),s}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new R1,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kr(Tt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||je("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new R1),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function N1(){return new $t(Ve.comparator)}function O1(){return new $t(Ve.comparator)}const u3={asc:"ASCENDING",desc:"DESCENDING"},c3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f3={and:"AND",or:"OR"};class d3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function j_(r,e){return r.useProto3Json||fp(e)?e:{value:e}}function Um(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function h3(r,e){return Um(r,e.toTimestamp())}function Ps(r){return Ot(!!r),Ze.fromTimestamp(function(t){const n=Ga(t);return new pr(n.seconds,n.nanos)}(r))}function Rw(r,e){return D_(r,e).canonicalString()}function D_(r,e){const t=function(s){return new Vt(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function eC(r){const e=Vt.fromString(r);return Ot(oC(e)),e}function L_(r,e){return Rw(r.databaseId,e.path)}function Gg(r,e){const t=eC(e);if(t.get(1)!==r.databaseId.projectId)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ve(rC(t))}function tC(r,e){return Rw(r.databaseId,e)}function m3(r){const e=eC(r);return e.length===4?Vt.emptyPath():rC(e)}function M_(r){return new Vt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rC(r){return Ot(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function j1(r,e,t){return{name:L_(r,e),fields:t.value.mapValue.fields}}function p3(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(_,b){return _.useProto3Json?(Ot(b===void 0||typeof b=="string"),Xr.fromBase64String(b||"")):(Ot(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Xr.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(_){const b=_.code===void 0?he.UNKNOWN:YA(_.code);return new Pe(b,_.message||"")}(l);t=new JA(n,s,a,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Gg(r,n.document.name),a=Ps(n.document.updateTime),l=n.document.createTime?Ps(n.document.createTime):Ze.min(),f=new Rn({mapValue:{fields:n.document.fields}}),p=Yr.newFoundDocument(s,a,l,f),_=n.targetIds||[],b=n.removedTargetIds||[];t=new xm(_,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Gg(r,n.document),a=n.readTime?Ps(n.readTime):Ze.min(),l=Yr.newNoDocument(s,a),f=n.removedTargetIds||[];t=new xm([],f,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Gg(r,n.document),a=n.removedTargetIds||[];t=new xm([],a,s,null)}else{if(!("filter"in e))return Qe();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new i3(s,a),f=n.targetId;t=new XA(f,l)}}return t}function g3(r,e){let t;if(e instanceof wd)t={update:j1(r,e.key,e.value)};else if(e instanceof Cw)t={delete:L_(r,e.key)};else if(e instanceof Ya)t={update:j1(r,e.key,e.data),updateMask:S3(e.fieldMask)};else{if(!(e instanceof e3))return Qe();t={verify:L_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const f=l.transform;if(f instanceof sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof od)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ad)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ld)return{fieldPath:l.field.canonicalString(),increment:f.Pe};throw Qe()}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:h3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Qe()}(r,e.precondition)),t}function y3(r,e){return r&&r.length>0?(Ot(e!==void 0),r.map(t=>function(s,a){let l=s.updateTime?Ps(s.updateTime):Ps(a);return l.isEqual(Ze.min())&&(l=Ps(a)),new XD(l,s.transformResults||[])}(t,e))):[]}function v3(r,e){return{documents:[tC(r,e.path)]}}function nC(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=tC(r,s);const a=function(_){if(_.length!==0)return sC(ts.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(_){if(_.length!==0)return _.map(b=>function(A){return{field:Da(A.field),direction:x3(A.dir)}}(b))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=j_(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:t,parent:s}}function _3(r,e,t,n){const{_t:s,parent:a}=nC(r,e),l={},f=[];let p=0;return t.forEach(_=>{const b="aggregate_"+p++;l[b]=_.alias,_.aggregateType==="count"?f.push({alias:b,count:{}}):_.aggregateType==="avg"?f.push({alias:b,avg:{field:Da(_.fieldPath)}}):_.aggregateType==="sum"&&f.push({alias:b,sum:{field:Da(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:s.structuredQuery},parent:s.parent},ut:l,parent:a}}function w3(r){let e=m3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Ot(n===1);const b=t.from[0];b.allDescendants?s=b.collectionId:e=e.child(b.collectionId)}let a=[];t.where&&(a=function(T){const A=iC(T);return A instanceof ts&&CA(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=function(T){return T.map(A=>function(j){return new id(ec(j.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(A))}(t.orderBy));let f=null;t.limit&&(f=function(T){let A;return A=typeof T=="object"?T.value:T,fp(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(T){const A=!!T.before,O=T.values||[];return new Fm(O,A)}(t.startAt));let _=null;return t.endAt&&(_=function(T){const A=!T.before,O=T.values||[];return new Fm(O,A)}(t.endAt)),VD(e,s,l,a,f,"F",p,_)}function b3(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iC(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ec(t.unaryFilter.field);return ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ec(t.unaryFilter.field);return ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ec(t.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ec(t.unaryFilter.field);return ur.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}(r):r.fieldFilter!==void 0?function(t){return ur.create(ec(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ts.create(t.compositeFilter.filters.map(n=>iC(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Qe()}}(t.compositeFilter.op))}(r):Qe()}function x3(r){return u3[r]}function E3(r){return c3[r]}function T3(r){return f3[r]}function Da(r){return{fieldPath:r.canonicalString()}}function ec(r){return Pr.fromServerFormat(r.fieldPath)}function sC(r){return r instanceof ur?function(t){if(t.op==="=="){if(w1(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NAN"}};if(_1(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(w1(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NAN"}};if(_1(t.value))return{unaryFilter:{field:Da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(t.field),op:E3(t.op),value:t.value}}}(r):r instanceof ts?function(t){const n=t.getFilters().map(s=>sC(s));return n.length===1?n[0]:{compositeFilter:{op:T3(t.op),filters:n}}}(r):Qe()}function S3(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oC(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t,n,s,a=Ze.min(),l=Ze.min(),f=Xr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.ct=e}}function A3(r){const e=w3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this._n=new P3}addToCollectionParentIndex(e,t){return this._n.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(Wa.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(Wa.min())}updateCollectionGroup(e,t,n){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class P3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new kr(Vt.comparator),a=!s.has(n);return this.index[t]=s.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new kr(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new yc(0)}static Ln(){return new yc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.changes=new Ac(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ye.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&Hf(n.mutation,s,Qn.empty(),pr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,mt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=mt()){const s=zl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(a=>{let l=Df();return a.forEach((f,p)=>{l=l.insert(f,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=zl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,mt()))}populateOverlays(e,t,n){const s=[];return n.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,n,s){let a=So();const l=$f(),f=function(){return $f()}();return t.forEach((p,_)=>{const b=n.get(_.key);s.has(_.key)&&(b===void 0||b.mutation instanceof Ya)?a=a.insert(_.key,_):b!==void 0?(l.set(_.key,b.mutation.getFieldMask()),Hf(b.mutation,_,b.mutation.getFieldMask(),pr.now())):l.set(_.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((_,b)=>l.set(_,b)),t.forEach((_,b)=>{var T;return f.set(_,new R3(b,(T=l.get(_))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const n=$f();let s=new $t((l,f)=>l-f),a=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let b=n.get(p)||Qn.empty();b=f.applyToLocalView(_,b),n.set(p,b);const T=(s.get(f.batchId)||mt()).add(p);s=s.insert(f.batchId,T)})}).next(()=>{const l=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),_=p.key,b=p.value,T=VA();b.forEach(A=>{if(!a.has(A)){const O=KA(t.get(A),n.get(A));O!==null&&T.set(A,O),a=a.add(A)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,T))}return ye.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(l){return Ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-a.size):ye.resolve(zl());let f=-1,p=a;return l.next(_=>ye.forEach(_,(b,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),a.get(b)?ye.resolve():this.remoteDocumentCache.getEntry(e,b).next(A=>{p=p.insert(b,A)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,p,_,mt())).next(b=>({batchId:f,changes:FA(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(n=>{let s=Df();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const a=t.collectionGroup;let l=Df();return this.indexManager.getCollectionParents(e,a).next(f=>ye.forEach(f,p=>{const _=function(T,A){return new Ic(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,n,s).next(b=>{b.forEach((T,A)=>{l=l.insert(T,A)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,s))).next(l=>{a.forEach((p,_)=>{const b=_.getKey();l.get(b)===null&&(l=l.insert(b,Yr.newInvalidDocument(b)))});let f=Df();return l.forEach((p,_)=>{const b=a.get(p);b!==void 0&&Hf(b.mutation,_,Qn.empty(),pr.now()),hp(t,_)&&(f=f.insert(p,_))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ye.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ps(s.createTime)}}(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(s){return{name:s.name,query:A3(s.bundledQuery),readTime:Ps(s.readTime)}}(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.overlays=new $t(Ve.comparator),this.hr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zl();return ye.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,a)=>{this.ht(e,t,a)}),ye.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.hr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.hr.delete(n)),ye.resolve()}getOverlaysForCollection(e,t,n){const s=zl(),a=t.length+1,l=new Ve(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const p=f.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&p.largestBatchId>n&&s.set(p.getKey(),p)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let a=new $t((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>n){let b=a.get(_.largestBatchId);b===null&&(b=zl(),a=a.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const f=zl(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>f.set(_,b)),!(f.size()>=s)););return ye.resolve(f)}ht(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.hr.get(s.largestBatchId).delete(n.key);this.hr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new r3(t,n));let a=this.hr.get(t);a===void 0&&(a=mt(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.Pr=new kr(Tr.Ir),this.Tr=new kr(Tr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Tr(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Ar(new Tr(e,t))}Rr(e,t){e.forEach(n=>this.removeReference(n,t))}Vr(e){const t=new Ve(new Vt([])),n=new Tr(t,e),s=new Tr(t,e+1),a=[];return this.Tr.forEachInRange([n,s],l=>{this.Ar(l),a.push(l.key)}),a}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Ve(new Vt([])),n=new Tr(t,e),s=new Tr(t,e+1);let a=mt();return this.Tr.forEachInRange([n,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Tr(e,0),n=this.Pr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Tr{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Ve.comparator(e.key,t.key)||Tt(e.pr,t.pr)}static Er(e,t){return Tt(e.pr,t.pr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new kr(Tr.Ir)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const a=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new t3(a,t,n,s);this.mutationQueue.push(l);for(const f of s)this.wr=this.wr.add(new Tr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,t){return ye.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.br(n),a=s<0?0:s;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Tr(t,0),s=new Tr(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([n,s],l=>{const f=this.Sr(l.pr);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kr(Tt);return t.forEach(s=>{const a=new Tr(s,0),l=new Tr(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([a,l],f=>{n=n.add(f.pr)})}),ye.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let a=n;Ve.isDocumentKey(a)||(a=a.child(""));const l=new Tr(new Ve(a),0);let f=new kr(Tt);return this.wr.forEachWhile(p=>{const _=p.key.path;return!!n.isPrefixOf(_)&&(_.length===s&&(f=f.add(p.pr)),!0)},l),ye.resolve(this.Dr(f))}Dr(e){const t=[];return e.forEach(n=>{const s=this.Sr(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ot(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return ye.forEach(t.mutations,s=>{const a=new Tr(s.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=n})}Mn(e){}containsKey(e,t){const n=new Tr(t,0),s=this.wr.firstAfterOrEqual(n);return ye.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.vr=e,this.docs=function(){return new $t(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),a=s?s.size:0,l=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ye.resolve(n?n.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let n=So();return t.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():Yr.newInvalidDocument(s))}),ye.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let a=So();const l=t.path,f=new Ve(l.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||wD(_D(b),n)<=0||(s.has(b.key)||hp(t,b))&&(a=a.insert(b.key,b.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,t,n,s){Qe()}Fr(e,t){return ye.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new M3(this)}getSize(e){return ye.resolve(this.size)}}class M3 extends k3{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.ar.addEntry(e,s)):this.ar.removeEntry(n)}),ye.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.persistence=e,this.Mr=new Ac(t=>Iw(t),Aw),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Nw,this.targetCount=0,this.Lr=yc.Nn()}forEachTarget(e,t){return this.Mr.forEach((n,s)=>t(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ye.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new yc(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.qn(t),ye.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,n){let s=0;const a=[];return this.Mr.forEach((l,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.Mr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ye.waitFor(a).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ye.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ye.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ye.resolve(n)}containsKey(e,t){return ye.resolve(this.Nr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t){this.Br={},this.overlays={},this.kr=new xw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new F3(this),this.indexManager=new C3,this.remoteDocumentCache=function(s){return new L3(s)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new I3(t),this.$r=new O3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new j3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new D3(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){je("MemoryPersistence","Starting transaction:",e);const s=new U3(this.kr.next());return this.referenceDelegate.Ur(),n(s).next(a=>this.referenceDelegate.Wr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Gr(e,t){return ye.or(Object.values(this.Br).map(n=>()=>n.containsKey(e,t)))}}class U3 extends xD{constructor(e){super(),this.currentSequenceNumber=e}}class Ow{constructor(e){this.persistence=e,this.zr=new Nw,this.jr=null}static Hr(e){return new Ow(e)}get Jr(){if(this.jr)return this.jr;throw Qe()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ye.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ye.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(s=>this.Jr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Jr.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Jr,n=>{const s=Ve.fromPath(n);return this.Yr(e,s).next(a=>{a||t.removeEntry(s,Ze.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(n=>{n?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return ye.or([()=>ye.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=s}static Ki(e,t){let n=mt(),s=mt();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new jw(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return RN()?8:ED(Rr())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,s){const a={result:null};return this.ji(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Hi(e,t,s,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new B3;return this.Ji(e,t,l).next(f=>{if(a.result=f,this.Ui)return this.Yi(e,t,l,f.size)})}).next(()=>a.result)}Yi(e,t,n,s){return n.documentReadCount<this.Wi?(Af()<=pt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Zu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ye.resolve()):(Af()<=pt.DEBUG&&je("QueryEngine","Query:",Zu(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Gi*s?(Af()<=pt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Zu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(t))):ye.resolve())}ji(e,t){if(T1(t))return ye.resolve(null);let n=Cs(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Vm(t,null,"F"),n=Cs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=mt(...a);return this.zi.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,n).next(p=>{const _=this.Zi(t,f);return this.Xi(t,_,l,p.readTime)?this.ji(e,Vm(t,null,"F")):this.es(e,_,t,p)}))})))}Hi(e,t,n,s){return T1(t)||s.isEqual(Ze.min())?ye.resolve(null):this.zi.getDocuments(e,n).next(a=>{const l=this.Zi(t,a);return this.Xi(t,l,n,s)?ye.resolve(null):(Af()<=pt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zu(t)),this.es(e,l,t,vD(s,-1)).next(f=>f))})}Zi(e,t){let n=new kr(LA(e));return t.forEach((s,a)=>{hp(e,a)&&(n=n.add(a))}),n}Xi(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ji(e,t,n){return Af()<=pt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Zu(t)),this.zi.getDocumentsMatchingQuery(e,t,Wa.min(),n)}es(e,t,n,s){return this.zi.getDocumentsMatchingQuery(e,n,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t,n,s){this.persistence=e,this.ts=t,this.serializer=s,this.ns=new $t(Tt),this.rs=new Ac(a=>Iw(a),Aw),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N3(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function $3(r,e,t,n){return new q3(r,e,t,n)}async function aC(r,e){const t=Je(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,t._s(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],f=[];let p=mt();for(const _ of s){l.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of a){f.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(n,p).next(_=>({us:_,removedBatchIds:l,addedBatchIds:f}))})})}function H3(r,e){const t=Je(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),a=t.os.newChangeBuffer({trackRemovals:!0});return function(f,p,_,b){const T=_.batch,A=T.keys();let O=ye.resolve();return A.forEach(j=>{O=O.next(()=>b.getEntry(p,j)).next(F=>{const D=_.docVersions.get(j);Ot(D!==null),F.version.compareTo(D)<0&&(T.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),b.addEntry(F)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let p=mt();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(p=p.add(f.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function lC(r){const e=Je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function W3(r,e){const t=Je(r),n=e.snapshotVersion;let s=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.os.newChangeBuffer({trackRemovals:!0});s=t.ns;const f=[];e.targetChanges.forEach((b,T)=>{const A=s.get(T);if(!A)return;f.push(t.Qr.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.Qr.addMatchingKeys(a,b.addedDocuments,T)));let O=A.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Xr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,n)),s=s.insert(T,O),function(F,D,J){return F.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(A,O,b)&&f.push(t.Qr.updateTargetData(a,O))});let p=So(),_=mt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(G3(a,l,e.documentUpdates).next(b=>{p=b.cs,_=b.ls})),!n.isEqual(Ze.min())){const b=t.Qr.getLastRemoteSnapshotVersion(a).next(T=>t.Qr.setTargetsMetadata(a,a.currentSequenceNumber,n));f.push(b)}return ye.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,_)).next(()=>p)}).then(a=>(t.ns=s,a))}function G3(r,e,t){let n=mt(),s=mt();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let l=So();return t.forEach((f,p)=>{const _=a.get(f);p.isFoundDocument()!==_.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(Ze.min())?(e.removeEntry(f,p.readTime),l=l.insert(f,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),l=l.insert(f,p)):je("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",p.version)}),{cs:l,ls:s}})}function K3(r,e){const t=Je(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Q3(r,e){const t=Je(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Qr.getTargetData(n,e).next(a=>a?(s=a,ye.resolve(s)):t.Qr.allocateTargetId(n).next(l=>(s=new Va(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Qr.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.ns.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ns=t.ns.insert(n.targetId,n),t.rs.set(e,n.targetId)),n})}async function F_(r,e,t){const n=Je(r),s=n.ns.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!_d(l))throw l;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.ns=n.ns.remove(e),n.rs.delete(s.target)}function D1(r,e,t){const n=Je(r);let s=Ze.min(),a=mt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(p,_,b){const T=Je(p),A=T.rs.get(b);return A!==void 0?ye.resolve(T.ns.get(A)):T.Qr.getTargetData(_,b)}(n,l,Cs(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(l,f.targetId).next(p=>{a=p})}).next(()=>n.ts.getDocumentsMatchingQuery(l,e,t?s:Ze.min(),t?a:mt())).next(f=>(Y3(n,BD(e),f),{documents:f,hs:a})))}function Y3(r,e,t){let n=r.ss.get(e)||Ze.min();t.forEach((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.ss.set(e,n)}class L1{constructor(){this.activeTargetIds=GD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X3{constructor(){this.no=new L1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new L1,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm=null;function Kg(){return lm===null?lm=function(){return 268435456+Math.round(2147483648*Math.random())}():lm++,"0x"+lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="WebChannelConnection";class t5 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+t.host,this.So=`projects/${s}/databases/${a}`,this.bo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Do(){return!1}Co(t,n,s,a,l){const f=Kg(),p=this.vo(t,n.toUriEncodedString());je("RestConnection",`Sending RPC '${t}' ${f}:`,p,s);const _={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(_,a,l),this.Mo(t,p,_,s).then(b=>(je("RestConnection",`Received RPC '${t}' ${f}: `,b),b),b=>{throw hc("RestConnection",`RPC '${t}' ${f} failed with error: `,b,"url: ",p,"request:",s),b})}xo(t,n,s,a,l,f){return this.Co(t,n,s,a,l)}Fo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}vo(t,n){const s=Z3[t];return`${this.wo}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,s){const a=Kg();return new Promise((l,f)=>{const p=new pA;p.setWithCredentials(!0),p.listenOnce(yA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _m.NO_ERROR:const b=p.getResponseJson();je(Gr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(b)),l(b);break;case _m.TIMEOUT:je(Gr,`RPC '${e}' ${a} timed out`),f(new Pe(he.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const T=p.getStatus();if(je(Gr,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const j=function(D){const J=D.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(J)>=0?J:he.UNKNOWN}(O.status);f(new Pe(j,O.message))}else f(new Pe(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Pe(he.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{je(Gr,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(s);je(Gr,`RPC '${e}' ${a} sending request:`,s),p.send(t,"POST",_,n,15)})}Oo(e,t,n){const s=Kg(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=wA(),f=_A(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.xmlHttpFactory=new gA({})),this.Fo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const b=a.join("");je(Gr,`Creating RPC '${e}' stream ${s}: ${b}`,p);const T=l.createWebChannel(b,p);let A=!1,O=!1;const j=new e5({lo:D=>{O?je(Gr,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(A||(je(Gr,`Opening RPC '${e}' stream ${s} transport.`),T.open(),A=!0),je(Gr,`RPC '${e}' stream ${s} sending:`,D),T.send(D))},ho:()=>T.close()}),F=(D,J,B)=>{D.listen(J,k=>{try{B(k)}catch(Q){setTimeout(()=>{throw Q},0)}})};return F(T,jf.EventType.OPEN,()=>{O||(je(Gr,`RPC '${e}' stream ${s} transport opened.`),j.mo())}),F(T,jf.EventType.CLOSE,()=>{O||(O=!0,je(Gr,`RPC '${e}' stream ${s} transport closed`),j.po())}),F(T,jf.EventType.ERROR,D=>{O||(O=!0,hc(Gr,`RPC '${e}' stream ${s} transport errored:`,D),j.po(new Pe(he.UNAVAILABLE,"The operation could not be completed")))}),F(T,jf.EventType.MESSAGE,D=>{var J;if(!O){const B=D.data[0];Ot(!!B);const k=B,Q=k.error||((J=k[0])===null||J===void 0?void 0:J.error);if(Q){je(Gr,`RPC '${e}' stream ${s} received error:`,Q);const Y=Q.status;let ce=function(V){const $=or[V];if($!==void 0)return YA($)}(Y),M=Q.message;ce===void 0&&(ce=he.INTERNAL,M="Unknown error status: "+Y+" with message "+Q.message),O=!0,j.po(new Pe(ce,M)),T.close()}else je(Gr,`RPC '${e}' stream ${s} received:`,B),j.yo(B)}}),F(f,vA.STAT_EVENT,D=>{D.stat===C_.PROXY?je(Gr,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===C_.NOPROXY&&je(Gr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(r){return new d3(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,n=1e3,s=1.5,a=6e4){this.oi=e,this.timerId=t,this.No=n,this.Lo=s,this.Bo=a,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),s=Math.max(0,t-n);s>0&&je("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t,n,s,a,l,f,p){this.oi=e,this.Go=n,this.zo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new uC(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(To(t.toString()),To("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.jo===t&&this.u_(n,s)},n=>{e(()=>{const s=new Pe(he.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(s)})})}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(s=>{n(()=>this.c_(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r5 extends cC{constructor(e,t,n,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,l),this.serializer=a}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=p3(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?Ps(l.readTime):Ze.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=M_(this.serializer),t.addTarget=function(a,l){let f;const p=l.target;if(f=N_(p)?{documents:v3(a,p)}:{query:nC(a,p)._t},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=ZA(a,l.resumeToken);const _=j_(a,l.expectedCount);_!==null&&(f.expectedCount=_)}else if(l.snapshotVersion.compareTo(Ze.min())>0){f.readTime=Um(a,l.snapshotVersion.toTimestamp());const _=j_(a,l.expectedCount);_!==null&&(f.expectedCount=_)}return f}(this.serializer,e);const n=b3(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=M_(this.serializer),t.removeTarget=e,this.i_(t)}}class n5 extends cC{constructor(e,t,n,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,l),this.serializer=a,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=y3(e.writeResults,e.commitTime),n=Ps(e.commitTime);return this.listener.A_(n,t)}return Ot(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=M_(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>g3(this.serializer,n))};this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5 extends class{}{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.m_=!1}f_(){if(this.m_)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Co(e,D_(t,n),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(he.UNKNOWN,a.toString())})}xo(e,t,n,s,a){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.xo(e,D_(t,n),s,l,f,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(he.UNKNOWN,l.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class s5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(To(t),this.y_=!1):je("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,t,n,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=a,this.O_.io(l=>{n.enqueueAndForget(async()=>{ou(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=Je(p);_.M_.add(4),await xd(_),_.N_.set("Unknown"),_.M_.delete(4),await vp(_)}(this))})}),this.N_=new s5(n,s)}}async function vp(r){if(ou(r))for(const e of r.x_)await e(!0)}async function xd(r){for(const e of r.x_)await e(!1)}function fC(r,e){const t=Je(r);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Fw(t)?Mw(t):Cc(t).Xo()&&Lw(t,e))}function Dw(r,e){const t=Je(r),n=Cc(t);t.F_.delete(e),n.Xo()&&dC(t,e),t.F_.size===0&&(n.Xo()?n.n_():ou(t)&&t.N_.set("Unknown"))}function Lw(r,e){if(r.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cc(r).P_(e)}function dC(r,e){r.L_.xe(e),Cc(r).I_(e)}function Mw(r){r.L_=new l3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.F_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Cc(r).start(),r.N_.w_()}function Fw(r){return ou(r)&&!Cc(r).Zo()&&r.F_.size>0}function ou(r){return Je(r).M_.size===0}function hC(r){r.L_=void 0}async function a5(r){r.N_.set("Online")}async function l5(r){r.F_.forEach((e,t)=>{Lw(r,e)})}async function u5(r,e){hC(r),Fw(r)?(r.N_.D_(e),Mw(r)):r.N_.set("Unknown")}async function c5(r,e,t){if(r.N_.set("Online"),e instanceof JA&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const f of a.targetIds)s.F_.has(f)&&(await s.remoteSyncer.rejectListen(f,l),s.F_.delete(f),s.L_.removeTarget(f))}(r,e)}catch(n){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Bm(r,n)}else if(e instanceof xm?r.L_.Ke(e):e instanceof XA?r.L_.He(e):r.L_.We(e),!t.isEqual(Ze.min()))try{const n=await lC(r.localStore);t.compareTo(n)>=0&&await function(a,l){const f=a.L_.rt(l);return f.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=a.F_.get(_);b&&a.F_.set(_,b.withResumeToken(p.resumeToken,l))}}),f.targetMismatches.forEach((p,_)=>{const b=a.F_.get(p);if(!b)return;a.F_.set(p,b.withResumeToken(Xr.EMPTY_BYTE_STRING,b.snapshotVersion)),dC(a,p);const T=new Va(b.target,p,_,b.sequenceNumber);Lw(a,T)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(n){je("RemoteStore","Failed to raise snapshot:",n),await Bm(r,n)}}async function Bm(r,e,t){if(!_d(e))throw e;r.M_.add(1),await xd(r),r.N_.set("Offline"),t||(t=()=>lC(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await t(),r.M_.delete(1),await vp(r)})}function mC(r,e){return e().catch(t=>Bm(r,t,e))}async function _p(r){const e=Je(r),t=Ka(e);let n=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;f5(e);)try{const s=await K3(e.localStore,n);if(s===null){e.v_.length===0&&t.n_();break}n=s.batchId,d5(e,s)}catch(s){await Bm(e,s)}pC(e)&&gC(e)}function f5(r){return ou(r)&&r.v_.length<10}function d5(r,e){r.v_.push(e);const t=Ka(r);t.Xo()&&t.E_&&t.d_(e.mutations)}function pC(r){return ou(r)&&!Ka(r).Zo()&&r.v_.length>0}function gC(r){Ka(r).start()}async function h5(r){Ka(r).V_()}async function m5(r){const e=Ka(r);for(const t of r.v_)e.d_(t.mutations)}async function p5(r,e,t){const n=r.v_.shift(),s=Pw.from(n,e,t);await mC(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await _p(r)}async function g5(r,e){e&&Ka(r).E_&&await async function(n,s){if(function(l){return s3(l)&&l!==he.ABORTED}(s.code)){const a=n.v_.shift();Ka(n).t_(),await mC(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await _p(n)}}(r,e),pC(r)&&gC(r)}async function F1(r,e){const t=Je(r);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const n=ou(t);t.M_.add(3),await xd(t),n&&t.N_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),await vp(t)}async function y5(r,e){const t=Je(r);e?(t.M_.delete(2),await vp(t)):e||(t.M_.add(2),await xd(t),t.N_.set("Unknown"))}function Cc(r){return r.B_||(r.B_=function(t,n,s){const a=Je(t);return a.f_(),new r5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{Po:a5.bind(null,r),To:l5.bind(null,r),Ao:u5.bind(null,r),h_:c5.bind(null,r)}),r.x_.push(async e=>{e?(r.B_.t_(),Fw(r)?Mw(r):r.N_.set("Unknown")):(await r.B_.stop(),hC(r))})),r.B_}function Ka(r){return r.k_||(r.k_=function(t,n,s){const a=Je(t);return a.f_(),new n5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{Po:()=>Promise.resolve(),To:h5.bind(null,r),Ao:g5.bind(null,r),R_:m5.bind(null,r),A_:p5.bind(null,r)}),r.x_.push(async e=>{e?(r.k_.t_(),await _p(r)):(await r.k_.stop(),r.v_.length>0&&(je("RemoteStore",`Stopping write stream with ${r.v_.length} pending writes`),r.v_=[]))})),r.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,n,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,a){const l=Date.now()+n,f=new Vw(e,t,l,s,a);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uw(r,e){if(To("AsyncQueue",`${e}: ${r}`),_d(r))return new Pe(he.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ve.comparator(t.key,n.key):(t,n)=>Ve.comparator(t.key,n.key),this.keyedMap=Df(),this.sortedSet=new $t(this.comparator)}static emptySet(e){return new lc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new lc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.q_=new $t(Ve.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?e.type!==0&&n.type===3?this.q_=this.q_.insert(t,e):e.type===3&&n.type!==1?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.q_=this.q_.remove(t):e.type===1&&n.type===2?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Qe():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,n)=>{e.push(n)}),e}}class vc{constructor(e,t,n,s,a,l,f,p,_){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,n,s,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new vc(e,t,lc.emptySet(t),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class _5{constructor(){this.queries=new Ac(e=>DA(e),dp),this.onlineState="Unknown",this.z_=new Set}}async function w5(r,e){const t=Je(r);let n=3;const s=e.query;let a=t.queries.get(s);a?!a.W_()&&e.G_()&&(n=2):(a=new v5,n=e.G_()?0:1);try{switch(n){case 0:a.K_=await t.onListen(s,!0);break;case 1:a.K_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const f=Uw(l,`Initialization of query '${Zu(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,a),a.U_.push(e),e.j_(t.onlineState),a.K_&&e.H_(a.K_)&&Bw(t)}async function b5(r,e){const t=Je(r),n=e.query;let s=3;const a=t.queries.get(n);if(a){const l=a.U_.indexOf(e);l>=0&&(a.U_.splice(l,1),a.U_.length===0?s=e.G_()?0:1:!a.W_()&&e.G_()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function x5(r,e){const t=Je(r);let n=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const f of l.U_)f.H_(s)&&(n=!0);l.K_=s}}n&&Bw(t)}function E5(r,e,t){const n=Je(r),s=n.queries.get(e);if(s)for(const a of s.U_)a.onError(t);n.queries.delete(e)}function Bw(r){r.z_.forEach(e=>{e.next()})}var V_,U1;(U1=V_||(V_={})).J_="default",U1.Cache="cache";class T5{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new vc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;const n=t!=="Offline";return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==V_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.key=e}}class vC{constructor(e){this.key=e}}class S5{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=mt(),this.mutatedKeys=mt(),this.Ia=LA(e),this.Ta=new lc(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new V1,s=t?t.Ta:this.Ta;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,_=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((b,T)=>{const A=s.get(b),O=hp(this.query,T)?T:null,j=!!A&&this.mutatedKeys.has(A.key),F=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let D=!1;A&&O?A.data.isEqual(O.data)?j!==F&&(n.track({type:3,doc:O}),D=!0):this.Ra(A,O)||(n.track({type:2,doc:O}),D=!0,(p&&this.Ia(O,p)>0||_&&this.Ia(O,_)<0)&&(f=!0)):!A&&O?(n.track({type:0,doc:O}),D=!0):A&&!O&&(n.track({type:1,doc:A}),D=!0,(p||_)&&(f=!0)),D&&(O?(l=l.add(O),a=F?a.add(b):a.delete(b)):(l=l.delete(b),a=a.delete(b)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const b=this.query.limitType==="F"?l.last():l.first();l=l.delete(b.key),a=a.delete(b.key),n.track({type:1,doc:b})}return{Ta:l,Aa:n,Xi:f,mutatedKeys:a}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const a=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const l=e.Aa.Q_();l.sort((b,T)=>function(O,j){const F=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return F(O)-F(j)}(b.type,T.type)||this.Ia(b.doc,T.doc)),this.Va(n),s=s!=null&&s;const f=t&&!s?this.ma():[],p=this.Pa.size===0&&this.current&&!s?1:0,_=p!==this.ha;return this.ha=p,l.length!==0||_?{snapshot:new vc(this.query,e.Ta,a,l,e.mutatedKeys,p===0,_,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:f}:{fa:f}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new V1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=mt(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});const t=[];return e.forEach(n=>{this.Pa.has(n)||t.push(new vC(n))}),this.Pa.forEach(n=>{e.has(n)||t.push(new yC(n))}),t}pa(e){this.la=e.hs,this.Pa=mt();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return vc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class I5{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class A5{constructor(e){this.key=e,this.wa=!1}}class C5{constructor(e,t,n,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Sa={},this.ba=new Ac(f=>DA(f),dp),this.Da=new Map,this.Ca=new Set,this.va=new $t(Ve.comparator),this.Fa=new Map,this.Ma=new Nw,this.xa={},this.Oa=new Map,this.Na=yc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function P5(r,e,t=!0){const n=TC(r);let s;const a=n.ba.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.ya()):s=await _C(n,e,t,!0),s}async function k5(r,e){const t=TC(r);await _C(t,e,!0,!1)}async function _C(r,e,t,n){const s=await Q3(r.localStore,Cs(e)),a=s.targetId,l=t?r.sharedClientState.addLocalQueryTarget(a):"not-current";let f;return n&&(f=await R5(r,e,a,l==="current",s.resumeToken)),r.isPrimaryClient&&t&&fC(r.remoteStore,s),f}async function R5(r,e,t,n,s){r.Ba=(T,A,O)=>async function(F,D,J,B){let k=D.view.da(J);k.Xi&&(k=await D1(F.localStore,D.query,!1).then(({documents:M})=>D.view.da(M,k)));const Q=B&&B.targetChanges.get(D.targetId),Y=B&&B.targetMismatches.get(D.targetId)!=null,ce=D.view.applyChanges(k,F.isPrimaryClient,Q,Y);return z1(F,D.targetId,ce.fa),ce.snapshot}(r,T,A,O);const a=await D1(r.localStore,e,!0),l=new S5(e,a.hs),f=l.da(a.documents),p=bd.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),_=l.applyChanges(f,r.isPrimaryClient,p);z1(r,t,_.fa);const b=new I5(e,t,l);return r.ba.set(e,b),r.Da.has(t)?r.Da.get(t).push(e):r.Da.set(t,[e]),_.snapshot}async function N5(r,e,t){const n=Je(r),s=n.ba.get(e),a=n.Da.get(s.targetId);if(a.length>1)return n.Da.set(s.targetId,a.filter(l=>!dp(l,e))),void n.ba.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await F_(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Dw(n.remoteStore,s.targetId),U_(n,s.targetId)}).catch(vd)):(U_(n,s.targetId),await F_(n.localStore,s.targetId,!0))}async function O5(r,e){const t=Je(r),n=t.ba.get(e),s=t.Da.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Dw(t.remoteStore,n.targetId))}async function j5(r,e,t){const n=B5(r);try{const s=await function(l,f){const p=Je(l),_=pr.now(),b=f.reduce((O,j)=>O.add(j.key),mt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=So(),F=mt();return p.os.getEntries(O,b).next(D=>{j=D,j.forEach((J,B)=>{B.isValidDocument()||(F=F.add(J))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,j)).next(D=>{T=D;const J=[];for(const B of f){const k=ZD(B,T.get(B.key).overlayedDocument);k!=null&&J.push(new Ya(B.key,k,SA(k.value.mapValue),xi.exists(!0)))}return p.mutationQueue.addMutationBatch(O,_,J,f)}).next(D=>{A=D;const J=D.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(O,D.batchId,J)})}).then(()=>({batchId:A.batchId,changes:FA(T)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(l,f,p){let _=l.xa[l.currentUser.toKey()];_||(_=new $t(Tt)),_=_.insert(f,p),l.xa[l.currentUser.toKey()]=_}(n,s.batchId,t),await Ed(n,s.changes),await _p(n.remoteStore)}catch(s){const a=Uw(s,"Failed to persist write");t.reject(a)}}async function wC(r,e){const t=Je(r);try{const n=await W3(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.Fa.get(a);l&&(Ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.wa=!0:s.modifiedDocuments.size>0?Ot(l.wa):s.removedDocuments.size>0&&(Ot(l.wa),l.wa=!1))}),await Ed(t,n,e)}catch(n){await vd(n)}}function B1(r,e,t){const n=Je(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.ba.forEach((a,l)=>{const f=l.view.j_(e);f.snapshot&&s.push(f.snapshot)}),function(l,f){const p=Je(l);p.onlineState=f;let _=!1;p.queries.forEach((b,T)=>{for(const A of T.U_)A.j_(f)&&(_=!0)}),_&&Bw(p)}(n.eventManager,e),s.length&&n.Sa.h_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function D5(r,e,t){const n=Je(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Fa.get(e),a=s&&s.key;if(a){let l=new $t(Ve.comparator);l=l.insert(a,Yr.newNoDocument(a,Ze.min()));const f=mt().add(a),p=new gp(Ze.min(),new Map,new $t(Tt),l,f);await wC(n,p),n.va=n.va.remove(a),n.Fa.delete(e),zw(n)}else await F_(n.localStore,e,!1).then(()=>U_(n,e,t)).catch(vd)}async function L5(r,e){const t=Je(r),n=e.batch.batchId;try{const s=await H3(t.localStore,e);xC(t,n,null),bC(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Ed(t,s)}catch(s){await vd(s)}}async function M5(r,e,t){const n=Je(r);try{const s=await function(l,f){const p=Je(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return p.mutationQueue.lookupMutationBatch(_,f).next(T=>(Ot(T!==null),b=T.keys(),p.mutationQueue.removeMutationBatch(_,T))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>p.localDocuments.getDocuments(_,b))})}(n.localStore,e);xC(n,e,t),bC(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Ed(n,s)}catch(s){await vd(s)}}function bC(r,e){(r.Oa.get(e)||[]).forEach(t=>{t.resolve()}),r.Oa.delete(e)}function xC(r,e,t){const n=Je(r);let s=n.xa[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),n.xa[n.currentUser.toKey()]=s}}function U_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Da.get(e))r.ba.delete(n),t&&r.Sa.ka(n,t);r.Da.delete(e),r.isPrimaryClient&&r.Ma.Vr(e).forEach(n=>{r.Ma.containsKey(n)||EC(r,n)})}function EC(r,e){r.Ca.delete(e.path.canonicalString());const t=r.va.get(e);t!==null&&(Dw(r.remoteStore,t),r.va=r.va.remove(e),r.Fa.delete(t),zw(r))}function z1(r,e,t){for(const n of t)n instanceof yC?(r.Ma.addReference(n.key,e),F5(r,n)):n instanceof vC?(je("SyncEngine","Document no longer in limbo: "+n.key),r.Ma.removeReference(n.key,e),r.Ma.containsKey(n.key)||EC(r,n.key)):Qe()}function F5(r,e){const t=e.key,n=t.path.canonicalString();r.va.get(t)||r.Ca.has(n)||(je("SyncEngine","New document in limbo: "+t),r.Ca.add(n),zw(r))}function zw(r){for(;r.Ca.size>0&&r.va.size<r.maxConcurrentLimboResolutions;){const e=r.Ca.values().next().value;r.Ca.delete(e);const t=new Ve(Vt.fromString(e)),n=r.Na.next();r.Fa.set(n,new A5(t)),r.va=r.va.insert(t,n),fC(r.remoteStore,new Va(Cs(NA(t.path)),n,"TargetPurposeLimboResolution",xw.oe))}}async function Ed(r,e,t){const n=Je(r),s=[],a=[],l=[];n.ba.isEmpty()||(n.ba.forEach((f,p)=>{l.push(n.Ba(p,e,t).then(_=>{if((_||t)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(p.targetId,_!=null&&_.fromCache?"not-current":"current"),_){s.push(_);const b=jw.Ki(p.targetId,_);a.push(b)}}))}),await Promise.all(l),n.Sa.h_(s),await async function(p,_){const b=Je(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ye.forEach(_,A=>ye.forEach(A.qi,O=>b.persistence.referenceDelegate.addReference(T,A.targetId,O)).next(()=>ye.forEach(A.Qi,O=>b.persistence.referenceDelegate.removeReference(T,A.targetId,O)))))}catch(T){if(!_d(T))throw T;je("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const O=b.ns.get(A),j=O.snapshotVersion,F=O.withLastLimboFreeSnapshotVersion(j);b.ns=b.ns.insert(A,F)}}}(n.localStore,a))}async function V5(r,e){const t=Je(r);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const n=await aC(t.localStore,e);t.currentUser=e,function(a,l){a.Oa.forEach(f=>{f.forEach(p=>{p.reject(new Pe(he.CANCELLED,l))})}),a.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ed(t,n.us)}}function U5(r,e){const t=Je(r),n=t.Fa.get(e);if(n&&n.wa)return mt().add(n.key);{let s=mt();const a=t.Da.get(e);if(!a)return s;for(const l of a){const f=t.ba.get(l);s=s.unionWith(f.view.Ea)}return s}}function TC(r){const e=Je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D5.bind(null,e),e.Sa.h_=x5.bind(null,e.eventManager),e.Sa.ka=E5.bind(null,e.eventManager),e}function B5(r){const e=Je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M5.bind(null,e),e}class q1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $3(this.persistence,new z3,e.initialUser,this.serializer)}createPersistence(e){return new V3(Ow.Hr,this.serializer)}createSharedClientState(e){return new X3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class z5{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>B1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=V5.bind(null,this.syncEngine),await y5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _5}()}createDatastore(e){const t=yp(e.databaseInfo.databaseId),n=function(a){return new t5(a)}(e.databaseInfo);return function(a,l,f,p){return new i5(a,l,f,p)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,a,l,f){return new o5(n,s,a,l,f)}(this.localStore,this.datastore,e.asyncQueue,t=>B1(this.syncEngine,t,0),function(){return M1.D()?new M1:new J3}())}createSyncEngine(e,t){return function(s,a,l,f,p,_,b){const T=new C5(s,a,l,f,p,_);return b&&(T.La=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(n){const s=Je(n);je("RemoteStore","RemoteStore shutting down."),s.M_.add(5),await xd(s),s.O_.shutdown(),s.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):To("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t,n,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=Qr.UNAUTHENTICATED,this.clientId=xA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async a=>{je("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(je("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Uw(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Yg(r,e){r.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await aC(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $1(r,e){r.asyncQueue.verifyOperationInProgress();const t=await W5(r);je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>F1(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>F1(e.remoteStore,s)),r._onlineComponents=e}function H5(r){return r.name==="FirebaseError"?r.code===he.FAILED_PRECONDITION||r.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}async function W5(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!H5(t))throw t;hc("Error using user provided cache. Falling back to memory cache: "+t),await Yg(r,new q1)}}else je("FirestoreClient","Using default OfflineComponentProvider"),await Yg(r,new q1);return r._offlineComponents}async function qw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),await $1(r,r._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),await $1(r,new z5))),r._onlineComponents}function G5(r){return qw(r).then(e=>e.syncEngine)}function K5(r){return qw(r).then(e=>e.datastore)}async function Q5(r){const e=await qw(r),t=e.eventManager;return t.onListen=P5.bind(null,e.syncEngine),t.onUnlisten=N5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=k5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=O5.bind(null,e.syncEngine),t}function Y5(r,e,t={}){const n=new bo;return r.asyncQueue.enqueueAndForget(async()=>function(a,l,f,p,_){const b=new q5({next:A=>{l.enqueueAndForget(()=>b5(a,T)),A.fromCache&&p.source==="server"?_.reject(new Pe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new T5(f,b,{includeMetadataChanges:!0,ra:!0});return w5(a,T)}(await Q5(r),r.asyncQueue,e,t,n)),n.promise}function X5(r,e,t){const n=new bo;return r.asyncQueue.enqueueAndForget(async()=>{try{const s=await K5(r);n.resolve(async function(l,f,p){var _;const b=Je(l),{request:T,ut:A,parent:O}=_3(b.serializer,UD(f),p);b.connection.Do||delete T.parent;const j=(await b.xo("RunAggregationQuery",b.serializer.databaseId,O,T,1)).filter(D=>!!D.result);Ot(j.length===1);const F=(_=j[0].result)===null||_===void 0?void 0:_.aggregateFields;return Object.keys(F).reduce((D,J)=>(D[A[J]]=F[J],D),{})}(s,e,t))}catch(s){n.reject(s)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r,e,t){if(!t)throw new Pe(he.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function J5(r,e,t,n){if(e===!0&&n===!0)throw new Pe(he.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function W1(r){if(!Ve.isDocumentKey(r))throw new Pe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function G1(r){if(Ve.isDocumentKey(r))throw new Pe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Qe()}function Rs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Pe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wp(r);throw new Pe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new uD;switch(n.type){case"firstParty":return new hD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=H1.get(t);n&&(je("ComponentProvider","Removing Datastore"),H1.delete(t),n.terminate())}(this),Promise.resolve()}}function Z5(r,e,t,n={}){var s;const a=(r=Rs(r,bp))._getSettings(),l=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),n.mockUserToken){let f,p;if(typeof n.mockUserToken=="string")f=n.mockUserToken,p=Qr.MOCK_USER;else{f=RI(n.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new Pe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qr(_)}r._authCredentials=new cD(new bA(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class On{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class $a extends Xa{constructor(e,t,n){super(e,t,NA(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ve(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function Io(r,e,...t){if(r=Yt(r),IC("collection","path",e),r instanceof bp){const n=Vt.fromString(e,...t);return G1(n),new $a(r,null,n)}{if(!(r instanceof On||r instanceof $a))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Vt.fromString(e,...t));return G1(n),new $a(r.firestore,null,n)}}function Jl(r,e,...t){if(r=Yt(r),arguments.length===1&&(e=xA.newId()),IC("doc","path",e),r instanceof bp){const n=Vt.fromString(e,...t);return W1(n),new On(r,null,new Ve(n))}{if(!(r instanceof On||r instanceof $a))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Vt.fromString(e,...t));return W1(n),new On(r.firestore,r instanceof $a?r.converter:null,new Ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new uC(this,"async_queue_retry"),this.hu=()=>{const t=Qg();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=Qg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new bo;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!_d(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(n=>{this.au=n,this.uu=!1;const s=function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),f}(n);throw To("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.uu=!1,n))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const s=Vw.createAndSchedule(this,e,t,n,a=>this.Eu(a));return this._u.push(s),s}Pu(){this.au&&Qe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class au extends bp{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=function(){return new e6}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||AC(this),this._firestoreClient.terminate()}}function t6(r,e){const t=typeof r=="object"?r:sp(),n=typeof r=="string"?r:"(default)",s=md(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=aw("firestore");a&&Z5(s,...a)}return s}function $w(r){return r._firestoreClient||AC(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function AC(r){var e,t,n;const s=r._freezeSettings(),a=function(f,p,_,b){return new AD(f,p,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,SC(b.experimentalLongPollingOptions),b.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._firestoreClient=new $5(r._authCredentials,r._appCheckCredentials,r._queue,a),!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class n6{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _c(Xr.fromBase64String(e))}catch(t){throw new Pe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _c(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=/^__.*__$/;class s6{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new wd(e,this.data,t,this.fieldTransforms)}}class CC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PC(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class Ww{constructor(e,t,n,s,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.mu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ww(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.gu({path:n,yu:!1});return s.wu(e),s}Su(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.gu({path:n,yu:!1});return s.mu(),s}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return zm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(PC(this.fu)&&i6.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class o6{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||yp(e)}Fu(e,t,n,s=!1){return new Ww({fu:e,methodName:t,vu:n,path:Pr.emptyPath(),yu:!1,Cu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ep(r){const e=r._freezeSettings(),t=yp(r._databaseId);return new o6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function kC(r,e,t,n,s,a={}){const l=r.Fu(a.merge||a.mergeFields?2:0,e,t,s);Qw("Data must be an object, but it was:",l,n);const f=RC(n,l);let p,_;if(a.merge)p=new Qn(l.fieldMask),_=l.fieldTransforms;else if(a.mergeFields){const b=[];for(const T of a.mergeFields){const A=B_(e,T,t);if(!l.contains(A))throw new Pe(he.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);OC(b,A)||b.push(A)}p=new Qn(b),_=l.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,_=l.fieldTransforms;return new s6(new Rn(f),p,_)}class Tp extends Td{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tp}}class Gw extends Td{_toFieldTransform(e){return new GA(e.path,new sd)}isEqual(e){return e instanceof Gw}}class Kw extends Td{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new ld(e.serializer,zA(e.serializer,this.xu));return new GA(e.path,t)}isEqual(e){return e instanceof Kw&&this.xu===e.xu}}function a6(r,e,t,n){const s=r.Fu(1,e,t);Qw("Data must be an object, but it was:",s,n);const a=[],l=Rn.empty();su(n,(p,_)=>{const b=Yw(e,p,t);_=Yt(_);const T=s.Su(b);if(_ instanceof Tp)a.push(b);else{const A=Sd(_,T);A!=null&&(a.push(b),l.set(b,A))}});const f=new Qn(a);return new CC(l,f,s.fieldTransforms)}function l6(r,e,t,n,s,a){const l=r.Fu(1,e,t),f=[B_(e,n,t)],p=[s];if(a.length%2!=0)throw new Pe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<a.length;A+=2)f.push(B_(e,a[A])),p.push(a[A+1]);const _=[],b=Rn.empty();for(let A=f.length-1;A>=0;--A)if(!OC(_,f[A])){const O=f[A];let j=p[A];j=Yt(j);const F=l.Su(O);if(j instanceof Tp)_.push(O);else{const D=Sd(j,F);D!=null&&(_.push(O),b.set(O,D))}}const T=new Qn(_);return new CC(b,T,l.fieldTransforms)}function u6(r,e,t,n=!1){return Sd(t,r.Fu(n?4:3,e))}function Sd(r,e){if(NC(r=Yt(r)))return Qw("Unsupported field value:",e,r),RC(r,e);if(r instanceof Td)return function(n,s){if(!PC(s.fu))throw s.Du(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Du(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const f of n){let p=Sd(f,s.bu(l));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),l++}return{arrayValue:{values:a}}}(r,e)}return function(n,s){if((n=Yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zA(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=pr.fromDate(n);return{timestampValue:Um(s.serializer,a)}}if(n instanceof pr){const a=new pr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Um(s.serializer,a)}}if(n instanceof Hw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _c)return{bytesValue:ZA(s.serializer,n._byteString)};if(n instanceof On){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.Du(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rw(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Du(`Unsupported field value: ${wp(n)}`)}(r,e)}function RC(r,e){const t={};return EA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(r,(n,s)=>{const a=Sd(s,e.pu(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function NC(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pr||r instanceof Hw||r instanceof _c||r instanceof On||r instanceof Td)}function Qw(r,e,t){if(!NC(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const n=wp(t);throw n==="an object"?e.Du(r+" a custom object"):e.Du(r+" "+n)}}function B_(r,e,t){if((e=Yt(e))instanceof xp)return e._internalPath;if(typeof e=="string")return Yw(r,e);throw zm("Field path arguments must be of type string or ",r,!1,void 0,t)}const c6=new RegExp("[~\\*/\\[\\]]");function Yw(r,e,t){if(e.search(c6)>=0)throw zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new xp(...e.split("."))._internalPath}catch{throw zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function zm(r,e,t,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||l)&&(p+=" (found",a&&(p+=` in field ${n}`),l&&(p+=` in document ${s}`),p+=")"),new Pe(he.INVALID_ARGUMENT,f+r+p)}function OC(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t,n,s,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class f6 extends jC{data(){return super.data()}}function Sp(r,e){return typeof e=="string"?Yw(r,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Pe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xw{}class Jw extends Xw{}function Zl(r,e,...t){let n=[];e instanceof Xw&&n.push(e),n=n.concat(t),function(a){const l=a.filter(p=>p instanceof Zw).length,f=a.filter(p=>p instanceof Ip).length;if(l>1||l>0&&f>0)throw new Pe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)r=s._apply(r);return r}class Ip extends Jw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ip(e,t,n)}_apply(e){const t=this._parse(e);return LC(e._query,t),new Xa(e.firestore,e.converter,O_(e._query,t))}_parse(e){const t=Ep(e.firestore);return function(a,l,f,p,_,b,T){let A;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Y1(T,b);const O=[];for(const j of T)O.push(Q1(p,a,j));A={arrayValue:{values:O}}}else A=Q1(p,a,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Y1(T,b),A=u6(f,l,T,b==="in"||b==="not-in");return ur.create(_,b,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wc(r,e,t){const n=e,s=Sp("where",r);return Ip._create(s,n,t)}class Zw extends Xw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zw(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let l=s;const f=a.getFlattenedFilters();for(const p of f)LC(l,p),l=O_(l,p)}(e._query,t),new Xa(e.firestore,e.converter,O_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eb extends Jw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eb(e,t)}_apply(e){const t=function(s,a,l){if(s.startAt!==null)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Pe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new id(a,l)}(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Ic(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function DC(r,e="asc"){const t=e,n=Sp("orderBy",r);return eb._create(n,t)}class tb extends Jw{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new tb(e,t,n)}_apply(e){return new Xa(e.firestore,e.converter,Vm(e._query,this._limit,this._limitType))}}function h6(r){return tb._create("limit",r,"F")}function Q1(r,e,t){if(typeof(t=Yt(t))=="string"){if(t==="")throw new Pe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OA(e)&&t.indexOf("/")!==-1)throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Vt.fromString(t));if(!Ve.isDocumentKey(n))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return v1(r,new Ve(n))}if(t instanceof On)return v1(r,t._key);throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wp(t)}.`)}function Y1(r,e){if(!Array.isArray(r)||r.length===0)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LC(r,e){const t=function(s,a){for(const l of s)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Pe(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class m6{convertValue(e,t="none"){switch(Xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return su(e,(s,a)=>{n[s]=this.convertValue(a,t)}),n}convertGeoPoint(e){return new Hw(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Tw(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=Ga(e);return new pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Vt.fromString(e);Ot(oC(n));const s=new rd(n.get(1),n.get(3)),a=new Ve(n.popFirst(5));return s.isEqual(t)||To(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}function p6(){return new r6("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g6 extends jC{constructor(e,t,n,s,a,l){super(e,t,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Em extends g6{data(e={}){return super.data(e)}}class y6{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new um(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Em(this._firestore,this._userDataWriter,n.key,n,new um(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>{const p=new Em(s._firestore,s._userDataWriter,f.doc.key,f.doc,new um(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new Em(s._firestore,s._userDataWriter,f.doc.key,f.doc,new um(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,b=-1;return f.type!==0&&(_=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),f.type!==1&&(l=l.add(f.doc),b=l.indexOf(f.doc.key)),{type:v6(f.type),doc:p,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function v6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}class FC extends m6{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function eu(r){r=Rs(r,Xa);const e=Rs(r.firestore,au),t=$w(e),n=new FC(e);return d6(r._query),Y5(t,r._query).then(s=>new y6(e,n,r,s))}function X1(r,e,t){r=Rs(r,On);const n=Rs(r.firestore,au),s=MC(r.converter,e,t);return Ap(n,[kC(Ep(n),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,xi.none())])}function VC(r,e,t,...n){r=Rs(r,On);const s=Rs(r.firestore,au),a=Ep(s);let l;return l=typeof(e=Yt(e))=="string"||e instanceof xp?l6(a,"updateDoc",r._key,e,t,n):a6(a,"updateDoc",r._key,e),Ap(s,[l.toMutation(r._key,xi.exists(!0))])}function UC(r){return Ap(Rs(r.firestore,au),[new Cw(r._key,xi.none())])}function _6(r,e){const t=Rs(r.firestore,au),n=Jl(r),s=MC(r.converter,e);return Ap(t,[kC(Ep(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,xi.exists(!1))]).then(()=>n)}function Ap(r,e){return function(n,s){const a=new bo;return n.asyncQueue.enqueueAndForget(async()=>j5(await G5(n),s,a)),a.promise}($w(r),e)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(r){return w6(r,{count:p6()})}function w6(r,e){const t=Rs(r.firestore,au),n=$w(t),s=SD(e,(a,l)=>new n3(l,a.aggregateType,a._internalFieldPath));return X5(n,r._query,s).then(a=>function(f,p,_){const b=new FC(f);return new n6(p,b,_)}(t,r,a))}function J1(){return new Gw("serverTimestamp")}function b6(r){return new Kw("increment",r)}(function(e,t=!0){(function(s){Sc=s})(ru),Ha(new xo("firestore",(n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),f=new au(new fD(n.getProvider("auth-internal")),new pD(n.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Pe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(_.options.projectId,b)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),bi(m1,"4.6.2",e),bi(m1,"4.6.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebasestorage.googleapis.com",x6="storageBucket",E6=2*60*1e3,T6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends rs{constructor(e,t,n=0){super(Jg(e),`Firebase Storage: ${t} (${Jg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,js.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ns;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ns||(Ns={}));function Jg(r){return"storage/"+r}function S6(){const r="An unknown error occurred, please check the error payload for server response.";return new js(Ns.UNKNOWN,r)}function I6(){return new js(Ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A6(){return new js(Ns.CANCELED,"User canceled the upload/download.")}function C6(r){return new js(Ns.INVALID_URL,"Invalid URL '"+r+"'.")}function P6(r){return new js(Ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Z1(r){return new js(Ns.INVALID_ARGUMENT,r)}function zC(){return new js(Ns.APP_DELETED,"The Firebase app was deleted.")}function k6(r){return new js(Ns.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Zi.makeFromUrl(e,t)}catch{return new Zi(e,"")}if(n.path==="")return n;throw P6(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const l="(/(.*))?$",f=new RegExp("^gs://"+s+l,"i"),p={bucket:1,path:3};function _(Q){Q.path_=decodeURIComponent(Q.path)}const b="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${b}/b/${s}/o${A}`,"i"),j={bucket:1,path:3},F=t===BC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",J=new RegExp(`^https?://${F}/${s}/${D}`,"i"),k=[{regex:f,indices:p,postModify:a},{regex:O,indices:j,postModify:_},{regex:J,indices:{bucket:1,path:2},postModify:_}];for(let Q=0;Q<k.length;Q++){const Y=k[Q],ce=Y.regex.exec(e);if(ce){const M=ce[Y.indices.bucket];let R=ce[Y.indices.path];R||(R=""),n=new Zi(M,R),Y.postModify(n);break}}if(n==null)throw C6(e);return n}}class R6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(r,e,t){let n=1,s=null,a=null,l=!1,f=0;function p(){return f===2}let _=!1;function b(...D){_||(_=!0,e.apply(null,D))}function T(D){s=setTimeout(()=>{s=null,r(O,p())},D)}function A(){a&&clearTimeout(a)}function O(D,...J){if(_){A();return}if(D){A(),b.call(null,D,...J);return}if(p()||l){A(),b.call(null,D,...J);return}n<64&&(n*=2);let k;f===1?(f=2,k=0):k=(n+Math.random())*1e3,T(k)}let j=!1;function F(D){j||(j=!0,A(),!_&&(s!==null?(D||(f=2),clearTimeout(s),T(0)):D||(f=1)))}return T(0),a=setTimeout(()=>{l=!0,F(!0)},t),F}function O6(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(r){return r!==void 0}function eE(r,e,t,n){if(n<e)throw Z1(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Z1(`Invalid value for '${r}'. Expected ${t} or less.`)}function D6(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const s=e(n)+"="+e(r[n]);t=t+s+"&"}return t=t.slice(0,-1),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qm;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qm||(qm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(r,e){const t=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,t,n,s,a,l,f,p,_,b,T,A=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=T,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,j)=>{this.resolve_=O,this.reject_=j,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new cm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{const p=f.loaded,_=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===qm.NO_ERROR,p=a.getStatus();if(!f||L6(p,this.additionalRetryCodes_)&&this.retry){const b=a.getErrorCode()===qm.ABORT;n(!1,new cm(!1,null,b));return}const _=this.successCodes_.indexOf(p)!==-1;n(!0,new cm(_,a))})},t=(n,s)=>{const a=this.resolve_,l=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());j6(p)?a(p):a()}catch(p){l(p)}else if(f!==null){const p=S6();p.serverResponse=f.getErrorText(),this.errorCallback_?l(this.errorCallback_(f,p)):l(p)}else if(s.canceled){const p=this.appDelete_?zC():A6();l(p)}else{const p=I6();l(p)}};this.canceled_?t(!1,new cm(!1,null,!0)):this.backoffId_=N6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function F6(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function V6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function B6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function z6(r,e,t,n,s,a,l=!0){const f=D6(r.urlParams),p=r.url+f,_=Object.assign({},r.headers);return U6(_,e),F6(_,t),V6(_,a),B6(_,n),new M6(p,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function $6(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t){this._service=e,t instanceof Zi?this._location=t:this._location=Zi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $m(e,t)}get root(){const e=new Zi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $6(this._location.path)}get storage(){return this._service}get parent(){const e=q6(this._location.path);if(e===null)return null;const t=new Zi(this._location.bucket,e);return new $m(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw k6(e)}}function tE(r,e){const t=e==null?void 0:e[x6];return t==null?null:Zi.makeFromBucketSpec(t,r)}function H6(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:s}=n;s&&(r._overrideAuthToken=typeof s=="string"?s:RI(s,r.app.options.projectId))}class W6{constructor(e,t,n,s,a){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=BC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E6,this._maxUploadRetryTime=T6,this._requests=new Set,s!=null?this._bucket=Zi.makeFromBucketSpec(s,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zi.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $m(this,e)}_makeRequest(e,t,n,s,a=!0){if(this._deleted)return new R6(zC());{const l=z6(e,this._appId,n,s,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const rE="@firebase/storage",nE="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="storage";function G6(r=sp(),e){r=Yt(r);const n=md(r,qC).getImmediate({identifier:e}),s=aw("storage");return s&&K6(n,...s),n}function K6(r,e,t,n={}){H6(r,e,t,n)}function Q6(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new W6(t,n,s,e,ru)}function Y6(){Ha(new xo(qC,Q6,"PUBLIC").setMultipleInstances(!0)),bi(rE,nE,""),bi(rE,nE,"esm2017")}Y6();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="type.googleapis.com/google.protobuf.Int64Value",J6="type.googleapis.com/google.protobuf.UInt64Value";function $C(r,e){const t={};for(const n in r)r.hasOwnProperty(n)&&(t[n]=e(r[n]));return t}function z_(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>z_(e));if(typeof r=="function"||typeof r=="object")return $C(r,e=>z_(e));throw new Error("Data cannot be encoded in JSON: "+r)}function Hm(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case X6:case J6:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>Hm(e)):typeof r=="function"||typeof r=="object"?$C(r,e=>Hm(e)):r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class uc extends rs{constructor(e,t,n){super(`${rb}/${e}`,t||""),this.details=n}}function Z6(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function eL(r,e){let t=Z6(r),n=t,s;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!iE[l])return new uc("internal","internal");t=iE[l],n=l}const f=a.message;typeof f=="string"&&(n=f),s=a.details,s!==void 0&&(s=Hm(s))}}catch{}return t==="ok"?null:new uc(t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||t.get().then(s=>this.messaging=s,()=>{}),this.appCheck||n.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="us-central1";function rL(r){let e=null;return{promise:new Promise((t,n)=>{e=setTimeout(()=>{n(new uc("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class nL{constructor(e,t,n,s,a=q_,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new tL(t,n,s),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(a);this.customDomain=f.origin,this.region=q_}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function iL(r,e,t){r.emulatorOrigin=`http://${e}:${t}`}function sL(r,e,t){return n=>aL(r,e,n,{})}async function oL(r,e,t,n){t["Content-Type"]="application/json";let s;try{s=await n(r,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}function aL(r,e,t,n){const s=r._url(e);return lL(r,s,t,n)}async function lL(r,e,t,n){t=z_(t);const s={data:t},a={},l=await r.contextProvider.getContext(n.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const f=n.timeout||7e4,p=rL(f),_=await Promise.race([oL(e,s,a,r.fetchImpl),p.promise,r.cancelAllRequests]);if(p.cancel(),!_)throw new uc("cancelled","Firebase Functions instance was deleted.");const b=eL(_.status,_.json);if(b)throw b;if(!_.json)throw new uc("internal","Response is not valid JSON object.");let T=_.json.data;if(typeof T>"u"&&(T=_.json.result),typeof T>"u")throw new uc("internal","Response is missing data field.");return{data:Hm(T)}}const sE="@firebase/functions",oE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="auth-internal",cL="app-check-internal",fL="messaging-internal";function dL(r,e){const t=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(uL),f=n.getProvider(fL),p=n.getProvider(cL);return new nL(a,l,f,p,s,r)};Ha(new xo(rb,t,"PUBLIC").setMultipleInstances(!0)),bi(sE,oE,e),bi(sE,oE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r=sp(),e=q_){const n=md(Yt(r),rb).getImmediate({identifier:e}),s=aw("functions");return s&&hL(n,...s),n}function hL(r,e,t){iL(Yt(r),e,t)}function nb(r,e,t){return sL(Yt(r),e)}dL(fetch.bind(self));const mL={apiKey:"AIzaSyC0M7f5gqr-PiWaXFM2HfJKJhlk99e-XMY",authDomain:"egeweb-23ff5.firebaseapp.com",projectId:"egeweb-23ff5",storageBucket:"egeweb-23ff5.firebasestorage.app",messagingSenderId:"543963070045",appId:"1:543963070045:web:eb155e1877292e0f5517b4",measurementId:"G-V5LSFE8MWN"},Id=jI(mL),Fl=sD(Id),Nn=t6(Id);G6(Id);let Wf;try{Wf=HC(Id,"us-central1"),console.log("Firebase Functions initialized successfully for region:",Wf.region)}catch(r){console.error("Error initializing Firebase Functions:",r),Wf={region:"us-central1",httpsCallable:()=>()=>Promise.resolve({data:{}})}}const fm="egeagritechpvtltd@gmail.com";let pL={data:""},gL=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||pL,yL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vL=/\/\*[^]*?\*\/|  +/g,aE=/\n+/g,La=(r,e)=>{let t="",n="",s="";for(let a in r){let l=r[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":n+=a[1]=="f"?La(l,a):a+"{"+La(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=La(l,e?e.replace(/([^,])+/g,f=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,f):f?f+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=La.p?La.p(a,l):a+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+n},po={},WC=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+WC(r[t]);return e}return r},_L=(r,e,t,n,s)=>{let a=WC(r),l=po[a]||(po[a]=(p=>{let _=0,b=11;for(;_<p.length;)b=101*b+p.charCodeAt(_++)>>>0;return"go"+b})(a));if(!po[l]){let p=a!==r?r:(_=>{let b,T,A=[{}];for(;b=yL.exec(_.replace(vL,""));)b[4]?A.shift():b[3]?(T=b[3].replace(aE," ").trim(),A.unshift(A[0][T]=A[0][T]||{})):A[0][b[1]]=b[2].replace(aE," ").trim();return A[0]})(r);po[l]=La(s?{["@keyframes "+l]:p}:p,t?"":"."+l)}let f=t&&po.g?po.g:null;return t&&(po.g=po[l]),((p,_,b,T)=>{T?_.data=_.data.replace(T,p):_.data.indexOf(p)===-1&&(_.data=b?p+_.data:_.data+p)})(po[l],e,n,f),l},wL=(r,e,t)=>r.reduce((n,s,a)=>{let l=e[a];if(l&&l.call){let f=l(t),p=f&&f.props&&f.props.className||/^go/.test(f)&&f;l=p?"."+p:f&&typeof f=="object"?f.props?"":La(f,""):f===!1?"":f}return n+s+(l??"")},"");function Cp(r){let e=this||{},t=r.call?r(e.p):r;return _L(t.unshift?t.raw?wL(t,[].slice.call(arguments,1),e.p):t.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):t,gL(e.target),e.g,e.o,e.k)}let GC,$_,H_;Cp.bind({g:1});let Ao=Cp.bind({k:1});function bL(r,e,t,n){La.p=e,GC=r,$_=t,H_=n}function Ja(r,e){let t=this||{};return function(){let n=arguments;function s(a,l){let f=Object.assign({},a),p=f.className||s.className;t.p=Object.assign({theme:$_&&$_()},f),t.o=/ *go\d+/.test(p),f.className=Cp.apply(t,n)+(p?" "+p:"");let _=r;return r[0]&&(_=f.as||r,delete f.as),H_&&_[0]&&H_(f),GC(_,f)}return s}}var xL=r=>typeof r=="function",W_=(r,e)=>xL(r)?r(e):r,EL=(()=>{let r=0;return()=>(++r).toString()})(),TL=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),SL=20,KC=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,SL)};case 1:return{...r,toasts:r.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:t}=e;return KC(r,{type:r.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...r,toasts:r.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let s=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},IL=[],Zg={toasts:[],pausedAt:void 0},ib=r=>{Zg=KC(Zg,r),IL.forEach(e=>{e(Zg)})},AL=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||EL()}),Ad=r=>(e,t)=>{let n=AL(e,r,t);return ib({type:2,toast:n}),n.id},gt=(r,e)=>Ad("blank")(r,e);gt.error=Ad("error");gt.success=Ad("success");gt.loading=Ad("loading");gt.custom=Ad("custom");gt.dismiss=r=>{ib({type:3,toastId:r})};gt.remove=r=>ib({type:4,toastId:r});gt.promise=(r,e,t)=>{let n=gt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(s=>{let a=e.success?W_(e.success,s):void 0;return a?gt.success(a,{id:n,...t,...t==null?void 0:t.success}):gt.dismiss(n),s}).catch(s=>{let a=e.error?W_(e.error,s):void 0;a?gt.error(a,{id:n,...t,...t==null?void 0:t.error}):gt.dismiss(n)}),r};var CL=Ao`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,PL=Ao`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kL=Ao`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RL=Ja("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${PL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,NL=Ao`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,OL=Ja("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${NL} 1s linear infinite;
`,jL=Ao`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,DL=Ao`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LL=Ja("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${DL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ML=Ja("div")`
  position: absolute;
`,FL=Ja("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VL=Ao`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UL=Ja("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,BL=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?L.createElement(UL,null,e):e:t==="blank"?null:L.createElement(FL,null,L.createElement(OL,{...n}),t!=="loading"&&L.createElement(ML,null,t==="error"?L.createElement(RL,{...n}):L.createElement(LL,{...n})))},zL=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qL=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,$L="0%{opacity:0;} 100%{opacity:1;}",HL="0%{opacity:1;} 100%{opacity:0;}",WL=Ja("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GL=Ja("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KL=(r,e)=>{let t=r.includes("top")?1:-1,[n,s]=TL()?[$L,HL]:[zL(t),qL(t)];return{animation:e?`${Ao(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ao(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};L.memo(({toast:r,position:e,style:t,children:n})=>{let s=r.height?KL(r.position||e||"top-center",r.visible):{opacity:0},a=L.createElement(BL,{toast:r}),l=L.createElement(GL,{...r.ariaProps},W_(r.message,r));return L.createElement(WL,{className:r.className,style:{...s,...t,...r.style}},typeof n=="function"?n({icon:a,message:l}):L.createElement(L.Fragment,null,a,l))});bL(L.createElement);Cp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const QC=L.createContext();function sb(){return L.useContext(QC)}function QL({children:r}){const[e,t]=L.useState(null),[n,s]=L.useState(!0),a=(e==null?void 0:e.email)===fm;L.useEffect(()=>G4(Fl,T=>{T?T.email===fm?t({uid:T.uid,email:T.email,emailVerified:T.emailVerified,isAdmin:!0}):im(Fl):t(null),s(!1)}),[]);const _={currentUser:e,isAdmin:a,login:async(b,T)=>{try{const O=(await $4(Fl,b,T)).user;return O.email===fm?(t({uid:O.uid,email:O.email,emailVerified:O.emailVerified,isAdmin:!0}),gt.success("Successfully signed in as admin"),O):(await im(Fl),gt.error("Access denied. Admin privileges required."),null)}catch(A){console.error("Login error:",A);let O="Error signing in. Please try again.";return A.code==="auth/user-not-found"||A.code==="auth/wrong-password"?O="Invalid email or password":A.code==="auth/too-many-requests"?O="Too many failed attempts. Please try again later.":A.code==="auth/user-disabled"&&(O="This account has been disabled."),gt.error(O),null}},logout:async()=>{try{return await im(Fl),t(null),gt.success("Successfully signed out"),!0}catch(b){return console.error("Error signing out:",b),gt.error("Error signing out. Please try again."),!1}},signInWithGoogle:async()=>{const b=new yo;try{const A=(await mj(Fl,b)).user;return A.email===fm?(t({uid:A.uid,email:A.email,emailVerified:A.emailVerified,isAdmin:!0}),gt.success("Successfully signed in as admin"),A):(await im(Fl),gt.error("Access denied. Admin privileges required."),null)}catch(T){return console.error("Google sign-in error:",T),gt.error(T.message||"Failed to sign in with Google"),null}},loading:n};return v.jsx(QC.Provider,{value:_,children:!n&&r})}function YC(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=YC(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Wl(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=YC(r))&&(n&&(n+=" "),n+=e);return n}function YL(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}YL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cd=r=>typeof r=="number"&&!isNaN(r),tu=r=>typeof r=="string",Co=r=>typeof r=="function",XL=r=>tu(r)||Cd(r),G_=r=>tu(r)||Co(r)?r:null,JL=(r,e)=>r===!1||Cd(r)&&r>0?r:e,K_=r=>L.isValidElement(r)||tu(r)||Co(r)||Cd(r);function ZL(r,e,t=300){let{scrollHeight:n,style:s}=r;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function eM({enter:r,exit:e,appendPosition:t=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:f,done:p,nodeRef:_,isIn:b,playToast:T}){let A=t?`${r}--${l}`:r,O=t?`${e}--${l}`:e,j=L.useRef(0);return L.useLayoutEffect(()=>{let F=_.current,D=A.split(" "),J=B=>{B.target===_.current&&(T(),F.removeEventListener("animationend",J),F.removeEventListener("animationcancel",J),j.current===0&&B.type!=="animationcancel"&&F.classList.remove(...D))};F.classList.add(...D),F.addEventListener("animationend",J),F.addEventListener("animationcancel",J)},[]),L.useEffect(()=>{let F=_.current,D=()=>{F.removeEventListener("animationend",D),n?ZL(F,p,s):p()};b||(f?D():(j.current=1,F.className+=` ${O}`,F.addEventListener("animationend",D)))},[b]),Fe.createElement(Fe.Fragment,null,a)}}function lE(r,e){return{content:XC(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function XC(r,e,t=!1){return L.isValidElement(r)&&!tu(r.type)?L.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Co(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function tM({closeToast:r,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),r(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rM({delay:r,isRunning:e,closeToast:t,type:n="default",hide:s,className:a,controlledProgress:l,progress:f,rtl:p,isIn:_,theme:b}){let T=s||l&&f===0,A={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};l&&(A.transform=`scaleX(${f})`);let O=Wl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":p}),j=Co(a)?a({rtl:p,type:n,defaultClassName:O}):Wl(O,a),F={[l&&f>=1?"onTransitionEnd":"onAnimationEnd"]:l&&f<1?null:()=>{_&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${n}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:j,style:A,...F}))}var nM=1,JC=()=>`${nM++}`;function iM(r,e,t){let n=1,s=0,a=[],l=[],f=e,p=new Map,_=new Set,b=B=>(_.add(B),()=>_.delete(B)),T=()=>{l=Array.from(p.values()),_.forEach(B=>B())},A=({containerId:B,toastId:k,updateId:Q})=>{let Y=B?B!==r:r!==1,ce=p.has(k)&&Q==null;return Y||ce},O=(B,k)=>{p.forEach(Q=>{var Y;(k==null||k===Q.props.toastId)&&((Y=Q.toggle)==null||Y.call(Q,B))})},j=B=>{var k,Q;(Q=(k=B.props)==null?void 0:k.onClose)==null||Q.call(k,B.removalReason),B.isActive=!1},F=B=>{if(B==null)p.forEach(j);else{let k=p.get(B);k&&j(k)}T()},D=()=>{s-=a.length,a=[]},J=B=>{var k,Q;let{toastId:Y,updateId:ce}=B.props,M=ce==null;B.staleId&&p.delete(B.staleId),B.isActive=!0,p.set(Y,B),T(),t(lE(B,M?"added":"updated")),M&&((Q=(k=B.props).onOpen)==null||Q.call(k))};return{id:r,props:f,observe:b,toggle:O,removeToast:F,toasts:p,clearQueue:D,buildToast:(B,k)=>{if(A(k))return;let{toastId:Q,updateId:Y,data:ce,staleId:M,delay:R}=k,V=Y==null;V&&s++;let $={...f,style:f.toastStyle,key:n++,...Object.fromEntries(Object.entries(k).filter(([H,U])=>U!=null)),toastId:Q,updateId:Y,data:ce,isIn:!1,className:G_(k.className||f.toastClassName),progressClassName:G_(k.progressClassName||f.progressClassName),autoClose:k.isLoading?!1:JL(k.autoClose,f.autoClose),closeToast(H){p.get(Q).removalReason=H,F(Q)},deleteToast(){let H=p.get(Q);if(H!=null){if(t(lE(H,"removed")),p.delete(Q),s--,s<0&&(s=0),a.length>0){J(a.shift());return}T()}}};$.closeButton=f.closeButton,k.closeButton===!1||K_(k.closeButton)?$.closeButton=k.closeButton:k.closeButton===!0&&($.closeButton=K_(f.closeButton)?f.closeButton:!0);let q={content:B,props:$,staleId:M};f.limit&&f.limit>0&&s>f.limit&&V?a.push(q):Cd(R)?setTimeout(()=>{J(q)},R):J(q)},setProps(B){f=B},setToggle:(B,k)=>{let Q=p.get(B);Q&&(Q.toggle=k)},isToastActive:B=>{var k;return(k=p.get(B))==null?void 0:k.isActive},getSnapshot:()=>l}}var cn=new Map,ud=[],Q_=new Set,sM=r=>Q_.forEach(e=>e(r)),ZC=()=>cn.size>0;function oM(){ud.forEach(r=>tP(r.content,r.options)),ud=[]}var aM=(r,{containerId:e})=>{var t;return(t=cn.get(e||1))==null?void 0:t.toasts.get(r)};function eP(r,e){var t;if(e)return!!((t=cn.get(e))!=null&&t.isToastActive(r));let n=!1;return cn.forEach(s=>{s.isToastActive(r)&&(n=!0)}),n}function lM(r){if(!ZC()){ud=ud.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||XL(r))cn.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=cn.get(r.containerId);e?e.removeToast(r.id):cn.forEach(t=>{t.removeToast(r.id)})}}var uM=(r={})=>{cn.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function tP(r,e){K_(r)&&(ZC()||ud.push({content:r,options:e}),cn.forEach(t=>{t.buildToast(r,e)}))}function cM(r){var e;(e=cn.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function rP(r,e){cn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(r,e==null?void 0:e.id)})}function fM(r){let e=r.containerId||1;return{subscribe(t){let n=iM(e,r,sM);cn.set(e,n);let s=n.observe(t);return oM(),()=>{s(),cn.delete(e)}},setProps(t){var n;(n=cn.get(e))==null||n.setProps(t)},getSnapshot(){var t;return(t=cn.get(e))==null?void 0:t.getSnapshot()}}}function dM(r){return Q_.add(r),()=>{Q_.delete(r)}}function hM(r){return r&&(tu(r.toastId)||Cd(r.toastId))?r.toastId:JC()}function Pd(r,e){return tP(r,e),e.toastId}function Pp(r,e){return{...e,type:e&&e.type||r,toastId:hM(e)}}function kp(r){return(e,t)=>Pd(e,Pp(r,t))}function dt(r,e){return Pd(r,Pp("default",e))}dt.loading=(r,e)=>Pd(r,Pp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function mM(r,{pending:e,error:t,success:n},s){let a;e&&(a=tu(e)?dt.loading(e,s):dt.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(_,b,T)=>{if(b==null){dt.dismiss(a);return}let A={type:_,...l,...s,data:T},O=tu(b)?{render:b}:b;return a?dt.update(a,{...A,...O}):dt(O.render,{...A,...O}),T},p=Co(r)?r():r;return p.then(_=>f("success",n,_)).catch(_=>f("error",t,_)),p}dt.promise=mM;dt.success=kp("success");dt.info=kp("info");dt.error=kp("error");dt.warning=kp("warning");dt.warn=dt.warning;dt.dark=(r,e)=>Pd(r,Pp("default",{theme:"dark",...e}));function pM(r){lM(r)}dt.dismiss=pM;dt.clearWaitingQueue=uM;dt.isActive=eP;dt.update=(r,e={})=>{let t=aM(r,e);if(t){let{props:n,content:s}=t,a={delay:100,...n,...e,toastId:e.toastId||r,updateId:JC()};a.toastId!==r&&(a.staleId=r);let l=a.render||s;delete a.render,Pd(l,a)}};dt.done=r=>{dt.update(r,{progress:1})};dt.onChange=dM;dt.play=r=>rP(!0,r);dt.pause=r=>rP(!1,r);function gM(r){var e;let{subscribe:t,getSnapshot:n,setProps:s}=L.useRef(fM(r)).current;s(r);let a=(e=L.useSyncExternalStore(t,n,n))==null?void 0:e.slice();function l(f){if(!a)return[];let p=new Map;return r.newestOnTop&&a.reverse(),a.forEach(_=>{let{position:b}=_.props;p.has(b)||p.set(b,[]),p.get(b).push(_)}),Array.from(p,_=>f(_[0],_[1]))}return{getToastToRender:l,isToastActive:eP,count:a==null?void 0:a.length}}function yM(r){let[e,t]=L.useState(!1),[n,s]=L.useState(!1),a=L.useRef(null),l=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:p,closeToast:_,onClick:b,closeOnClick:T}=r;cM({id:r.toastId,containerId:r.containerId,fn:t}),L.useEffect(()=>{if(r.pauseOnFocusLoss)return A(),()=>{O()}},[r.pauseOnFocusLoss]);function A(){document.hasFocus()||J(),window.addEventListener("focus",D),window.addEventListener("blur",J)}function O(){window.removeEventListener("focus",D),window.removeEventListener("blur",J)}function j(M){if(r.draggable===!0||r.draggable===M.pointerType){B();let R=a.current;l.canCloseOnClick=!0,l.canDrag=!0,R.style.transition="none",r.draggableDirection==="x"?(l.start=M.clientX,l.removalDistance=R.offsetWidth*(r.draggablePercent/100)):(l.start=M.clientY,l.removalDistance=R.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function F(M){let{top:R,bottom:V,left:$,right:q}=a.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&r.pauseOnHover&&M.clientX>=$&&M.clientX<=q&&M.clientY>=R&&M.clientY<=V?J():D()}function D(){t(!0)}function J(){t(!1)}function B(){l.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Y)}function k(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Y)}function Q(M){let R=a.current;if(l.canDrag&&R){l.didMove=!0,e&&J(),r.draggableDirection==="x"?l.delta=M.clientX-l.start:l.delta=M.clientY-l.start,l.start!==M.clientX&&(l.canCloseOnClick=!1);let V=r.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;R.style.transform=`translate3d(${V},0)`,R.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function Y(){k();let M=a.current;if(l.canDrag&&l.didMove&&M){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),r.closeToast(!0),r.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let ce={onPointerDown:j,onPointerUp:F};return f&&p&&(ce.onMouseEnter=J,r.stacked||(ce.onMouseLeave=D)),T&&(ce.onClick=M=>{b&&b(M),l.canCloseOnClick&&_(!0)}),{playToast:D,pauseToast:J,isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:ce}}var vM=typeof window<"u"?L.useLayoutEffect:L.useEffect,Rp=({theme:r,type:e,isLoading:t,...n})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function _M(r){return Fe.createElement(Rp,{...r},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function wM(r){return Fe.createElement(Rp,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bM(r){return Fe.createElement(Rp,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xM(r){return Fe.createElement(Rp,{...r},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function EM(){return Fe.createElement("div",{className:"Toastify__spinner"})}var Y_={info:wM,warning:_M,success:bM,error:xM,spinner:EM},TM=r=>r in Y_;function SM({theme:r,type:e,isLoading:t,icon:n}){let s=null,a={theme:r,type:e};return n===!1||(Co(n)?s=n({...a,isLoading:t}):L.isValidElement(n)?s=L.cloneElement(n,a):t?s=Y_.spinner():TM(e)&&(s=Y_[e](a))),s}var IM=r=>{let{isRunning:e,preventExitTransition:t,toastRef:n,eventHandlers:s,playToast:a}=yM(r),{closeButton:l,children:f,autoClose:p,onClick:_,type:b,hideProgressBar:T,closeToast:A,transition:O,position:j,className:F,style:D,progressClassName:J,updateId:B,role:k,progress:Q,rtl:Y,toastId:ce,deleteToast:M,isIn:R,isLoading:V,closeOnClick:$,theme:q,ariaLabel:H}=r,U=Wl("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${b}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":$}),Ue=Co(F)?F({rtl:Y,position:j,type:b,defaultClassName:U}):Wl(U,F),st=SM(r),ot=!!Q||!p,We={closeToast:A,type:b,theme:q},_e=null;return l===!1||(Co(l)?_e=l(We):L.isValidElement(l)?_e=L.cloneElement(l,We):_e=tM(We)),Fe.createElement(O,{isIn:R,done:M,position:j,preventExitTransition:t,nodeRef:n,playToast:a},Fe.createElement("div",{id:ce,tabIndex:0,onClick:_,"data-in":R,className:Ue,...s,style:D,ref:n,...R&&{role:k,"aria-label":H}},st!=null&&Fe.createElement("div",{className:Wl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},st),XC(f,r,!e),_e,!r.customProgressBar&&Fe.createElement(rM,{...B&&!ot?{key:`p-${B}`}:{},rtl:Y,theme:q,delay:p,isRunning:e,isIn:R,closeToast:A,hide:T,type:b,className:J,controlledProgress:ot,progress:Q||0})))},AM=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),CM=eM(AM("bounce",!0)),PM={position:"top-right",transition:CM,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function kM(r){let e={...PM,...r},t=r.stacked,[n,s]=L.useState(!0),a=L.useRef(null),{getToastToRender:l,isToastActive:f,count:p}=gM(e),{className:_,style:b,rtl:T,containerId:A,hotKeys:O}=e;function j(D){let J=Wl("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":T});return Co(_)?_({position:D,rtl:T,defaultClassName:J}):Wl(J,G_(_))}function F(){t&&(s(!0),dt.play())}return vM(()=>{var D;if(t){let J=a.current.querySelectorAll('[data-in="true"]'),B=12,k=(D=e.position)==null?void 0:D.includes("top"),Q=0,Y=0;Array.from(J).reverse().forEach((ce,M)=>{let R=ce;R.classList.add("Toastify__toast--stacked"),M>0&&(R.dataset.collapsed=`${n}`),R.dataset.pos||(R.dataset.pos=k?"top":"bot");let V=Q*(n?.2:1)+(n?0:B*M);R.style.setProperty("--y",`${k?V:V*-1}px`),R.style.setProperty("--g",`${B}`),R.style.setProperty("--s",`${1-(n?Y:0)}`),Q+=R.offsetHeight,Y+=.025})}},[n,p,t]),L.useEffect(()=>{function D(J){var B;let k=a.current;O(J)&&((B=k.querySelector('[tabIndex="0"]'))==null||B.focus(),s(!1),dt.pause()),J.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(s(!0),dt.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[O]),Fe.createElement("section",{ref:a,className:"Toastify",id:A,onMouseEnter:()=>{t&&(s(!1),dt.pause())},onMouseLeave:F,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((D,J)=>{let B=J.length?{...b}:{...b,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:j(D),"data-stacked":t,style:B,key:`c-${D}`},J.map(({content:k,props:Q})=>Fe.createElement(IM,{...Q,stacked:t,collapseAll:F,isIn:f(Q.toastId,Q.containerId),key:`t-${Q.key}`},k)))}))}function RM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const NM=L.forwardRef(RM);function OM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const tc=L.forwardRef(OM);function jM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const DM=L.forwardRef(jM);function LM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const nP=L.forwardRef(LM);function MM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const FM=L.forwardRef(MM);function VM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Wm=L.forwardRef(VM);function UM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const BM=L.forwardRef(UM);function zM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Mf=L.forwardRef(zM);function qM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const $M=L.forwardRef(qM);function HM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const X_=L.forwardRef(HM);function WM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const GM=L.forwardRef(WM);function KM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const QM=L.forwardRef(KM);function YM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const XM=L.forwardRef(YM);function JM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const iP=L.forwardRef(JM);function ZM({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const eF=L.forwardRef(ZM);function tF({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const uE=L.forwardRef(tF);function rF({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const nF=L.forwardRef(rF);function iF({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const sF=L.forwardRef(iF);function oF({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const aF=L.forwardRef(oF);function lF({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const sP=L.forwardRef(lF),uF=()=>{const[r,e]=L.useState(!1),[t,n]=L.useState(!1),s=ko(),a=Ec(),{currentUser:l,signOut:f,isAdmin:p}=sb(),_=async()=>{try{await f(),gt.success("Successfully signed out"),a("/")}catch(T){console.error("Error signing out:",T),gt.error("Error signing out")}};L.useEffect(()=>{e(!1)},[s]),L.useEffect(()=>{const T=()=>{const A=window.scrollY>10;A!==t&&n(A)};return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[t]);const b=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Blog",path:"/blog"},{name:"Contact",path:"/contact"}];return p&&b.push({name:"Admin",path:"/admin"}),v.jsx("header",{className:"fixed w-full z-50 bg-white shadow-sm",children:v.jsxs("nav",{className:"container mx-auto px-4 py-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("div",{className:"flex-shrink-0 flex items-center",children:v.jsxs(hm,{to:"/",className:"flex items-center",children:[v.jsx("img",{src:"/assets/egeicon.png",alt:"EGE Agritech",className:"h-20 w-auto object-contain"}),v.jsx("div",{className:"ml-2",children:v.jsx("span",{className:"text-2xl",style:{color:"#F2C67B",fontFamily:'"Dancing Script", cursive, ui-sans-serif, system-ui, -apple-system, sans-serif',fontWeight:700,fontSize:"1.75rem",letterSpacing:"0.05em",textShadow:"1px 1px 2px rgba(0,0,0,0.2)",WebkitTextStroke:"0.3px #000",textStroke:"0.3px #000",padding:"0 2px"},children:"ORGANIC"})})]})}),v.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[b.map(T=>v.jsx(hm,{to:T.path,className:({isActive:A})=>`px-3 py-2 text-md font-medium transition-colors duration-200 ${A?"text-primary border-b-2 border-primary":"text-gray-700 hover:text-primary"}`,children:T.name},T.path)),v.jsx("button",{onClick:()=>a("/contact"),className:"ml-4 bg-primary text-white px-6 py-2.5 rounded-full font-medium hover:bg-primary-dark transition-colors duration-200",children:"Get Started"})]}),v.jsxs("div",{className:"flex items-center space-x-4",children:[l&&v.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:v.jsxs("button",{onClick:_,className:"flex items-center space-x-1 text-gray-700 hover:text-indigo-600 transition-colors",children:[v.jsx(NM,{className:"h-5 w-5"}),v.jsx("span",{children:"Sign Out"})]})}),v.jsx("div",{className:"lg:hidden",children:v.jsx("button",{onClick:()=>e(!r),className:"text-gray-700 hover:text-gray-900 focus:outline-none","aria-expanded":r,"aria-label":"Toggle menu",children:r?v.jsx(sP,{className:"h-6 w-6"}):v.jsx(DM,{className:"h-6 w-6"})})})]})]}),v.jsx("div",{className:`${r?"block":"hidden"} md:hidden`,children:v.jsx("div",{className:"pt-2 pb-3 space-y-1",children:b.map(T=>v.jsx(hm,{to:T.path,className:({isActive:A})=>`block px-3 py-2 rounded-md text-base font-medium ${A?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>e(!1),children:T.name},T.name))})})]})})};var oP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cE=Fe.createContext&&Fe.createContext(oP),cF=["attr","size","title"];function fF(r,e){if(r==null)return{};var t=dF(r,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function dF(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Gm(){return Gm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Gm.apply(this,arguments)}function fE(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Km(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(t),!0).forEach(function(n){hF(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fE(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hF(r,e,t){return e=mF(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mF(r){var e=pF(r,"string");return typeof e=="symbol"?e:e+""}function pF(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function aP(r){return r&&r.map((e,t)=>Fe.createElement(e.tag,Km({key:t},e.attr),aP(e.child)))}function Za(r){return e=>Fe.createElement(gF,Gm({attr:Km({},r.attr)},e),aP(r.child))}function gF(r){var e=t=>{var{attr:n,size:s,title:a}=r,l=fF(r,cF),f=s||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Fe.createElement("svg",Gm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:p,style:Km(Km({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),a&&Fe.createElement("title",null,a),r.children)};return cE!==void 0?Fe.createElement(cE.Consumer,null,t=>e(t)):e(oP)}function yF(r){return Za({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function vF(r){return Za({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function _F(r){return Za({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(r)}function dE(r){return Za({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(r)}function wF(r){return Za({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(r)}function bF(r){return Za({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function xF(r){return Za({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(r)}function EF(r){return Za({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(r)}const TF=()=>{const[r,e]=L.useState(""),[t,n]=L.useState(!1),[s,a]=L.useState(!1),[l,f]=L.useState({success:null,message:""}),p=new Date().getFullYear(),_=async O=>{var j,F;if(O.preventDefault(),!r||!r.includes("@")){f({success:!1,message:"Please enter a valid email address"});return}a(!0),f({success:null,message:""});try{console.log("Attempting to subscribe email:",r);const J=await nb(Wf,"subscribeNewsletter")({email:r.trim()});console.log("Subscription successful:",J),e(""),f({success:!0,message:((j=J.data)==null?void 0:j.message)||"Thank you for subscribing to our newsletter!",alreadySubscribed:((F=J.data)==null?void 0:F.alreadySubscribed)||!1}),n(!0),setTimeout(()=>{n(!1),f({success:null,message:""})},5e3)}catch(D){console.error("Error subscribing:",D),f({success:!1,message:D.message||"An error occurred. Please try again later."})}finally{a(!1)}},b=[{name:"Home",path:"/"},{name:"About Us",path:"/about"},{name:"Products",path:"/products"},{name:"Blog",path:"/blog"},{name:"Contact",path:"/contact"}],T=[{icon:v.jsx(xF,{}),text:"Ghodasar, Ahmedabad, Gujarat"},{icon:v.jsx(EF,{}),text:"+91 7622879463"},{icon:v.jsx(bF,{}),text:"info@egeorganic.com"},{icon:v.jsx(wF,{}),text:"Mon - Fri: 9:00 AM - 5:00 PM"}],A=[{name:"Facebook",url:"#",icon:v.jsx(yF,{className:"h-5 w-5"})},{name:"Instagram",url:"#",icon:v.jsx(vF,{className:"h-5 w-5"})},{name:"LinkedIn",url:"#",icon:v.jsx(_F,{className:"h-5 w-5"})}];return v.jsx("footer",{className:"bg-gray-900 text-white",children:v.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-7xl",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6 items-start",children:[v.jsxs("div",{className:"lg:col-span-3",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx("img",{src:"/assets/egeicon.png",alt:"EGE Agritech",className:"h-20 w-auto mr-3"}),v.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"Organic"})]}),v.jsx("p",{className:"text-gray-300 mb-6",children:"Growing a healthier future through sustainable and organic farming practices. for a healthier planet and future generations."}),v.jsx("div",{className:"flex space-x-3 mt-6",children:A.map((O,j)=>v.jsx("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-10 h-10 bg-gray-800 hover:bg-primary rounded-full transition-all duration-300 transform hover:-translate-y-1","aria-label":O.name,children:v.jsx("span",{className:"text-gray-300 hover:text-white text-lg",children:O.icon})},O.name))})]}),v.jsxs("div",{className:"lg:col-span-2",children:[v.jsx("h3",{className:"text-lg font-semibold mb-6 text-white",children:"Quick Links"}),v.jsx("ul",{className:"space-y-3",children:b.map(O=>v.jsx("li",{className:"group",children:v.jsxs(kt,{to:O.path,className:"flex items-center text-gray-300 hover:text-primary transition-colors duration-200 group-hover:translate-x-1",children:[v.jsx(dE,{className:"h-4 w-4  opacity-0 group-hover:opacity-100 transition-all duration-200"}),O.name]})},O.name))})]}),v.jsxs("div",{className:"lg:col-span-3",children:[v.jsx("h3",{className:"text-lg font-semibold mb-6 text-white font-family: 'Poppins', sans-serif;",children:"Contact Us"}),v.jsx("ul",{className:"space-y-4",children:T.map((O,j)=>v.jsxs("li",{className:"flex items-start",children:[v.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary/20 rounded-full flex-shrink-0",children:v.jsx("span",{className:"text-primary text-center",children:O.icon})}),v.jsx("span",{className:"text-gray-300 ml-3 mt-1 text-sm",children:O.text})]},j))})]}),v.jsx("div",{className:"lg:col-span-4",children:v.jsxs("div",{className:"w-full max-w-lg",children:[v.jsx("h4",{className:"text-lg font-semibold mb-6 text-white",children:"Newsletter"}),v.jsx("p",{className:"text-gray-300 mb-6",children:"Subscribe to our newsletter for the latest updates on our products and farming tips."}),t||l.success?v.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:l.message||"Thank you for subscribing!"}):v.jsxs("form",{onSubmit:_,className:"w-full",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[v.jsxs("div",{className:"relative flex-grow min-w-0",children:[v.jsx("input",{type:"email",placeholder:"Your email address",className:`w-full px-4 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-primary text-gray-800 text-base ${l.success===!1?"border-2 border-red-500":"border border-gray-300"}`,value:r,onChange:O=>{e(O.target.value),l.success===!1&&f({success:null,message:""})},disabled:s,required:!0}),l.success===!1&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.message})]}),v.jsx("button",{type:"submit",disabled:s,className:`bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-md transition-colors duration-200 font-medium flex items-center justify-center whitespace-nowrap flex-shrink-0 ${s?"opacity-75 cursor-not-allowed":""}`,children:s?v.jsx("span",{children:"Subscribing..."}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"hidden sm:inline",children:"Subscribe"}),v.jsx(dE,{className:"h-4 w-4 sm:ml-2"})]})})]}),l.message&&!l.success&&v.jsx("div",{className:"mt-2 text-red-500 text-sm",children:l.message})]})]})})]}),v.jsx("div",{className:"container mx-auto px-4 mt-12 pt-8 border-t border-gray-800",children:v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[v.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",p," EGE Agritech PVT Ltd. All rights reserved."]}),v.jsxs("div",{className:"flex space-x-6",children:[v.jsx(kt,{to:"/privacy",className:"text-gray-400 hover:text-primary text-sm transition-colors duration-200",children:"Privacy Policy"}),v.jsx(kt,{to:"/terms",className:"text-gray-400 hover:text-primary text-sm transition-colors duration-200",children:"Terms of Service"}),v.jsx("a",{href:"sitemap.xml",className:"text-gray-400 hover:text-primary text-sm transition-colors duration-200",children:"Sitemap"})]})]})})]})})};function SF({title:r,titleId:e,...t},n){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const IF=L.forwardRef(SF),lP=6048e5,AF=864e5,dm=43200,hE=1440,mE=Symbol.for("constructDateFrom");function Ti(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&mE in r?r[mE](e):r instanceof Date?new r.constructor(e):new Date(e)}function gr(r,e){return Ti(e||r,r)}function CF(r,e,t){const n=gr(r,t==null?void 0:t.in);return isNaN(e)?Ti(r,NaN):(n.setDate(n.getDate()+e),n)}let PF={};function kd(){return PF}function cd(r,e){var f,p,_,b;const t=kd(),n=(e==null?void 0:e.weekStartsOn)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((b=(_=t.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??0,s=gr(r,e==null?void 0:e.in),a=s.getDay(),l=(a<n?7:0)+a-n;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Qm(r,e){return cd(r,{...e,weekStartsOn:1})}function uP(r,e){const t=gr(r,e==null?void 0:e.in),n=t.getFullYear(),s=Ti(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Qm(s),l=Ti(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const f=Qm(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function Ym(r){const e=gr(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Rd(r,...e){const t=Ti.bind(null,r||e.find(n=>typeof n=="object"));return e.map(t)}function Xm(r,e){const t=gr(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function kF(r,e,t){const[n,s]=Rd(t==null?void 0:t.in,r,e),a=Xm(n),l=Xm(s),f=+a-Ym(a),p=+l-Ym(l);return Math.round((f-p)/AF)}function RF(r,e){const t=uP(r,e),n=Ti(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qm(n)}function Tm(r,e){const t=+gr(r)-+gr(e);return t<0?-1:t>0?1:t}function ob(r){return Ti(r,Date.now())}function cP(r,e,t){const[n,s]=Rd(t==null?void 0:t.in,r,e);return+Xm(n)==+Xm(s)}function NF(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function OF(r){return!(!NF(r)&&typeof r!="number"||isNaN(+gr(r)))}function jF(r,e,t){const[n,s]=Rd(t==null?void 0:t.in,r,e),a=n.getFullYear()-s.getFullYear(),l=n.getMonth()-s.getMonth();return a*12+l}function DF(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function LF(r,e){return+gr(r)-+gr(e)}function MF(r,e){const t=gr(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function FF(r,e){const t=gr(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function VF(r,e){const t=gr(r,e==null?void 0:e.in);return+MF(t,e)==+FF(t,e)}function UF(r,e,t){const[n,s,a]=Rd(t==null?void 0:t.in,r,r,e),l=Tm(s,a),f=Math.abs(jF(s,a));if(f<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*f);let p=Tm(s,a)===-l;VF(n)&&f===1&&Tm(n,a)===1&&(p=!1);const _=l*(f-+p);return _===0?0:_}function BF(r,e,t){const n=LF(r,e)/1e3;return DF(t==null?void 0:t.roundingMethod)(n)}function zF(r,e){const t=gr(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const qF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$F=(r,e,t)=>{let n;const s=qF[r];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function ey(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const HF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KF={date:ey({formats:HF,defaultWidth:"full"}),time:ey({formats:WF,defaultWidth:"full"}),dateTime:ey({formats:GF,defaultWidth:"full"})},QF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YF=(r,e,t,n)=>QF[r];function Cf(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let s;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,f=t!=null&&t.width?String(t.width):l;s=r.formattingValues[f]||r.formattingValues[l]}else{const l=r.defaultWidth,f=t!=null&&t.width?String(t.width):r.defaultWidth;s=r.values[f]||r.values[l]}const a=r.argumentCallback?r.argumentCallback(e):e;return s[a]}}const XF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nV=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},iV={ordinalNumber:nV,era:Cf({values:XF,defaultWidth:"wide"}),quarter:Cf({values:JF,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Cf({values:ZF,defaultWidth:"wide"}),day:Cf({values:eV,defaultWidth:"wide"}),dayPeriod:Cf({values:tV,defaultWidth:"wide",formattingValues:rV,defaultFormattingWidth:"wide"})};function Pf(r){return(e,t={})=>{const n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],f=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?oV(f,T=>T.test(l)):sV(f,T=>T.test(l));let _;_=r.valueCallback?r.valueCallback(p):p,_=t.valueCallback?t.valueCallback(_):_;const b=e.slice(l.length);return{value:_,rest:b}}}function sV(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function oV(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function aV(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const s=n[0],a=e.match(r.parsePattern);if(!a)return null;let l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const f=e.slice(s.length);return{value:l,rest:f}}}const lV=/^(\d+)(th|st|nd|rd)?/i,uV=/\d+/i,cV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fV={any:[/^b/i,/^(a|c)/i]},dV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hV={any:[/1/i,/2/i,/3/i,/4/i]},mV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_V={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wV={ordinalNumber:aV({matchPattern:lV,parsePattern:uV,valueCallback:r=>parseInt(r,10)}),era:Pf({matchPatterns:cV,defaultMatchWidth:"wide",parsePatterns:fV,defaultParseWidth:"any"}),quarter:Pf({matchPatterns:dV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Pf({matchPatterns:mV,defaultMatchWidth:"wide",parsePatterns:pV,defaultParseWidth:"any"}),day:Pf({matchPatterns:gV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any"}),dayPeriod:Pf({matchPatterns:vV,defaultMatchWidth:"any",parsePatterns:_V,defaultParseWidth:"any"})},fP={code:"en-US",formatDistance:$F,formatLong:KF,formatRelative:YF,localize:iV,match:wV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bV(r,e){const t=gr(r,e==null?void 0:e.in);return kF(t,zF(t))+1}function xV(r,e){const t=gr(r,e==null?void 0:e.in),n=+Qm(t)-+RF(t);return Math.round(n/lP)+1}function dP(r,e){var b,T,A,O;const t=gr(r,e==null?void 0:e.in),n=t.getFullYear(),s=kd(),a=(e==null?void 0:e.firstWeekContainsDate)??((T=(b=e==null?void 0:e.locale)==null?void 0:b.options)==null?void 0:T.firstWeekContainsDate)??s.firstWeekContainsDate??((O=(A=s.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??1,l=Ti((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const f=cd(l,e),p=Ti((e==null?void 0:e.in)||r,0);p.setFullYear(n,0,a),p.setHours(0,0,0,0);const _=cd(p,e);return+t>=+f?n+1:+t>=+_?n:n-1}function EV(r,e){var f,p,_,b;const t=kd(),n=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((b=(_=t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,s=dP(r,e),a=Ti((e==null?void 0:e.in)||r,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),cd(a,e)}function TV(r,e){const t=gr(r,e==null?void 0:e.in),n=+cd(t,e)-+EV(t,e);return Math.round(n/lP)+1}function It(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Ra={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return It(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):It(t+1,2)},d(r,e){return It(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return It(r.getHours()%12||12,e.length)},H(r,e){return It(r.getHours(),e.length)},m(r,e){return It(r.getMinutes(),e.length)},s(r,e){return It(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return It(s,e.length)}},Xu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pE={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return Ra.y(r,e)},Y:function(r,e,t,n){const s=dP(r,n),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return It(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):It(a,e.length)},R:function(r,e){const t=uP(r);return It(t,e.length)},u:function(r,e){const t=r.getFullYear();return It(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return It(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return It(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Ra.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return It(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const s=TV(r,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):It(s,e.length)},I:function(r,e,t){const n=xV(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):It(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Ra.d(r,e)},D:function(r,e,t){const n=bV(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):It(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const s=r.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return It(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const s=r.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return It(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return It(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let s;switch(n===12?s=Xu.noon:n===0?s=Xu.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let s;switch(n>=17?s=Xu.evening:n>=12?s=Xu.afternoon:n>=4?s=Xu.morning:s=Xu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ra.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Ra.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):It(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):It(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ra.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Ra.s(r,e)},S:function(r,e){return Ra.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return yE(n);case"XXXX":case"XX":return Ul(n);case"XXXXX":case"XXX":default:return Ul(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return yE(n);case"xxxx":case"xx":return Ul(n);case"xxxxx":case"xxx":default:return Ul(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gE(n,":");case"OOOO":default:return"GMT"+Ul(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gE(n,":");case"zzzz":default:return"GMT"+Ul(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return It(n,e.length)},T:function(r,e,t){return It(+r,e.length)}};function gE(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Math.trunc(n/60),a=n%60;return a===0?t+String(s):t+String(s)+e+It(a,2)}function yE(r,e){return r%60===0?(r>0?"-":"+")+It(Math.abs(r)/60,2):Ul(r,e)}function Ul(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=It(Math.trunc(n/60),2),a=It(n%60,2);return t+s+e+a}const vE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hP=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},SV=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return vE(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",vE(n,e)).replace("{{time}}",hP(s,e))},IV={p:hP,P:SV},AV=/^D+$/,CV=/^Y+$/,PV=["D","DD","YY","YYYY"];function kV(r){return AV.test(r)}function RV(r){return CV.test(r)}function NV(r,e,t){const n=OV(r,e,t);if(console.warn(n),PV.includes(r))throw new RangeError(n)}function OV(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LV=/^'([^]*?)'?$/,MV=/''/g,FV=/[a-zA-Z]/;function cc(r,e,t){var b,T,A,O;const n=kd(),s=n.locale??fP,a=n.firstWeekContainsDate??((T=(b=n.locale)==null?void 0:b.options)==null?void 0:T.firstWeekContainsDate)??1,l=n.weekStartsOn??((O=(A=n.locale)==null?void 0:A.options)==null?void 0:O.weekStartsOn)??0,f=gr(r,t==null?void 0:t.in);if(!OF(f))throw new RangeError("Invalid time value");let p=e.match(DV).map(j=>{const F=j[0];if(F==="p"||F==="P"){const D=IV[F];return D(j,s.formatLong)}return j}).join("").match(jV).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const F=j[0];if(F==="'")return{isToken:!1,value:VV(j)};if(pE[F])return{isToken:!0,value:j};if(F.match(FV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(p=s.localize.preprocessor(f,p));const _={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return p.map(j=>{if(!j.isToken)return j.value;const F=j.value;(RV(F)||kV(F))&&NV(F,e,String(r));const D=pE[F[0]];return D(f,F,s.localize,_)}).join("")}function VV(r){const e=r.match(LV);return e?e[1].replace(MV,"'"):r}function UV(r,e,t){const n=kd(),s=(t==null?void 0:t.locale)??n.locale??fP,a=2520,l=Tm(r,e);if(isNaN(l))throw new RangeError("Invalid time value");const f=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:l}),[p,_]=Rd(t==null?void 0:t.in,...l>0?[e,r]:[r,e]),b=BF(_,p),T=(Ym(_)-Ym(p))/1e3,A=Math.round((b-T)/60);let O;if(A<2)return t!=null&&t.includeSeconds?b<5?s.formatDistance("lessThanXSeconds",5,f):b<10?s.formatDistance("lessThanXSeconds",10,f):b<20?s.formatDistance("lessThanXSeconds",20,f):b<40?s.formatDistance("halfAMinute",0,f):b<60?s.formatDistance("lessThanXMinutes",1,f):s.formatDistance("xMinutes",1,f):A===0?s.formatDistance("lessThanXMinutes",1,f):s.formatDistance("xMinutes",A,f);if(A<45)return s.formatDistance("xMinutes",A,f);if(A<90)return s.formatDistance("aboutXHours",1,f);if(A<hE){const j=Math.round(A/60);return s.formatDistance("aboutXHours",j,f)}else{if(A<a)return s.formatDistance("xDays",1,f);if(A<dm){const j=Math.round(A/hE);return s.formatDistance("xDays",j,f)}else if(A<dm*2)return O=Math.round(A/dm),s.formatDistance("aboutXMonths",O,f)}if(O=UF(_,p),O<12){const j=Math.round(A/dm);return s.formatDistance("xMonths",j,f)}else{const j=O%12,F=Math.trunc(O/12);return j<3?s.formatDistance("aboutXYears",F,f):j<9?s.formatDistance("overXYears",F,f):s.formatDistance("almostXYears",F+1,f)}}function mP(r,e){return UV(r,ob(r),e)}function BV(r,e){return cP(Ti(r,r),ob(r))}function zV(r,e,t){return CF(r,-1,t)}function qV(r,e){return cP(Ti(r,r),zV(ob(r)))}const pP=(r,e="MMM d, yyyy")=>{if(!r)return"N/A";const t=r!=null&&r.toDate?r.toDate():new Date(r);return isNaN(t.getTime())?"Invalid date":BV(t)?`Today, ${cc(t,"h:mm a")}`:qV(t)?`Yesterday, ${cc(t,"h:mm a")}`:Math.ceil((new Date-t)/(1e3*60*60*24))<=7?`${mP(t,{addSuffix:!0})}`:cc(t,e)},$V=r=>{if(!r)return"N/A";const e=r!=null&&r.toDate?r.toDate():new Date(r);return isNaN(e.getTime())?"Invalid date":cc(e,"MMMM d, yyyy")};var ty={exports:{}},ry,_E;function HV(){if(_E)return ry;_E=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ry=r,ry}var ny,wE;function WV(){if(wE)return ny;wE=1;var r=HV();function e(){}function t(){}return t.resetWarningCache=e,ny=function(){function n(l,f,p,_,b,T){if(T!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},ny}var bE;function GV(){return bE||(bE=1,ty.exports=WV()()),ty.exports}var fe=GV();const Sr=fd(fe);var Sm={exports:{}},iy,xE;function gP(){if(xE)return iy;xE=1;var r=typeof em=="object"&&em&&em.Object===Object&&em;return iy=r,iy}var sy,EE;function Ds(){if(EE)return sy;EE=1;var r=gP(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return sy=t,sy}var oy,TE;function Nd(){if(TE)return oy;TE=1;var r=Ds(),e=r.Symbol;return oy=e,oy}var ay,SE;function KV(){if(SE)return ay;SE=1;var r=Nd(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,s=r?r.toStringTag:void 0;function a(l){var f=t.call(l,s),p=l[s];try{l[s]=void 0;var _=!0}catch{}var b=n.call(l);return _&&(f?l[s]=p:delete l[s]),b}return ay=a,ay}var ly,IE;function QV(){if(IE)return ly;IE=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return ly=t,ly}var uy,AE;function lu(){if(AE)return uy;AE=1;var r=Nd(),e=KV(),t=QV(),n="[object Null]",s="[object Undefined]",a=r?r.toStringTag:void 0;function l(f){return f==null?f===void 0?s:n:a&&a in Object(f)?e(f):t(f)}return uy=l,uy}var cy,CE;function Ro(){if(CE)return cy;CE=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return cy=r,cy}var fy,PE;function Od(){if(PE)return fy;PE=1;var r=lu(),e=Ro(),t="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function l(f){if(!e(f))return!1;var p=r(f);return p==n||p==s||p==t||p==a}return fy=l,fy}var dy,kE;function YV(){if(kE)return dy;kE=1;var r=Ds(),e=r["__core-js_shared__"];return dy=e,dy}var hy,RE;function XV(){if(RE)return hy;RE=1;var r=YV(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return hy=t,hy}var my,NE;function yP(){if(NE)return my;NE=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return my=t,my}var py,OE;function JV(){if(OE)return py;OE=1;var r=Od(),e=XV(),t=Ro(),n=yP(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,p=l.toString,_=f.hasOwnProperty,b=RegExp("^"+p.call(_).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T(A){if(!t(A)||e(A))return!1;var O=r(A)?b:a;return O.test(n(A))}return py=T,py}var gy,jE;function ZV(){if(jE)return gy;jE=1;function r(e,t){return e==null?void 0:e[t]}return gy=r,gy}var yy,DE;function uu(){if(DE)return yy;DE=1;var r=JV(),e=ZV();function t(n,s){var a=e(n,s);return r(a)?a:void 0}return yy=t,yy}var vy,LE;function vP(){if(LE)return vy;LE=1;var r=uu(),e=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}}();return vy=e,vy}var _y,ME;function ab(){if(ME)return _y;ME=1;var r=vP();function e(t,n,s){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[n]=s}return _y=e,_y}var wy,FE;function Np(){if(FE)return wy;FE=1;function r(e,t){return e===t||e!==e&&t!==t}return wy=r,wy}var by,VE;function lb(){if(VE)return by;VE=1;var r=ab(),e=Np(),t=Object.prototype,n=t.hasOwnProperty;function s(a,l,f){var p=a[l];(!(n.call(a,l)&&e(p,f))||f===void 0&&!(l in a))&&r(a,l,f)}return by=s,by}var xy,UE;function Pc(){if(UE)return xy;UE=1;var r=lb(),e=ab();function t(n,s,a,l){var f=!a;a||(a={});for(var p=-1,_=s.length;++p<_;){var b=s[p],T=l?l(a[b],n[b],b,a,n):void 0;T===void 0&&(T=n[b]),f?e(a,b,T):r(a,b,T)}return a}return xy=t,xy}var Ey,BE;function ub(){if(BE)return Ey;BE=1;function r(e){return e}return Ey=r,Ey}var Ty,zE;function e9(){if(zE)return Ty;zE=1;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return Ty=r,Ty}var Sy,qE;function t9(){if(qE)return Sy;qE=1;var r=e9(),e=Math.max;function t(n,s,a){return s=e(s===void 0?n.length-1:s,0),function(){for(var l=arguments,f=-1,p=e(l.length-s,0),_=Array(p);++f<p;)_[f]=l[s+f];f=-1;for(var b=Array(s+1);++f<s;)b[f]=l[f];return b[s]=a(_),r(n,this,b)}}return Sy=t,Sy}var Iy,$E;function r9(){if($E)return Iy;$E=1;function r(e){return function(){return e}}return Iy=r,Iy}var Ay,HE;function n9(){if(HE)return Ay;HE=1;var r=r9(),e=vP(),t=ub(),n=e?function(s,a){return e(s,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:t;return Ay=n,Ay}var Cy,WE;function i9(){if(WE)return Cy;WE=1;var r=800,e=16,t=Date.now;function n(s){var a=0,l=0;return function(){var f=t(),p=e-(f-l);if(l=f,p>0){if(++a>=r)return arguments[0]}else a=0;return s.apply(void 0,arguments)}}return Cy=n,Cy}var Py,GE;function s9(){if(GE)return Py;GE=1;var r=n9(),e=i9(),t=e(r);return Py=t,Py}var ky,KE;function _P(){if(KE)return ky;KE=1;var r=ub(),e=t9(),t=s9();function n(s,a){return t(e(s,a,r),s+"")}return ky=n,ky}var Ry,QE;function wP(){if(QE)return Ry;QE=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return Ry=e,Ry}var Ny,YE;function kc(){if(YE)return Ny;YE=1;var r=Od(),e=wP();function t(n){return n!=null&&e(n.length)&&!r(n)}return Ny=t,Ny}var Oy,XE;function bP(){if(XE)return Oy;XE=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,s){var a=typeof n;return s=s??r,!!s&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return Oy=t,Oy}var jy,JE;function o9(){if(JE)return jy;JE=1;var r=Np(),e=kc(),t=bP(),n=Ro();function s(a,l,f){if(!n(f))return!1;var p=typeof l;return(p=="number"?e(f)&&t(l,f.length):p=="string"&&l in f)?r(f[l],a):!1}return jy=s,jy}var Dy,ZE;function xP(){if(ZE)return Dy;ZE=1;var r=_P(),e=o9();function t(n){return r(function(s,a){var l=-1,f=a.length,p=f>1?a[f-1]:void 0,_=f>2?a[2]:void 0;for(p=n.length>3&&typeof p=="function"?(f--,p):void 0,_&&e(a[0],a[1],_)&&(p=f<3?void 0:p,f=1),s=Object(s);++l<f;){var b=a[l];b&&n(s,b,l,p)}return s})}return Dy=t,Dy}var Ly,eT;function Op(){if(eT)return Ly;eT=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,s=typeof n=="function"&&n.prototype||r;return t===s}return Ly=e,Ly}var My,tT;function a9(){if(tT)return My;tT=1;function r(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}return My=r,My}var Fy,rT;function Ls(){if(rT)return Fy;rT=1;function r(e){return e!=null&&typeof e=="object"}return Fy=r,Fy}var Vy,nT;function l9(){if(nT)return Vy;nT=1;var r=lu(),e=Ls(),t="[object Arguments]";function n(s){return e(s)&&r(s)==t}return Vy=n,Vy}var Uy,iT;function cb(){if(iT)return Uy;iT=1;var r=l9(),e=Ls(),t=Object.prototype,n=t.hasOwnProperty,s=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(l){return e(l)&&n.call(l,"callee")&&!s.call(l,"callee")};return Uy=a,Uy}var By,sT;function el(){if(sT)return By;sT=1;var r=Array.isArray;return By=r,By}var Ff={exports:{}},zy,oT;function u9(){if(oT)return zy;oT=1;function r(){return!1}return zy=r,zy}Ff.exports;var aT;function fb(){return aT||(aT=1,function(r,e){var t=Ds(),n=u9(),s=e&&!e.nodeType&&e,a=s&&!0&&r&&!r.nodeType&&r,l=a&&a.exports===s,f=l?t.Buffer:void 0,p=f?f.isBuffer:void 0,_=p||n;r.exports=_}(Ff,Ff.exports)),Ff.exports}var qy,lT;function c9(){if(lT)return qy;lT=1;var r=lu(),e=wP(),t=Ls(),n="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",f="[object Error]",p="[object Function]",_="[object Map]",b="[object Number]",T="[object Object]",A="[object RegExp]",O="[object Set]",j="[object String]",F="[object WeakMap]",D="[object ArrayBuffer]",J="[object DataView]",B="[object Float32Array]",k="[object Float64Array]",Q="[object Int8Array]",Y="[object Int16Array]",ce="[object Int32Array]",M="[object Uint8Array]",R="[object Uint8ClampedArray]",V="[object Uint16Array]",$="[object Uint32Array]",q={};q[B]=q[k]=q[Q]=q[Y]=q[ce]=q[M]=q[R]=q[V]=q[$]=!0,q[n]=q[s]=q[D]=q[a]=q[J]=q[l]=q[f]=q[p]=q[_]=q[b]=q[T]=q[A]=q[O]=q[j]=q[F]=!1;function H(U){return t(U)&&e(U.length)&&!!q[r(U)]}return qy=H,qy}var $y,uT;function jp(){if(uT)return $y;uT=1;function r(e){return function(t){return e(t)}}return $y=r,$y}var Vf={exports:{}};Vf.exports;var cT;function db(){return cT||(cT=1,function(r,e){var t=gP(),n=e&&!e.nodeType&&e,s=n&&!0&&r&&!r.nodeType&&r,a=s&&s.exports===n,l=a&&t.process,f=function(){try{var p=s&&s.require&&s.require("util").types;return p||l&&l.binding&&l.binding("util")}catch{}}();r.exports=f}(Vf,Vf.exports)),Vf.exports}var Hy,fT;function EP(){if(fT)return Hy;fT=1;var r=c9(),e=jp(),t=db(),n=t&&t.isTypedArray,s=n?e(n):r;return Hy=s,Hy}var Wy,dT;function TP(){if(dT)return Wy;dT=1;var r=a9(),e=cb(),t=el(),n=fb(),s=bP(),a=EP(),l=Object.prototype,f=l.hasOwnProperty;function p(_,b){var T=t(_),A=!T&&e(_),O=!T&&!A&&n(_),j=!T&&!A&&!O&&a(_),F=T||A||O||j,D=F?r(_.length,String):[],J=D.length;for(var B in _)(b||f.call(_,B))&&!(F&&(B=="length"||O&&(B=="offset"||B=="parent")||j&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||s(B,J)))&&D.push(B);return D}return Wy=p,Wy}var Gy,hT;function SP(){if(hT)return Gy;hT=1;function r(e,t){return function(n){return e(t(n))}}return Gy=r,Gy}var Ky,mT;function f9(){if(mT)return Ky;mT=1;var r=SP(),e=r(Object.keys,Object);return Ky=e,Ky}var Qy,pT;function d9(){if(pT)return Qy;pT=1;var r=Op(),e=f9(),t=Object.prototype,n=t.hasOwnProperty;function s(a){if(!r(a))return e(a);var l=[];for(var f in Object(a))n.call(a,f)&&f!="constructor"&&l.push(f);return l}return Qy=s,Qy}var Yy,gT;function Rc(){if(gT)return Yy;gT=1;var r=TP(),e=d9(),t=kc();function n(s){return t(s)?r(s):e(s)}return Yy=n,Yy}var Xy,yT;function h9(){if(yT)return Xy;yT=1;var r=lb(),e=Pc(),t=xP(),n=kc(),s=Op(),a=Rc(),l=Object.prototype,f=l.hasOwnProperty,p=t(function(_,b){if(s(b)||n(b)){e(b,a(b),_);return}for(var T in b)f.call(b,T)&&r(_,T,b[T])});return Xy=p,Xy}var Jy,vT;function m9(){if(vT)return Jy;vT=1;function r(){this.__data__=[],this.size=0}return Jy=r,Jy}var Zy,_T;function Dp(){if(_T)return Zy;_T=1;var r=Np();function e(t,n){for(var s=t.length;s--;)if(r(t[s][0],n))return s;return-1}return Zy=e,Zy}var ev,wT;function p9(){if(wT)return ev;wT=1;var r=Dp(),e=Array.prototype,t=e.splice;function n(s){var a=this.__data__,l=r(a,s);if(l<0)return!1;var f=a.length-1;return l==f?a.pop():t.call(a,l,1),--this.size,!0}return ev=n,ev}var tv,bT;function g9(){if(bT)return tv;bT=1;var r=Dp();function e(t){var n=this.__data__,s=r(n,t);return s<0?void 0:n[s][1]}return tv=e,tv}var rv,xT;function y9(){if(xT)return rv;xT=1;var r=Dp();function e(t){return r(this.__data__,t)>-1}return rv=e,rv}var nv,ET;function v9(){if(ET)return nv;ET=1;var r=Dp();function e(t,n){var s=this.__data__,a=r(s,t);return a<0?(++this.size,s.push([t,n])):s[a][1]=n,this}return nv=e,nv}var iv,TT;function Lp(){if(TT)return iv;TT=1;var r=m9(),e=p9(),t=g9(),n=y9(),s=v9();function a(l){var f=-1,p=l==null?0:l.length;for(this.clear();++f<p;){var _=l[f];this.set(_[0],_[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=s,iv=a,iv}var sv,ST;function _9(){if(ST)return sv;ST=1;var r=Lp();function e(){this.__data__=new r,this.size=0}return sv=e,sv}var ov,IT;function w9(){if(IT)return ov;IT=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return ov=r,ov}var av,AT;function b9(){if(AT)return av;AT=1;function r(e){return this.__data__.get(e)}return av=r,av}var lv,CT;function x9(){if(CT)return lv;CT=1;function r(e){return this.__data__.has(e)}return lv=r,lv}var uv,PT;function hb(){if(PT)return uv;PT=1;var r=uu(),e=Ds(),t=r(e,"Map");return uv=t,uv}var cv,kT;function Mp(){if(kT)return cv;kT=1;var r=uu(),e=r(Object,"create");return cv=e,cv}var fv,RT;function E9(){if(RT)return fv;RT=1;var r=Mp();function e(){this.__data__=r?r(null):{},this.size=0}return fv=e,fv}var dv,NT;function T9(){if(NT)return dv;NT=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return dv=r,dv}var hv,OT;function S9(){if(OT)return hv;OT=1;var r=Mp(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function s(a){var l=this.__data__;if(r){var f=l[a];return f===e?void 0:f}return n.call(l,a)?l[a]:void 0}return hv=s,hv}var mv,jT;function I9(){if(jT)return mv;jT=1;var r=Mp(),e=Object.prototype,t=e.hasOwnProperty;function n(s){var a=this.__data__;return r?a[s]!==void 0:t.call(a,s)}return mv=n,mv}var pv,DT;function A9(){if(DT)return pv;DT=1;var r=Mp(),e="__lodash_hash_undefined__";function t(n,s){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&s===void 0?e:s,this}return pv=t,pv}var gv,LT;function C9(){if(LT)return gv;LT=1;var r=E9(),e=T9(),t=S9(),n=I9(),s=A9();function a(l){var f=-1,p=l==null?0:l.length;for(this.clear();++f<p;){var _=l[f];this.set(_[0],_[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=s,gv=a,gv}var yv,MT;function P9(){if(MT)return yv;MT=1;var r=C9(),e=Lp(),t=hb();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return yv=n,yv}var vv,FT;function k9(){if(FT)return vv;FT=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return vv=r,vv}var _v,VT;function Fp(){if(VT)return _v;VT=1;var r=k9();function e(t,n){var s=t.__data__;return r(n)?s[typeof n=="string"?"string":"hash"]:s.map}return _v=e,_v}var wv,UT;function R9(){if(UT)return wv;UT=1;var r=Fp();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return wv=e,wv}var bv,BT;function N9(){if(BT)return bv;BT=1;var r=Fp();function e(t){return r(this,t).get(t)}return bv=e,bv}var xv,zT;function O9(){if(zT)return xv;zT=1;var r=Fp();function e(t){return r(this,t).has(t)}return xv=e,xv}var Ev,qT;function j9(){if(qT)return Ev;qT=1;var r=Fp();function e(t,n){var s=r(this,t),a=s.size;return s.set(t,n),this.size+=s.size==a?0:1,this}return Ev=e,Ev}var Tv,$T;function IP(){if($T)return Tv;$T=1;var r=P9(),e=R9(),t=N9(),n=O9(),s=j9();function a(l){var f=-1,p=l==null?0:l.length;for(this.clear();++f<p;){var _=l[f];this.set(_[0],_[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=s,Tv=a,Tv}var Sv,HT;function D9(){if(HT)return Sv;HT=1;var r=Lp(),e=hb(),t=IP(),n=200;function s(a,l){var f=this.__data__;if(f instanceof r){var p=f.__data__;if(!e||p.length<n-1)return p.push([a,l]),this.size=++f.size,this;f=this.__data__=new t(p)}return f.set(a,l),this.size=f.size,this}return Sv=s,Sv}var Iv,WT;function AP(){if(WT)return Iv;WT=1;var r=Lp(),e=_9(),t=w9(),n=b9(),s=x9(),a=D9();function l(f){var p=this.__data__=new r(f);this.size=p.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=n,l.prototype.has=s,l.prototype.set=a,Iv=l,Iv}var Av,GT;function L9(){if(GT)return Av;GT=1;function r(e,t){for(var n=-1,s=e==null?0:e.length;++n<s&&t(e[n],n,e)!==!1;);return e}return Av=r,Av}var Cv,KT;function M9(){if(KT)return Cv;KT=1;var r=Pc(),e=Rc();function t(n,s){return n&&r(s,e(s),n)}return Cv=t,Cv}var Pv,QT;function F9(){if(QT)return Pv;QT=1;function r(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}return Pv=r,Pv}var kv,YT;function V9(){if(YT)return kv;YT=1;var r=Ro(),e=Op(),t=F9(),n=Object.prototype,s=n.hasOwnProperty;function a(l){if(!r(l))return t(l);var f=e(l),p=[];for(var _ in l)_=="constructor"&&(f||!s.call(l,_))||p.push(_);return p}return kv=a,kv}var Rv,XT;function jd(){if(XT)return Rv;XT=1;var r=TP(),e=V9(),t=kc();function n(s){return t(s)?r(s,!0):e(s)}return Rv=n,Rv}var Nv,JT;function U9(){if(JT)return Nv;JT=1;var r=Pc(),e=jd();function t(n,s){return n&&r(s,e(s),n)}return Nv=t,Nv}var Uf={exports:{}};Uf.exports;var ZT;function CP(){return ZT||(ZT=1,function(r,e){var t=Ds(),n=e&&!e.nodeType&&e,s=n&&!0&&r&&!r.nodeType&&r,a=s&&s.exports===n,l=a?t.Buffer:void 0,f=l?l.allocUnsafe:void 0;function p(_,b){if(b)return _.slice();var T=_.length,A=f?f(T):new _.constructor(T);return _.copy(A),A}r.exports=p}(Uf,Uf.exports)),Uf.exports}var Ov,e2;function PP(){if(e2)return Ov;e2=1;function r(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}return Ov=r,Ov}var jv,t2;function kP(){if(t2)return jv;t2=1;function r(e,t){for(var n=-1,s=e==null?0:e.length,a=0,l=[];++n<s;){var f=e[n];t(f,n,e)&&(l[a++]=f)}return l}return jv=r,jv}var Dv,r2;function RP(){if(r2)return Dv;r2=1;function r(){return[]}return Dv=r,Dv}var Lv,n2;function mb(){if(n2)return Lv;n2=1;var r=kP(),e=RP(),t=Object.prototype,n=t.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(l){return l==null?[]:(l=Object(l),r(s(l),function(f){return n.call(l,f)}))}:e;return Lv=a,Lv}var Mv,i2;function B9(){if(i2)return Mv;i2=1;var r=Pc(),e=mb();function t(n,s){return r(n,e(n),s)}return Mv=t,Mv}var Fv,s2;function pb(){if(s2)return Fv;s2=1;function r(e,t){for(var n=-1,s=t.length,a=e.length;++n<s;)e[a+n]=t[n];return e}return Fv=r,Fv}var Vv,o2;function gb(){if(o2)return Vv;o2=1;var r=SP(),e=r(Object.getPrototypeOf,Object);return Vv=e,Vv}var Uv,a2;function NP(){if(a2)return Uv;a2=1;var r=pb(),e=gb(),t=mb(),n=RP(),s=Object.getOwnPropertySymbols,a=s?function(l){for(var f=[];l;)r(f,t(l)),l=e(l);return f}:n;return Uv=a,Uv}var Bv,l2;function z9(){if(l2)return Bv;l2=1;var r=Pc(),e=NP();function t(n,s){return r(n,e(n),s)}return Bv=t,Bv}var zv,u2;function OP(){if(u2)return zv;u2=1;var r=pb(),e=el();function t(n,s,a){var l=s(n);return e(n)?l:r(l,a(n))}return zv=t,zv}var qv,c2;function q9(){if(c2)return qv;c2=1;var r=OP(),e=mb(),t=Rc();function n(s){return r(s,t,e)}return qv=n,qv}var $v,f2;function $9(){if(f2)return $v;f2=1;var r=OP(),e=NP(),t=jd();function n(s){return r(s,t,e)}return $v=n,$v}var Hv,d2;function H9(){if(d2)return Hv;d2=1;var r=uu(),e=Ds(),t=r(e,"DataView");return Hv=t,Hv}var Wv,h2;function W9(){if(h2)return Wv;h2=1;var r=uu(),e=Ds(),t=r(e,"Promise");return Wv=t,Wv}var Gv,m2;function G9(){if(m2)return Gv;m2=1;var r=uu(),e=Ds(),t=r(e,"Set");return Gv=t,Gv}var Kv,p2;function K9(){if(p2)return Kv;p2=1;var r=uu(),e=Ds(),t=r(e,"WeakMap");return Kv=t,Kv}var Qv,g2;function yb(){if(g2)return Qv;g2=1;var r=H9(),e=hb(),t=W9(),n=G9(),s=K9(),a=lu(),l=yP(),f="[object Map]",p="[object Object]",_="[object Promise]",b="[object Set]",T="[object WeakMap]",A="[object DataView]",O=l(r),j=l(e),F=l(t),D=l(n),J=l(s),B=a;return(r&&B(new r(new ArrayBuffer(1)))!=A||e&&B(new e)!=f||t&&B(t.resolve())!=_||n&&B(new n)!=b||s&&B(new s)!=T)&&(B=function(k){var Q=a(k),Y=Q==p?k.constructor:void 0,ce=Y?l(Y):"";if(ce)switch(ce){case O:return A;case j:return f;case F:return _;case D:return b;case J:return T}return Q}),Qv=B,Qv}var Yv,y2;function Q9(){if(y2)return Yv;y2=1;var r=Object.prototype,e=r.hasOwnProperty;function t(n){var s=n.length,a=new n.constructor(s);return s&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return Yv=t,Yv}var Xv,v2;function Y9(){if(v2)return Xv;v2=1;var r=Ds(),e=r.Uint8Array;return Xv=e,Xv}var Jv,_2;function vb(){if(_2)return Jv;_2=1;var r=Y9();function e(t){var n=new t.constructor(t.byteLength);return new r(n).set(new r(t)),n}return Jv=e,Jv}var Zv,w2;function X9(){if(w2)return Zv;w2=1;var r=vb();function e(t,n){var s=n?r(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}return Zv=e,Zv}var e0,b2;function J9(){if(b2)return e0;b2=1;var r=/\w*$/;function e(t){var n=new t.constructor(t.source,r.exec(t));return n.lastIndex=t.lastIndex,n}return e0=e,e0}var t0,x2;function Z9(){if(x2)return t0;x2=1;var r=Nd(),e=r?r.prototype:void 0,t=e?e.valueOf:void 0;function n(s){return t?Object(t.call(s)):{}}return t0=n,t0}var r0,E2;function jP(){if(E2)return r0;E2=1;var r=vb();function e(t,n){var s=n?r(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}return r0=e,r0}var n0,T2;function e8(){if(T2)return n0;T2=1;var r=vb(),e=X9(),t=J9(),n=Z9(),s=jP(),a="[object Boolean]",l="[object Date]",f="[object Map]",p="[object Number]",_="[object RegExp]",b="[object Set]",T="[object String]",A="[object Symbol]",O="[object ArrayBuffer]",j="[object DataView]",F="[object Float32Array]",D="[object Float64Array]",J="[object Int8Array]",B="[object Int16Array]",k="[object Int32Array]",Q="[object Uint8Array]",Y="[object Uint8ClampedArray]",ce="[object Uint16Array]",M="[object Uint32Array]";function R(V,$,q){var H=V.constructor;switch($){case O:return r(V);case a:case l:return new H(+V);case j:return e(V,q);case F:case D:case J:case B:case k:case Q:case Y:case ce:case M:return s(V,q);case f:return new H;case p:case T:return new H(V);case _:return t(V);case b:return new H;case A:return n(V)}}return n0=R,n0}var i0,S2;function t8(){if(S2)return i0;S2=1;var r=Ro(),e=Object.create,t=function(){function n(){}return function(s){if(!r(s))return{};if(e)return e(s);n.prototype=s;var a=new n;return n.prototype=void 0,a}}();return i0=t,i0}var s0,I2;function DP(){if(I2)return s0;I2=1;var r=t8(),e=gb(),t=Op();function n(s){return typeof s.constructor=="function"&&!t(s)?r(e(s)):{}}return s0=n,s0}var o0,A2;function r8(){if(A2)return o0;A2=1;var r=yb(),e=Ls(),t="[object Map]";function n(s){return e(s)&&r(s)==t}return o0=n,o0}var a0,C2;function n8(){if(C2)return a0;C2=1;var r=r8(),e=jp(),t=db(),n=t&&t.isMap,s=n?e(n):r;return a0=s,a0}var l0,P2;function i8(){if(P2)return l0;P2=1;var r=yb(),e=Ls(),t="[object Set]";function n(s){return e(s)&&r(s)==t}return l0=n,l0}var u0,k2;function s8(){if(k2)return u0;k2=1;var r=i8(),e=jp(),t=db(),n=t&&t.isSet,s=n?e(n):r;return u0=s,u0}var c0,R2;function o8(){if(R2)return c0;R2=1;var r=AP(),e=L9(),t=lb(),n=M9(),s=U9(),a=CP(),l=PP(),f=B9(),p=z9(),_=q9(),b=$9(),T=yb(),A=Q9(),O=e8(),j=DP(),F=el(),D=fb(),J=n8(),B=Ro(),k=s8(),Q=Rc(),Y=jd(),ce=1,M=2,R=4,V="[object Arguments]",$="[object Array]",q="[object Boolean]",H="[object Date]",U="[object Error]",Ue="[object Function]",st="[object GeneratorFunction]",ot="[object Map]",We="[object Number]",_e="[object Object]",Ce="[object RegExp]",Se="[object Set]",ee="[object String]",ue="[object Symbol]",ke="[object WeakMap]",Ye="[object ArrayBuffer]",Ke="[object DataView]",rt="[object Float32Array]",Be="[object Float64Array]",at="[object Int8Array]",nt="[object Int16Array]",Lt="[object Int32Array]",Ht="[object Uint8Array]",jn="[object Uint8ClampedArray]",Zr="[object Uint16Array]",fn="[object Uint32Array]",lt={};lt[V]=lt[$]=lt[Ye]=lt[Ke]=lt[q]=lt[H]=lt[rt]=lt[Be]=lt[at]=lt[nt]=lt[Lt]=lt[ot]=lt[We]=lt[_e]=lt[Ce]=lt[Se]=lt[ee]=lt[ue]=lt[Ht]=lt[jn]=lt[Zr]=lt[fn]=!0,lt[U]=lt[Ue]=lt[ke]=!1;function dn(tt,hn,Ut,W,Z,le){var me,be=hn&ce,de=hn&M,Te=hn&R;if(Ut&&(me=Z?Ut(tt,W,Z,le):Ut(tt)),me!==void 0)return me;if(!B(tt))return tt;var Le=F(tt);if(Le){if(me=A(tt),!be)return l(tt,me)}else{var Xe=T(tt),jt=Xe==Ue||Xe==st;if(D(tt))return a(tt,be);if(Xe==_e||Xe==V||jt&&!Z){if(me=de||jt?{}:j(tt),!be)return de?p(tt,s(me,tt)):f(tt,n(me,tt))}else{if(!lt[Xe])return Z?tt:{};me=O(tt,Xe,be)}}le||(le=new r);var yr=le.get(tt);if(yr)return yr;le.set(tt,me),k(tt)?tt.forEach(function(Xt){me.add(dn(Xt,hn,Ut,Xt,tt,le))}):J(tt)&&tt.forEach(function(Xt,Wt){me.set(Wt,dn(Xt,hn,Ut,Wt,tt,le))});var et=Te?de?b:_:de?Y:Q,mn=Le?void 0:et(tt);return e(mn||tt,function(Xt,Wt){mn&&(Wt=Xt,Xt=tt[Wt]),t(me,Wt,dn(Xt,hn,Ut,Wt,tt,le))}),me}return c0=dn,c0}var f0,N2;function a8(){if(N2)return f0;N2=1;var r=o8(),e=1,t=4;function n(s){return r(s,e|t)}return f0=n,f0}var d0,O2;function l8(){if(O2)return d0;O2=1;function r(e){for(var t=-1,n=e==null?0:e.length,s=0,a=[];++t<n;){var l=e[t];l&&(a[s++]=l)}return a}return d0=r,d0}var h0,j2;function u8(){if(j2)return h0;j2=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return h0=e,h0}var m0,D2;function c8(){if(D2)return m0;D2=1;function r(e){return this.__data__.has(e)}return m0=r,m0}var p0,L2;function f8(){if(L2)return p0;L2=1;var r=IP(),e=u8(),t=c8();function n(s){var a=-1,l=s==null?0:s.length;for(this.__data__=new r;++a<l;)this.add(s[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,p0=n,p0}var g0,M2;function d8(){if(M2)return g0;M2=1;function r(e,t,n,s){for(var a=e.length,l=n+(s?1:-1);s?l--:++l<a;)if(t(e[l],l,e))return l;return-1}return g0=r,g0}var y0,F2;function h8(){if(F2)return y0;F2=1;function r(e){return e!==e}return y0=r,y0}var v0,V2;function m8(){if(V2)return v0;V2=1;function r(e,t,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}return v0=r,v0}var _0,U2;function Vp(){if(U2)return _0;U2=1;var r=d8(),e=h8(),t=m8();function n(s,a,l){return a===a?t(s,a,l):r(s,e,l)}return _0=n,_0}var w0,B2;function p8(){if(B2)return w0;B2=1;var r=Vp();function e(t,n){var s=t==null?0:t.length;return!!s&&r(t,n,0)>-1}return w0=e,w0}var b0,z2;function g8(){if(z2)return b0;z2=1;function r(e,t,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(t,e[s]))return!0;return!1}return b0=r,b0}var x0,q2;function _b(){if(q2)return x0;q2=1;function r(e,t){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=t(e[n],n,e);return a}return x0=r,x0}var E0,$2;function y8(){if($2)return E0;$2=1;function r(e,t){return e.has(t)}return E0=r,E0}var T0,H2;function v8(){if(H2)return T0;H2=1;var r=f8(),e=p8(),t=g8(),n=_b(),s=jp(),a=y8(),l=200;function f(p,_,b,T){var A=-1,O=e,j=!0,F=p.length,D=[],J=_.length;if(!F)return D;b&&(_=n(_,s(b))),T?(O=t,j=!1):_.length>=l&&(O=a,j=!1,_=new r(_));e:for(;++A<F;){var B=p[A],k=b==null?B:b(B);if(B=T||B!==0?B:0,j&&k===k){for(var Q=J;Q--;)if(_[Q]===k)continue e;D.push(B)}else O(_,k,T)||D.push(B)}return D}return T0=f,T0}var S0,W2;function _8(){if(W2)return S0;W2=1;var r=Nd(),e=cb(),t=el(),n=r?r.isConcatSpreadable:void 0;function s(a){return t(a)||e(a)||!!(n&&a&&a[n])}return S0=s,S0}var I0,G2;function w8(){if(G2)return I0;G2=1;var r=pb(),e=_8();function t(n,s,a,l,f){var p=-1,_=n.length;for(a||(a=e),f||(f=[]);++p<_;){var b=n[p];s>0&&a(b)?s>1?t(b,s-1,a,l,f):r(f,b):l||(f[f.length]=b)}return f}return I0=t,I0}var A0,K2;function LP(){if(K2)return A0;K2=1;var r=kc(),e=Ls();function t(n){return e(n)&&r(n)}return A0=t,A0}var C0,Q2;function b8(){if(Q2)return C0;Q2=1;var r=v8(),e=w8(),t=_P(),n=LP(),s=t(function(a,l){return n(a)?r(a,e(l,1,n,!0)):[]});return C0=s,C0}var P0,Y2;function x8(){if(Y2)return P0;Y2=1;var r=kP(),e=Od();function t(n,s){return r(s,function(a){return e(n[a])})}return P0=t,P0}var k0,X2;function E8(){if(X2)return k0;X2=1;var r=x8(),e=Rc();function t(n){return n==null?[]:r(n,e(n))}return k0=t,k0}var R0,J2;function MP(){if(J2)return R0;J2=1;var r=lu(),e=el(),t=Ls(),n="[object String]";function s(a){return typeof a=="string"||!e(a)&&t(a)&&r(a)==n}return R0=s,R0}var N0,Z2;function T8(){if(Z2)return N0;Z2=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return N0=e,N0}var O0,eS;function FP(){if(eS)return O0;eS=1;var r=T8(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return O0=t,O0}var j0,tS;function VP(){if(tS)return j0;tS=1;var r=lu(),e=Ls(),t="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&r(s)==t}return j0=n,j0}var D0,rS;function S8(){if(rS)return D0;rS=1;var r=FP(),e=Ro(),t=VP(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;function p(_){if(typeof _=="number")return _;if(t(_))return n;if(e(_)){var b=typeof _.valueOf=="function"?_.valueOf():_;_=e(b)?b+"":b}if(typeof _!="string")return _===0?_:+_;_=r(_);var T=a.test(_);return T||l.test(_)?f(_.slice(2),T?2:8):s.test(_)?n:+_}return D0=p,D0}var L0,nS;function I8(){if(nS)return L0;nS=1;var r=S8(),e=1/0,t=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=r(s),s===e||s===-1/0){var a=s<0?-1:1;return a*t}return s===s?s:0}return L0=n,L0}var M0,iS;function A8(){if(iS)return M0;iS=1;var r=I8();function e(t){var n=r(t),s=n%1;return n===n?s?n-s:n:0}return M0=e,M0}var F0,sS;function C8(){if(sS)return F0;sS=1;var r=_b();function e(t,n){return r(n,function(s){return t[s]})}return F0=e,F0}var V0,oS;function P8(){if(oS)return V0;oS=1;var r=C8(),e=Rc();function t(n){return n==null?[]:r(n,e(n))}return V0=t,V0}var U0,aS;function k8(){if(aS)return U0;aS=1;var r=Vp(),e=kc(),t=MP(),n=A8(),s=P8(),a=Math.max;function l(f,p,_,b){f=e(f)?f:s(f),_=_&&!b?n(_):0;var T=f.length;return _<0&&(_=a(T+_,0)),t(f)?_<=T&&f.indexOf(p,_)>-1:!!T&&r(f,p,_)>-1}return U0=l,U0}var B0,lS;function wb(){if(lS)return B0;lS=1;var r=lu(),e=gb(),t=Ls(),n="[object Object]",s=Function.prototype,a=Object.prototype,l=s.toString,f=a.hasOwnProperty,p=l.call(Object);function _(b){if(!t(b)||r(b)!=n)return!1;var T=e(b);if(T===null)return!0;var A=f.call(T,"constructor")&&T.constructor;return typeof A=="function"&&A instanceof A&&l.call(A)==p}return B0=_,B0}var z0,uS;function R8(){if(uS)return z0;uS=1;var r=Ls(),e=wb();function t(n){return r(n)&&n.nodeType===1&&!e(n)}return z0=t,z0}var q0,cS;function UP(){if(cS)return q0;cS=1;var r=ab(),e=Np();function t(n,s,a){(a!==void 0&&!e(n[s],a)||a===void 0&&!(s in n))&&r(n,s,a)}return q0=t,q0}var $0,fS;function N8(){if(fS)return $0;fS=1;function r(e){return function(t,n,s){for(var a=-1,l=Object(t),f=s(t),p=f.length;p--;){var _=f[e?p:++a];if(n(l[_],_,l)===!1)break}return t}}return $0=r,$0}var H0,dS;function O8(){if(dS)return H0;dS=1;var r=N8(),e=r();return H0=e,H0}var W0,hS;function BP(){if(hS)return W0;hS=1;function r(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}return W0=r,W0}var G0,mS;function j8(){if(mS)return G0;mS=1;var r=Pc(),e=jd();function t(n){return r(n,e(n))}return G0=t,G0}var K0,pS;function D8(){if(pS)return K0;pS=1;var r=UP(),e=CP(),t=jP(),n=PP(),s=DP(),a=cb(),l=el(),f=LP(),p=fb(),_=Od(),b=Ro(),T=wb(),A=EP(),O=BP(),j=j8();function F(D,J,B,k,Q,Y,ce){var M=O(D,B),R=O(J,B),V=ce.get(R);if(V){r(D,B,V);return}var $=Y?Y(M,R,B+"",D,J,ce):void 0,q=$===void 0;if(q){var H=l(R),U=!H&&p(R),Ue=!H&&!U&&A(R);$=R,H||U||Ue?l(M)?$=M:f(M)?$=n(M):U?(q=!1,$=e(R,!0)):Ue?(q=!1,$=t(R,!0)):$=[]:T(R)||a(R)?($=M,a(M)?$=j(M):(!b(M)||_(M))&&($=s(R))):q=!1}q&&(ce.set(R,$),Q($,R,k,Y,ce),ce.delete(R)),r(D,B,$)}return K0=F,K0}var Q0,gS;function L8(){if(gS)return Q0;gS=1;var r=AP(),e=UP(),t=O8(),n=D8(),s=Ro(),a=jd(),l=BP();function f(p,_,b,T,A){p!==_&&t(_,function(O,j){if(A||(A=new r),s(O))n(p,_,j,b,f,T,A);else{var F=T?T(l(p,j),O,j+"",p,_,A):void 0;F===void 0&&(F=O),e(p,j,F)}},a)}return Q0=f,Q0}var Y0,yS;function M8(){if(yS)return Y0;yS=1;var r=L8(),e=xP(),t=e(function(n,s,a){r(n,s,a)});return Y0=t,Y0}var X0,vS;function zP(){if(vS)return X0;vS=1;var r=Nd(),e=_b(),t=el(),n=VP(),s=r?r.prototype:void 0,a=s?s.toString:void 0;function l(f){if(typeof f=="string")return f;if(t(f))return e(f,l)+"";if(n(f))return a?a.call(f):"";var p=f+"";return p=="0"&&1/f==-1/0?"-0":p}return X0=l,X0}var J0,_S;function F8(){if(_S)return J0;_S=1;function r(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var l=Array(a);++s<a;)l[s]=e[s+t];return l}return J0=r,J0}var Z0,wS;function V8(){if(wS)return Z0;wS=1;var r=F8();function e(t,n,s){var a=t.length;return s=s===void 0?a:s,!n&&s>=a?t:r(t,n,s)}return Z0=e,Z0}var e_,bS;function U8(){if(bS)return e_;bS=1;var r=Vp();function e(t,n){for(var s=t.length;s--&&r(n,t[s],0)>-1;);return s}return e_=e,e_}var t_,xS;function B8(){if(xS)return t_;xS=1;var r=Vp();function e(t,n){for(var s=-1,a=t.length;++s<a&&r(n,t[s],0)>-1;);return s}return t_=e,t_}var r_,ES;function z8(){if(ES)return r_;ES=1;function r(e){return e.split("")}return r_=r,r_}var n_,TS;function q8(){if(TS)return n_;TS=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+t+n,a="\\ufe0e\\ufe0f",l="\\u200d",f=RegExp("["+l+r+s+a+"]");function p(_){return f.test(_)}return n_=p,n_}var i_,SS;function $8(){if(SS)return i_;SS=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+t+n,a="\\ufe0e\\ufe0f",l="["+r+"]",f="["+s+"]",p="\\ud83c[\\udffb-\\udfff]",_="(?:"+f+"|"+p+")",b="[^"+r+"]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",O="\\u200d",j=_+"?",F="["+a+"]?",D="(?:"+O+"(?:"+[b,T,A].join("|")+")"+F+j+")*",J=F+j+D,B="(?:"+[b+f+"?",f,T,A,l].join("|")+")",k=RegExp(p+"(?="+p+")|"+B+J,"g");function Q(Y){return Y.match(k)||[]}return i_=Q,i_}var s_,IS;function H8(){if(IS)return s_;IS=1;var r=z8(),e=q8(),t=$8();function n(s){return e(s)?t(s):r(s)}return s_=n,s_}var o_,AS;function W8(){if(AS)return o_;AS=1;var r=zP();function e(t){return t==null?"":r(t)}return o_=e,o_}var a_,CS;function G8(){if(CS)return a_;CS=1;var r=zP(),e=FP(),t=V8(),n=U8(),s=B8(),a=H8(),l=W8();function f(p,_,b){if(p=l(p),p&&(b||_===void 0))return e(p);if(!p||!(_=r(_)))return p;var T=a(p),A=a(_),O=s(T,A),j=n(T,A)+1;return t(T,O,j).join("")}return a_=f,a_}var K8=Sm.exports,PS;function Q8(){return PS||(PS=1,function(r,e){var t={};(function(s,a){r.exports=a(h9(),a8(),l8(),b8(),E8(),ub(),k8(),el(),R8(),Od(),wb(),MP(),M8(),G8())})(K8,function(n,s,a,l,f,p,_,b,T,A,O,j,F,D){return function(J){var B={};function k(Q){if(B[Q])return B[Q].exports;var Y=B[Q]={i:Q,l:!1,exports:{}};return J[Q].call(Y.exports,Y,Y.exports,k),Y.l=!0,Y.exports}return k.m=J,k.c=B,k.d=function(Q,Y,ce){k.o(Q,Y)||Object.defineProperty(Q,Y,{enumerable:!0,get:ce})},k.r=function(Q){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},k.t=function(Q,Y){if(Y&1&&(Q=k(Q)),Y&8||Y&4&&typeof Q=="object"&&Q&&Q.__esModule)return Q;var ce=Object.create(null);if(k.r(ce),Object.defineProperty(ce,"default",{enumerable:!0,value:Q}),Y&2&&typeof Q!="string")for(var M in Q)k.d(ce,M,(function(R){return Q[R]}).bind(null,M));return ce},k.n=function(Q){var Y=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return k.d(Y,"a",Y),Y},k.o=function(Q,Y){return Object.prototype.hasOwnProperty.call(Q,Y)},k.p="",k(k.s="./src/namespace/cloudinary-core.js")}({"./src/namespace/cloudinary-core.js":function(J,B,k){k.r(B),k.d(B,"ClientHintsMetaTag",function(){return Dt}),k.d(B,"Cloudinary",function(){return yf}),k.d(B,"Condition",function(){return St}),k.d(B,"Configuration",function(){return Ni}),k.d(B,"crc32",function(){return R}),k.d(B,"Expression",function(){return Rt}),k.d(B,"FetchLayer",function(){return _u}),k.d(B,"HtmlTag",function(){return Vi}),k.d(B,"ImageTag",function(){return eo}),k.d(B,"Layer",function(){return li}),k.d(B,"PictureTag",function(){return Sl}),k.d(B,"SubtitlesLayer",function(){return Ur}),k.d(B,"TextLayer",function(){return d}),k.d(B,"Transformation",function(){return Br}),k.d(B,"utf8_encode",function(){return ce}),k.d(B,"Util",function(){return Y}),k.d(B,"VideoTag",function(){return Sn});var Q={};k.r(Q),k.d(Q,"VERSION",function(){return Yn}),k.d(Q,"CF_SHARED_CDN",function(){return No}),k.d(Q,"OLD_AKAMAI_SHARED_CDN",function(){return Fs}),k.d(Q,"AKAMAI_SHARED_CDN",function(){return en}),k.d(Q,"SHARED_CDN",function(){return Dn}),k.d(Q,"DEFAULT_TIMEOUT_MS",function(){return Vs}),k.d(Q,"DEFAULT_POSTER_OPTIONS",function(){return pn}),k.d(Q,"DEFAULT_VIDEO_SOURCE_TYPES",function(){return Oo}),k.d(Q,"SEO_TYPES",function(){return Ii}),k.d(Q,"DEFAULT_IMAGE_PARAMS",function(){return Us}),k.d(Q,"DEFAULT_VIDEO_PARAMS",function(){return Xn}),k.d(Q,"DEFAULT_VIDEO_SOURCES",function(){return rl}),k.d(Q,"DEFAULT_EXTERNAL_LIBRARIES",function(){return Bt}),k.d(Q,"PLACEHOLDER_IMAGE_MODES",function(){return is}),k.d(Q,"ACCESSIBILITY_MODES",function(){return tn}),k.d(Q,"URL_KEYS",function(){return Ai});var Y={};k.r(Y),k.d(Y,"getSDKAnalyticsSignature",function(){return ke}),k.d(Y,"getAnalyticsOptions",function(){return Ke}),k.d(Y,"assign",function(){return Be.a}),k.d(Y,"cloneDeep",function(){return nt.a}),k.d(Y,"compact",function(){return Ht.a}),k.d(Y,"difference",function(){return Zr.a}),k.d(Y,"functions",function(){return lt.a}),k.d(Y,"identity",function(){return tt.a}),k.d(Y,"includes",function(){return Ut.a}),k.d(Y,"isArray",function(){return Z.a}),k.d(Y,"isPlainObject",function(){return me.a}),k.d(Y,"isString",function(){return de.a}),k.d(Y,"merge",function(){return Le.a}),k.d(Y,"contains",function(){return Ut.a}),k.d(Y,"isIntersectionObserverSupported",function(){return ns}),k.d(Y,"isNativeLazyLoadSupported",function(){return Si}),k.d(Y,"detectIntersection",function(){return Ms}),k.d(Y,"omit",function(){return Bs}),k.d(Y,"allStrings",function(){return gn}),k.d(Y,"without",function(){return nl}),k.d(Y,"isNumberLike",function(){return jo}),k.d(Y,"smartEscape",function(){return Ci}),k.d(Y,"defaults",function(){return yn}),k.d(Y,"objectProto",function(){return vn}),k.d(Y,"objToString",function(){return ss}),k.d(Y,"isObject",function(){return _n}),k.d(Y,"funcTag",function(){return il}),k.d(Y,"reWords",function(){return os}),k.d(Y,"camelCase",function(){return Zn}),k.d(Y,"snakeCase",function(){return Ln}),k.d(Y,"convertKeys",function(){return Lo}),k.d(Y,"withCamelCaseKeys",function(){return cu}),k.d(Y,"withSnakeCaseKeys",function(){return At}),k.d(Y,"base64Encode",function(){return sl}),k.d(Y,"base64EncodeURL",function(){return as}),k.d(Y,"extractUrlParams",function(){return ei}),k.d(Y,"patchFetchFormat",function(){return rn}),k.d(Y,"optionConsume",function(){return Mo}),k.d(Y,"isEmpty",function(){return ut}),k.d(Y,"isAndroid",function(){return Nr}),k.d(Y,"isEdge",function(){return Fo}),k.d(Y,"isChrome",function(){return vr}),k.d(Y,"isSafari",function(){return Vo}),k.d(Y,"isElement",function(){return jt.a}),k.d(Y,"isFunction",function(){return et.a}),k.d(Y,"trim",function(){return Xt.a}),k.d(Y,"getData",function(){return Mn}),k.d(Y,"setData",function(){return Pi}),k.d(Y,"getAttribute",function(){return Uo}),k.d(Y,"setAttribute",function(){return wn}),k.d(Y,"removeAttribute",function(){return ri}),k.d(Y,"setAttributes",function(){return Oc}),k.d(Y,"hasClass",function(){return ni}),k.d(Y,"addClass",function(){return Or}),k.d(Y,"getStyles",function(){return ki}),k.d(Y,"cssExpand",function(){return ls}),k.d(Y,"domStyle",function(){return Ri}),k.d(Y,"curCSS",function(){return xt}),k.d(Y,"cssValue",function(){return jr}),k.d(Y,"augmentWidthOrHeight",function(){return ct}),k.d(Y,"getWidthOrHeight",function(){return zs}),k.d(Y,"width",function(){return ll});var ce=function(c){var g,y,I,P,G,oe,ie,we;if(c===null||typeof c>"u")return"";for(oe=c+"",we="",G=void 0,I=void 0,ie=0,G=I=0,ie=oe.length,P=0;P<ie;)g=oe.charCodeAt(P),y=null,g<128?I++:g>127&&g<2048?y=String.fromCharCode(g>>6|192,g&63|128):y=String.fromCharCode(g>>12|224,g>>6&63|128,g&63|128),y!==null&&(I>G&&(we+=oe.slice(G,I)),we+=y,G=I=P+1),P++;return I>G&&(we+=oe.slice(G,ie)),we};function M(h){var c,g,y,I,P,G;for(h=ce(h),I="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",c=0,P=0,G=0,c=c^-1,g=0,y=h.length;g<y;)G=(c^h.charCodeAt(g))&255,P="0x"+I.substr(G*9,8),c=c>>>8^P,g++;return c=c^-1,c<0&&(c+=4294967296),c}var R=M;function V(h,c,g){return c=c>>0,g=String(typeof g<"u"?g:" "),h.length>c?String(h):(c=c-h.length,c>g.length&&(g+=$(g,c/g.length)),g.slice(0,c)+String(h))}function $(h,c){for(var g="";c>0;)g+=h,c--;return g}function q(h){return st(h)||Ue(h)||U(h)||H()}function H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(h,c){return ot(h,c)}function Ue(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function st(h){if(Array.isArray(h))return ot(h)}function ot(h,c){(c==null||c>h.length)&&(c=h.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=h[g];return y}var We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_e=0,Ce={};q(We).forEach(function(h){var c=_e.toString(2);c=V(c,6,"0"),Ce[c]=h,_e++});var Se=Ce;function ee(h){if(h.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return h.split(".").reverse().map(function(c){return V(c,2,"0")}).join(".")}function ue(h){var c="",g=h.split(".").length,y=g*6,I=ee(h),P=parseInt(I.split(".").join("")),G=P.toString(2);if(G=V(G,y,"0"),G.length%6!==0)throw"Version must be smaller than 43.21.26)";return G.match(/.{1,6}/g).forEach(function(oe){c+=Se[oe]}),c}function ke(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var c=Ye(h.techVersion),g=ue(h.sdkSemver),y=ue(c),I=h.feature,P=h.sdkCode,G="A";return"".concat(G).concat(P).concat(g).concat(y).concat(I)}catch{return"E"}}function Ye(h){var c=h.split(".");return"".concat(c[0],".").concat(c[1])}function Ke(h){var c={sdkSemver:h.sdkSemver,techVersion:h.techVersion,sdkCode:h.sdkCode,feature:"0"};return h.urlAnalytics?(h.accessibility&&(c.feature="D"),h.loading==="lazy"&&(c.feature="C"),h.responsive&&(c.feature="A"),h.placeholder&&(c.feature="B"),c):{}}var rt=k("lodash/assign"),Be=k.n(rt),at=k("lodash/cloneDeep"),nt=k.n(at),Lt=k("lodash/compact"),Ht=k.n(Lt),jn=k("lodash/difference"),Zr=k.n(jn),fn=k("lodash/functions"),lt=k.n(fn),dn=k("lodash/identity"),tt=k.n(dn),hn=k("lodash/includes"),Ut=k.n(hn),W=k("lodash/isArray"),Z=k.n(W),le=k("lodash/isPlainObject"),me=k.n(le),be=k("lodash/isString"),de=k.n(be),Te=k("lodash/merge"),Le=k.n(Te),Xe=k("lodash/isElement"),jt=k.n(Xe),yr=k("lodash/isFunction"),et=k.n(yr),mn=k("lodash/trim"),Xt=k.n(mn);function Wt(h){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Wt(h)}function ns(){return(typeof window>"u"?"undefined":Wt(window))==="object"&&window.IntersectionObserver}function Si(){return(typeof HTMLImageElement>"u"?"undefined":Wt(HTMLImageElement))==="object"&&HTMLImageElement.prototype.loading}function Ms(h,c){try{if(Si()||!ns()){c();return}var g=new IntersectionObserver(function(y){y.forEach(function(I){I.isIntersecting&&(c(),g.unobserve(I.target))})},{threshold:[0,.01]});g.observe(h)}catch{c()}}var Yn="2.5.0",No="d3jpl91pxevbkh.cloudfront.net",Fs="cloudinary-a.akamaihd.net",en="res.cloudinary.com",Dn=en,Vs=1e4,pn={format:"jpg",resource_type:"video"},Oo=["webm","mp4","ogv"],Ii={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},Us={resource_type:"image",transformation:[],type:"upload"},Xn={fallback_content:"",resource_type:"video",source_transformation:{},source_types:Oo,transformation:[],type:"upload"},rl=[{type:"mp4",codecs:"hev1",transformations:{video_codec:"h265"}},{type:"webm",codecs:"vp9",transformations:{video_codec:"vp9"}},{type:"mp4",transformations:{video_codec:"auto"}},{type:"webm",transformations:{video_codec:"auto"}}],Bt={seeThru:"https://unpkg.com/seethru@4/dist/seeThru.min.js"},is={blur:[{effect:"blur:2000",quality:1,fetch_format:"auto"}],pixelate:[{effect:"pixelate",quality:1,fetch_format:"auto"}],"predominant-color-pixel":[{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:1,height:1,gravity:"north_east"},{fetch_format:"auto",quality:"auto"}],"predominant-color":[{variables:[["$currWidth","w"],["$currHeight","h"]]},{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:10,height:10,gravity:"north_east"},{width:"$currWidth",height:"$currHeight",crop:"fill"},{fetch_format:"auto",quality:"auto"}],vectorize:[{effect:"vectorize:3:0.1",fetch_format:"svg"}]},tn={darkmode:"tint:75:black",brightmode:"tint:50:white",monochrome:"grayscale",colorblind:"assist_colorblind"},Ai=["accessibility","api_secret","auth_token","cdn_subdomain","cloud_name","cname","format","placeholder","private_cdn","resource_type","secure","secure_cdn_subdomain","secure_distribution","shorten","sign_url","signature","ssl_detected","type","url_suffix","use_root_path","version"];function Jn(h){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Jn(h)}function Bs(h,c){h=h||{};var g=Object.keys(h).filter(function(I){return!Ut()(c,I)}),y={};return g.forEach(function(I){return y[I]=h[I]}),y}var gn=function(c){return c.length&&c.every(de.a)},nl=function(c,g){return c.filter(function(y){return y!==g})},jo=function(c){return c!=null&&!isNaN(parseFloat(c))},Ci=function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/([^a-zA-Z0-9_.\-\/:]+)/g;return c.replace(g,function(y){return y.split("").map(function(I){return"%"+I.charCodeAt(0).toString(16).toUpperCase()}).join("")})},yn=function(c){for(var g=arguments.length,y=new Array(g>1?g-1:0),I=1;I<g;I++)y[I-1]=arguments[I];return y.reduce(function(P,G){var oe,ie;for(oe in G)ie=G[oe],P[oe]===void 0&&(P[oe]=ie);return P},c)},vn=Object.prototype,ss=vn.toString,_n=function(c){var g;return g=Jn(c),!!c&&(g==="object"||g==="function")},il="[object Function]",Do=function(c){return _n(c)&&ss.call(c)===il},os=function(){var h,c;return c="[A-Z]",h="[a-z]+",RegExp(c+"+(?="+c+h+")|"+c+"?"+h+"|"+c+"+|[0-9]+","g")}(),Zn=function(c){var g=c.match(os);return g=g.map(function(y){return y.charAt(0).toLocaleUpperCase()+y.slice(1).toLocaleLowerCase()}),g[0]=g[0].toLocaleLowerCase(),g.join("")},Ln=function(c){var g=c.match(os);return g=g.map(function(y){return y.toLocaleLowerCase()}),g.join("_")},Lo=function(c,g){var y,I;y={};for(var P in c)I=c[P],g&&(P=g(P)),ut(P)||(y[P]=I);return y},cu=function(c){return Lo(c,Zn)},At=function(c){return Lo(c,Ln)},sl=typeof btoa<"u"&&Do(btoa)?btoa:typeof Buffer<"u"&&Do(Buffer)?function(h){return h instanceof Buffer||(h=new Buffer.from(String(h),"binary")),h.toString("base64")}:function(h){throw new Error("No base64 encoding function found")},as=function(c){try{c=decodeURI(c)}finally{c=encodeURI(c)}return sl(c)};function ei(h){return Ai.reduce(function(c,g){return h[g]!=null&&(c[g]=h[g]),c},{})}function rn(h){h==null&&(h={}),h.type==="fetch"&&h.fetch_format==null&&(h.fetch_format=Mo(h,"format"))}function Mo(h,c,g){var y=h[c];return delete h[c],y??g}function ut(h){if(h==null)return!0;if(typeof h.length=="number")return h.length===0;if(typeof h.size=="number")return h.size===0;if(Jn(h)=="object"){for(var c in h)if(h.hasOwnProperty(c))return!1;return!0}return!0}function ti(){return navigator&&navigator.userAgent||""}function Nr(){var h=ti();return/Android/i.test(h)}function Fo(){var h=ti();return/Edg/i.test(h)}function vr(){var h=ti();return!Fo()&&(/Chrome/i.test(h)||/CriOS/i.test(h))}function Vo(){var h=ti();return/Safari/i.test(h)&&!vr()&&!Nr()&&!Fo()}var ol,Mn=function(c,g){switch(!1){case c!=null:return;case!et()(c.getAttribute):return c.getAttribute("data-".concat(g));case!et()(c.getAttr):return c.getAttr("data-".concat(g));case!et()(c.data):return c.data(g);case!(et()(typeof jQuery<"u"&&jQuery.fn&&jQuery.fn.data)&&jt()(c)):return jQuery(c).data(g)}},Pi=function(c,g,y){switch(!1){case c!=null:return;case!et()(c.setAttribute):return c.setAttribute("data-".concat(g),y);case!et()(c.setAttr):return c.setAttr("data-".concat(g),y);case!et()(c.data):return c.data(g,y);case!(et()(typeof jQuery<"u"&&jQuery.fn&&jQuery.fn.data)&&jt()(c)):return jQuery(c).data(g,y)}},Uo=function(c,g){switch(!1){case c!=null:return;case!et()(c.getAttribute):return c.getAttribute(g);case!et()(c.attr):return c.attr(g);case!et()(c.getAttr):return c.getAttr(g)}},wn=function(c,g,y){switch(!1){case c!=null:return;case!et()(c.setAttribute):return c.setAttribute(g,y);case!et()(c.attr):return c.attr(g,y);case!et()(c.setAttr):return c.setAttr(g,y)}},ri=function(c,g){switch(!1){case c!=null:return;case!et()(c.removeAttribute):return c.removeAttribute(g);default:return wn(c,void 0)}},Oc=function(c,g){var y,I,P;I=[];for(y in g)P=g[y],P!=null?I.push(wn(c,y,P)):I.push(ri(c,y));return I},ni=function(c,g){if(jt()(c))return c.className.match(new RegExp("\\b".concat(g,"\\b")))},Or=function(c,g){if(!c.className.match(new RegExp("\\b".concat(g,"\\b"))))return c.className=Xt()("".concat(c.className," ").concat(g))},ki=function(c){return c.ownerDocument.defaultView.opener?c.ownerDocument.defaultView.getComputedStyle(c,null):window.getComputedStyle(c,null)},ls=["Top","Right","Bottom","Left"];ol=function(c,g){var y,I;return y=c.nodeType===9?c.documentElement:c,I=g&&g.parentNode,c===I||!!(I&&I.nodeType===1&&y.contains(I))};var Ri=function(c,g){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style))return c.style[g]},xt=function(c,g,y){var I,P,G,oe,ie,we;return oe=/^margin/,we=void 0,P=void 0,I=void 0,G=void 0,ie=c.style,y=y||ki(c),y&&(G=y.getPropertyValue(g)||y[g]),y&&(G===""&&!ol(c.ownerDocument,c)&&(G=Ri(c,g)),al.test(G)&&oe.test(g)&&(we=ie.width,P=ie.minWidth,I=ie.maxWidth,ie.minWidth=ie.maxWidth=ie.width=G,G=y.width,ie.width=we,ie.minWidth=P,ie.maxWidth=I)),G!==void 0?G+"":G},jr=function(c,g,y,I){var P;return P=xt(c,g,I),y?parseFloat(P):P},ct=function(c,g,y,I,P){var G,oe,ie,we,Re;if(y===(I?"border":"content"))return 0;for(we=g==="width"?["Right","Left"]:["Top","Bottom"],Re=0,G=0,oe=we.length;G<oe;G++)ie=we[G],y==="margin"&&(Re+=jr(c,y+ie,!0,P)),I?(y==="content"&&(Re-=jr(c,"padding".concat(ie),!0,P)),y!=="margin"&&(Re-=jr(c,"border".concat(ie,"Width"),!0,P))):(Re+=jr(c,"padding".concat(ie),!0,P),y!=="padding"&&(Re+=jr(c,"border".concat(ie,"Width"),!0,P)));return Re},us=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,al=new RegExp("^("+us+")(?!px)[a-z%]+$","i"),zs=function(c,g,y){var I,P,G,oe;if(oe=!0,G=g==="width"?c.offsetWidth:c.offsetHeight,P=ki(c),I=jr(c,"boxSizing",!1,P)==="border-box",G<=0||G==null){if(G=xt(c,g,P),(G<0||G==null)&&(G=c.style[g]),al.test(G))return G;oe=I&&G===c.style[g],G=parseFloat(G)||0}return G+ct(c,g,y||(I?"border":"content"),oe,P)},ll=function(c){return zs(c,"width","content")};function cs(h){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},cs(h)}function fu(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Bo(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,cr(y.key),y)}}function ii(h,c,g){return c&&Bo(h.prototype,c),g&&Bo(h,g),Object.defineProperty(h,"prototype",{writable:!1}),h}function cr(h){var c=Fn(h,"string");return cs(c)=="symbol"?c:c+""}function Fn(h,c){if(cs(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(cs(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var Dr=function(){function h(c){fu(this,h),this.expressions=[],c!=null&&this.expressions.push(h.normalize(c))}return ii(h,[{key:"serialize",value:function(){return h.normalize(this.expressions.join("_"))}},{key:"toString",value:function(){return this.serialize()}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(g){return this.parent=g,this}},{key:"predicate",value:function(g,y,I){return h.OPERATORS[y]!=null&&(y=h.OPERATORS[y]),this.expressions.push("".concat(g,"_").concat(y,"_").concat(I)),this}},{key:"and",value:function(){return this.expressions.push("and"),this}},{key:"or",value:function(){return this.expressions.push("or"),this}},{key:"then",value:function(){return this.getParent().if(this.toString())}},{key:"height",value:function(g,y){return this.predicate("h",g,y)}},{key:"width",value:function(g,y){return this.predicate("w",g,y)}},{key:"aspectRatio",value:function(g,y){return this.predicate("ar",g,y)}},{key:"pageCount",value:function(g,y){return this.predicate("pc",g,y)}},{key:"faceCount",value:function(g,y){return this.predicate("fc",g,y)}},{key:"value",value:function(g){return this.expressions.push(g),this}}],[{key:"new",value:function(g){return new this(g)}},{key:"normalize",value:function(g){if(g==null)return g;g=String(g);var y="\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^",I="(("+y+")(?=[ _]))",P=new RegExp(I,"g");g=g.replace(P,function(we){return h.OPERATORS[we]});var G="("+Object.keys(h.PREDEFINED_VARS).map(function(we){return":".concat(we,"|").concat(we)}).join("|")+")",oe="(\\$_*[^_ ]+)",ie=new RegExp("".concat(oe,"|").concat(G),"g");return g=g.replace(ie,function(we){return h.PREDEFINED_VARS[we]||we}),g.replace(/[ _]+/g,"_")}},{key:"variable",value:function(g,y){return new this(g).value(y)}},{key:"width",value:function(){return new this("width")}},{key:"height",value:function(){return new this("height")}},{key:"initialWidth",value:function(){return new this("initialWidth")}},{key:"initialHeight",value:function(){return new this("initialHeight")}},{key:"aspectRatio",value:function(){return new this("aspectRatio")}},{key:"initialAspectRatio",value:function(){return new this("initialAspectRatio")}},{key:"pageCount",value:function(){return new this("pageCount")}},{key:"faceCount",value:function(){return new this("faceCount")}},{key:"currentPage",value:function(){return new this("currentPage")}},{key:"tags",value:function(){return new this("tags")}},{key:"pageX",value:function(){return new this("pageX")}},{key:"pageY",value:function(){return new this("pageY")}}])}();Dr.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},Dr.PREDEFINED_VARS={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",duration:"du",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_duration:"idu",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},Dr.BOUNDRY="[ _]+";var Rt=Dr;function fr(h){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},fr(h)}function si(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function jc(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,Lr(y.key),y)}}function du(h,c,g){return c&&jc(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function Lr(h){var c=Dc(h,"string");return fr(c)=="symbol"?c:c+""}function Dc(h,c){if(fr(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(fr(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function hu(h,c,g){return c=Mr(c),oi(h,ul()?Reflect.construct(c,g||[],Mr(h).constructor):c.apply(h,g))}function oi(h,c){if(c&&(fr(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qs(h)}function qs(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function ul(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ul=function(){return!!h})()}function Mr(h){return Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},Mr(h)}function Vn(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Un(h,c)}function Un(h,c){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},Un(h,c)}var fs=function(h){function c(g){return si(this,c),hu(this,c,[g])}return Vn(c,h),du(c,[{key:"height",value:function(y,I){return this.predicate("h",y,I)}},{key:"width",value:function(y,I){return this.predicate("w",y,I)}},{key:"aspectRatio",value:function(y,I){return this.predicate("ar",y,I)}},{key:"pageCount",value:function(y,I){return this.predicate("pc",y,I)}},{key:"faceCount",value:function(y,I){return this.predicate("fc",y,I)}},{key:"duration",value:function(y,I){return this.predicate("du",y,I)}},{key:"initialDuration",value:function(y,I){return this.predicate("idu",y,I)}}])}(Rt),St=fs;function $s(h){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},$s(h)}function cl(h,c){return $o(h)||nn(h,c)||zo(h,c)||Hs()}function Hs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zo(h,c){if(h){if(typeof h=="string")return qo(h,c);var g=Object.prototype.toString.call(h).slice(8,-1);if(g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set")return Array.from(h);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return qo(h,c)}}function qo(h,c){(c==null||c>h.length)&&(c=h.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=h[g];return y}function nn(h,c){var g=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(g!=null){var y,I,P,G,oe=[],ie=!0,we=!1;try{if(P=(g=g.call(h)).next,c!==0)for(;!(ie=(y=P.call(g)).done)&&(oe.push(y.value),oe.length!==c);ie=!0);}catch(Re){we=!0,I=Re}finally{try{if(!ie&&g.return!=null&&(G=g.return(),Object(G)!==G))return}finally{if(we)throw I}}return oe}}function $o(h){if(Array.isArray(h))return h}function Fr(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function fl(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,ai(y.key),y)}}function Ho(h,c,g){return c&&fl(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function ai(h){var c=dl(h,"string");return $s(c)=="symbol"?c:c+""}function dl(h,c){if($s(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if($s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var tr=function(){function h(c){Fr(this,h),this.configuration=c==null?{}:nt()(c),yn(this.configuration,Bn)}return Ho(h,[{key:"init",value:function(){return this.fromEnvironment(),this.fromDocument(),this}},{key:"set",value:function(g,y){return this.configuration[g]=y,this}},{key:"get",value:function(g){return this.configuration[g]}},{key:"merge",value:function(g){return Be()(this.configuration,nt()(g)),this}},{key:"fromDocument",value:function(){var g,y,I,P;if(P=typeof document<"u"&&document!==null?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0,P)for(y=0,I=P.length;y<I;y++)g=P[y],this.configuration[g.getAttribute("name").replace("cloudinary_","")]=g.getAttribute("content");return this}},{key:"fromEnvironment",value:function(){var g=this,y,I,P,G;return typeof process<"u"&&process!==null&&t&&t.CLOUDINARY_URL&&(y=t.CLOUDINARY_URL,G=/cloudinary:\/\/(?:(\w+)(?:\:([\w-]+))?@)?([\w\.-]+)(?:\/([^?]*))?(?:\?(.+))?/,P=G.exec(y),P&&(P[3]!=null&&(this.configuration.cloud_name=P[3]),P[1]!=null&&(this.configuration.api_key=P[1]),P[2]!=null&&(this.configuration.api_secret=P[2]),P[4]!=null&&(this.configuration.private_cdn=P[4]!=null),P[4]!=null&&(this.configuration.secure_distribution=P[4]),I=P[5],I!=null&&I.split("&").forEach(function(oe){var ie=oe.split("="),we=cl(ie,2),Re=we[0],$e=we[1];$e==null&&($e=!0),g.configuration[Re]=$e}))),this}},{key:"config",value:function(g,y){switch(!1){case y===void 0:return this.set(g,y),this.configuration;case!de()(g):return this.get(g);case!me()(g):return this.merge(g),this.configuration;default:return this.configuration}}},{key:"toOptions",value:function(){return nt()(this.configuration)}}])}(),Bn={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:(typeof window<"u"&&window!==null&&window.location?window.location.protocol:void 0)==="https:"};tr.CONFIG_PARAMS=["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version","externalLibraries","max_timeout_ms"];var Ni=tr;function Vr(h){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Vr(h)}function Lc(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Wo(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,ds(y.key),y)}}function Oi(h,c,g){return c&&Wo(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function ds(h){var c=Ws(h,"string");return Vr(c)=="symbol"?c:c+""}function Ws(h,c){if(Vr(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(Vr(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var Go=function(){function h(c){var g=this;Lc(this,h),this.options={},c!=null&&["resourceType","type","publicId","format"].forEach(function(y){var I;return g.options[y]=(I=c[y])!=null?I:c[Ln(y)]})}return Oi(h,[{key:"resourceType",value:function(g){return this.options.resourceType=g,this}},{key:"type",value:function(g){return this.options.type=g,this}},{key:"publicId",value:function(g){return this.options.publicId=g,this}},{key:"getPublicId",value:function(){var g;return(g=this.options.publicId)!=null?g.replace(/\//g,":"):void 0}},{key:"getFullPublicId",value:function(){return this.options.format!=null?this.getPublicId()+"."+this.options.format:this.getPublicId()}},{key:"format",value:function(g){return this.options.format=g,this}},{key:"toString",value:function(){var g;if(g=[],this.options.publicId==null)throw"Must supply publicId";return this.options.resourceType!=="image"&&g.push(this.options.resourceType),this.options.type!=="upload"&&g.push(this.options.type),g.push(this.getFullPublicId()),Ht()(g).join(":")}},{key:"clone",value:function(){return new this.constructor(this.options)}}])}(),li=Go;function ji(h){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ji(h)}function Ko(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Qo(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,Di(y.key),y)}}function mu(h,c,g){return c&&Qo(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function Di(h){var c=pu(h,"string");return ji(c)=="symbol"?c:c+""}function pu(h,c){if(ji(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(ji(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function gu(h,c,g){return c=rr(c),yu(h,Gs()?Reflect.construct(c,g||[],rr(h).constructor):c.apply(h,g))}function yu(h,c){if(c&&(ji(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hl(h)}function hl(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Gs(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gs=function(){return!!h})()}function rr(h){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},rr(h)}function vu(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Yo(h,c)}function Yo(h,c){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},Yo(h,c)}var ui=function(h){function c(g){var y;Ko(this,c);var I;return y=gu(this,c,[g]),I=["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","fontHinting","fontAntialiasing","text","textStyle"],g!=null&&I.forEach(function(P){var G;return y.options[P]=(G=g[P])!=null?G:g[Ln(P)]}),y.options.resourceType="text",y}return vu(c,h),mu(c,[{key:"resourceType",value:function(y){throw"Cannot modify resourceType for text layers"}},{key:"type",value:function(y){throw"Cannot modify type for text layers"}},{key:"format",value:function(y){throw"Cannot modify format for text layers"}},{key:"fontFamily",value:function(y){return this.options.fontFamily=y,this}},{key:"fontSize",value:function(y){return this.options.fontSize=y,this}},{key:"fontWeight",value:function(y){return this.options.fontWeight=y,this}},{key:"fontStyle",value:function(y){return this.options.fontStyle=y,this}},{key:"textDecoration",value:function(y){return this.options.textDecoration=y,this}},{key:"textAlign",value:function(y){return this.options.textAlign=y,this}},{key:"stroke",value:function(y){return this.options.stroke=y,this}},{key:"letterSpacing",value:function(y){return this.options.letterSpacing=y,this}},{key:"lineSpacing",value:function(y){return this.options.lineSpacing=y,this}},{key:"fontHinting",value:function(y){return this.options.fontHinting=y,this}},{key:"fontAntialiasing",value:function(y){return this.options.fontAntialiasing=y,this}},{key:"text",value:function(y){return this.options.text=y,this}},{key:"textStyle",value:function(y){return this.options.textStyle=y,this}},{key:"toString",value:function(){var y,I,P,G,oe,ie,we,Re,$e,it;if(Re=this.textStyleIdentifier(),this.options.publicId!=null&&(G=this.getFullPublicId()),this.options.text!=null){if(I=!ut(G),P=!ut(Re),I&&P||!I&&!P)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(oe=/\$\([a-zA-Z]\w*\)/g,we=0,it=Ci(this.options.text,/[,\/]/g),$e="";ie=oe.exec(it);)$e+=Ci(it.slice(we,ie.index)),$e+=ie[0],we=ie.index+ie[0].length;$e+=Ci(it.slice(we))}return y=[this.options.resourceType,Re,G,$e],Ht()(y).join(":")}},{key:"textStyleIdentifier",value:function(){if(!ut(this.options.textStyle))return this.options.textStyle;var y;if(y=[],this.options.fontWeight!=="normal"&&y.push(this.options.fontWeight),this.options.fontStyle!=="normal"&&y.push(this.options.fontStyle),this.options.textDecoration!=="none"&&y.push(this.options.textDecoration),y.push(this.options.textAlign),this.options.stroke!=="none"&&y.push(this.options.stroke),ut(this.options.letterSpacing)&&!jo(this.options.letterSpacing)||y.push("letter_spacing_"+this.options.letterSpacing),ut(this.options.lineSpacing)&&!jo(this.options.lineSpacing)||y.push("line_spacing_"+this.options.lineSpacing),ut(this.options.fontAntialiasing)||y.push("antialias_"+this.options.fontAntialiasing),ut(this.options.fontHinting)||y.push("hinting_"+this.options.fontHinting),!ut(Ht()(y))){if(ut(this.options.fontFamily))throw"Must supply fontFamily. ".concat(y);if(ut(this.options.fontSize)&&!jo(this.options.fontSize))throw"Must supply fontSize."}return y.unshift(this.options.fontFamily,this.options.fontSize),y=Ht()(y).join("_"),y}}])}(li),d=ui;function x(h){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},x(h)}function S(h,c,g){return Object.defineProperty(h,"prototype",{writable:!1}),h}function N(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function te(h,c,g){return c=zt(c),ae(h,_t()?Reflect.construct(c,g||[],zt(h).constructor):c.apply(h,g))}function ae(h,c){if(c&&(x(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(h)}function Ee(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function _t(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_t=function(){return!!h})()}function zt(h){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},zt(h)}function ht(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Gt(h,c)}function Gt(h,c){return Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},Gt(h,c)}var Kt=function(h){function c(g){var y;return N(this,c),y=te(this,c,[g]),y.options.resourceType="subtitles",y}return ht(c,h),S(c)}(d),Ur=Kt;function nr(h){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},nr(h)}function Ks(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Xo(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,Vd(y.key),y)}}function Fd(h,c,g){return c&&Xo(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function Vd(h){var c=Ud(h,"string");return nr(c)=="symbol"?c:c+""}function Ud(h,c){if(nr(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(nr(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function Jo(h,c,g){return c=ml(c),Bp(h,Bd()?Reflect.construct(c,g||[],ml(h).constructor):c.apply(h,g))}function Bp(h,c){if(c&&(nr(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zp(h)}function zp(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Bd(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bd=function(){return!!h})()}function ml(h){return ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},ml(h)}function zd(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Qs(h,c)}function Qs(h,c){return Qs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},Qs(h,c)}var pl=function(h){function c(g){var y;return Ks(this,c),y=Jo(this,c,[g]),de()(g)?y.options.url=g:g!=null&&g.url&&(y.options.url=g.url),y}return zd(c,h),Fd(c,[{key:"url",value:function(y){return this.options.url=y,this}},{key:"toString",value:function(){return"fetch:".concat(as(this.options.url))}}])}(li),_u=pl;function hs(h,c,g){return c=ci(c),qp(h,wu()?Reflect.construct(c,g||[],ci(h).constructor):c.apply(h,g))}function qp(h,c){if(c&&(ea(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qd(h)}function qd(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function wu(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wu=function(){return!!h})()}function Li(){return typeof Reflect<"u"&&Reflect.get?Li=Reflect.get.bind():Li=function(c,g,y){var I=$d(c,g);if(I){var P=Object.getOwnPropertyDescriptor(I,g);return P.get?P.get.call(arguments.length<3?c:y):P.value}},Li.apply(this,arguments)}function $d(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=ci(h),h!==null););return h}function ci(h){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},ci(h)}function Zo(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Mc(h,c)}function Mc(h,c){return Mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},Mc(h,c)}function ea(h){"@babel/helpers - typeof";return ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ea(h)}function ta(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Hd(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,zn(y.key),y)}}function ra(h,c,g){return c&&Hd(h.prototype,c),g&&Hd(h,g),Object.defineProperty(h,"prototype",{writable:!1}),h}function zn(h){var c=gl(h,"string");return ea(c)=="symbol"?c:c+""}function gl(h,c){if(ea(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(ea(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var qn=function(){function h(c,g){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tt.a;ta(this,h),this.name=c,this.shortName=g,this.process=y}return ra(h,[{key:"set",value:function(g){return this.origValue=g,this}},{key:"serialize",value:function(){var g,y;return g=this.value(),y=Z()(g)||me()(g)||de()(g)?!ut(g):g!=null,this.shortName!=null&&y?"".concat(this.shortName,"_").concat(g):""}},{key:"value",value:function(){return this.process(this.origValue)}}],[{key:"norm_color",value:function(g){return g!=null?g.replace(/^#/,"rgb:"):void 0}},{key:"build_array",value:function(g){return g==null?[]:Z()(g)?g:[g]}},{key:"process_video_params",value:function(g){var y;switch(g.constructor){case Object:return y="","codec"in g&&(y=g.codec,"profile"in g&&(y+=":"+g.profile,"level"in g&&(y+=":"+g.level,"b_frames"in g&&g.b_frames===!1&&(y+=":bframes_no")))),y;case String:return g;default:return null}}}])}(),Wd=function(h){function c(g,y){var I,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return ta(this,c),I=hs(this,c,[g,y,G]),I.sep=P,I}return Zo(c,h),ra(c,[{key:"serialize",value:function(){if(this.shortName!=null){var y=this.value();if(ut(y))return"";if(de()(y))return"".concat(this.shortName,"_").concat(y);var I=y.map(function(P){return et()(P.serialize)?P.serialize():P}).join(this.sep);return"".concat(this.shortName,"_").concat(I)}else return""}},{key:"value",value:function(){var y=this;return Z()(this.origValue)?this.origValue.map(function(I){return y.process(I)}):this.process(this.origValue)}},{key:"set",value:function(y){return y==null||Z()(y)?Li(ci(c.prototype),"set",this).call(this,y):Li(ci(c.prototype),"set",this).call(this,[y])}}])}(qn),Gd=function(h){function c(g){var y,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"t",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;return ta(this,c),y=hs(this,c,[g,I,G]),y.sep=P,y}return Zo(c,h),ra(c,[{key:"serialize",value:function(){var y=this,I="",P=this.value();if(ut(P))return I;if(gn(P)){var G=P.join(this.sep);ut(G)||(I="".concat(this.shortName,"_").concat(G))}else I=P.map(function(oe){if(de()(oe)&&!ut(oe))return"".concat(y.shortName,"_").concat(oe);if(et()(oe.serialize))return oe.serialize();if(me()(oe)&&!ut(oe))return new Br(oe).serialize()}).filter(function(oe){return oe});return I}},{key:"set",value:function(y){return this.origValue=y,Z()(this.origValue)?Li(ci(c.prototype),"set",this).call(this,this.origValue):Li(ci(c.prototype),"set",this).call(this,[this.origValue])}}])}(qn),Kd="([0-9]*)\\.([0-9]+)|([0-9]+)",Fc="("+Kd+")([%pP])?",$p=function(h){function c(g,y){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.norm_range_value;return ta(this,c),hs(this,c,[g,y,I])}return Zo(c,h),ra(c,null,[{key:"norm_range_value",value:function(y){var I=String(y).match(new RegExp("^"+Fc+"$"));if(I){var P=I[5]!=null?"p":"";y=(I[1]||I[4])+P}return Rt.normalize(y)}}])}(qn),Hp=function(h){function c(g,y){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tt.a;return ta(this,c),hs(this,c,[g,y,I])}return Zo(c,h),ra(c,[{key:"serialize",value:function(){return this.value()}}])}(qn),na=function(h){function c(){return ta(this,c),hs(this,c,arguments)}return Zo(c,h),ra(c,[{key:"value",value:function(){if(this.origValue==null)return"";var y;if(this.origValue instanceof li)y=this.origValue;else if(me()(this.origValue)){var I=cu(this.origValue);I.resourceType==="text"||I.text!=null?y=new d(I):I.resourceType==="subtitles"?y=new Ur(I):I.resourceType==="fetch"||I.url!=null?y=new _u(I):y=new li(I)}else de()(this.origValue)?/^fetch:.+/.test(this.origValue)?y=new _u(this.origValue.substr(6)):y=this.origValue:y="";return y.toString()}}],[{key:"textStyle",value:function(y){return new d(y).textStyleIdentifier()}}])}(qn);function Vc(h,c,g){return c=Ys(c),yl(h,Bc()?Reflect.construct(c,g||[],Ys(h).constructor):c.apply(h,g))}function yl(h,c){if(c&&(Xs(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uc(h)}function Uc(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Bc(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bc=function(){return!!h})()}function Ys(h){return Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},Ys(h)}function ia(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&vl(h,c)}function vl(h,c){return vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},vl(h,c)}function bu(h,c){return Xd(h)||Yd(h,c)||Qd(h,c)||xu()}function xu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qd(h,c){if(h){if(typeof h=="string")return zc(h,c);var g=Object.prototype.toString.call(h).slice(8,-1);if(g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set")return Array.from(h);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return zc(h,c)}}function zc(h,c){(c==null||c>h.length)&&(c=h.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=h[g];return y}function Yd(h,c){var g=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(g!=null){var y,I,P,G,oe=[],ie=!0,we=!1;try{if(P=(g=g.call(h)).next,c!==0)for(;!(ie=(y=P.call(g)).done)&&(oe.push(y.value),oe.length!==c);ie=!0);}catch(Re){we=!0,I=Re}finally{try{if(!ie&&g.return!=null&&(G=g.return(),Object(G)!==G))return}finally{if(we)throw I}}return oe}}function Xd(h){if(Array.isArray(h))return h}function Xs(h){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Xs(h)}function qc(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Mi(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,$c(y.key),y)}}function Eu(h,c,g){return c&&Mi(h.prototype,c),g&&Mi(h,g),Object.defineProperty(h,"prototype",{writable:!1}),h}function $c(h){var c=Wp(h,"string");return Xs(c)=="symbol"?c:c+""}function Wp(h,c){if(Xs(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(Xs(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function Jd(h){for(var c=arguments.length,g=new Array(c>1?c-1:0),y=1;y<c;y++)g[y-1]=arguments[y];return g.forEach(function(I){Object.keys(I).forEach(function(P){I[P]!=null&&(h[P]=I[P])})}),h}var Js=function(){function h(c){qc(this,h);var g,y;g=void 0,y={},this.toOptions=function(I){var P={};if(I==null&&(I=!0),Object.keys(y).forEach(function(oe){return P[oe]=y[oe].origValue}),Jd(P,this.otherOptions),I&&!ut(this.chained)){var G=this.chained.map(function(oe){return oe.toOptions()});G.push(P),P={},Jd(P,this.otherOptions),P.transformation=G}return P},this.setParent=function(I){return g=I,I!=null&&this.fromOptions(typeof I.toOptions=="function"?I.toOptions():void 0),this},this.getParent=function(){return g},this.param=function(I,P,G,oe,ie){return ie==null&&(et()(oe)?ie=oe:ie=tt.a),y[P]=new qn(P,G,ie).set(I),this},this.rawParam=function(I,P,G,oe,ie){return ie=_l(arguments),y[P]=new Hp(P,G,ie).set(I),this},this.rangeParam=function(I,P,G,oe,ie){return ie=_l(arguments),y[P]=new $p(P,G,ie).set(I),this},this.arrayParam=function(I,P,G){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:":",ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return ie=_l(arguments),y[P]=new Wd(P,G,oe,ie).set(I),this},this.transformationParam=function(I,P,G){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:void 0;return ie=_l(arguments),y[P]=new Gd(P,G,oe,ie).set(I),this},this.layerParam=function(I,P,G){return y[P]=new na(P,G).set(I),this},this.getValue=function(I){var P=y[I]&&y[I].value();return P??this.otherOptions[I]},this.get=function(I){return y[I]},this.remove=function(I){var P;switch(!1){case y[I]==null:return P=y[I],delete y[I],P.origValue;case this.otherOptions[I]==null:return P=this.otherOptions[I],delete this.otherOptions[I],P;default:return null}},this.keys=function(){var I;return function(){var P;P=[];for(I in y)I!=null&&P.push(I.match(Hc)?I:Ln(I));return P}().sort()},this.toPlainObject=function(){var I,P,G;I={};for(P in y)I[P]=y[P].value(),me()(I[P])&&(I[P]=nt()(I[P]));return ut(this.chained)||(G=this.chained.map(function(oe){return oe.toPlainObject()}),G.push(I),I={transformation:G}),I},this.chain=function(){var I,P;return I=Object.getOwnPropertyNames(y),I.length!==0&&(P=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(P)),this},this.resetTransformations=function(){return y={},this},this.otherOptions={},this.chained=[],this.fromOptions(c)}return Eu(h,[{key:"fromOptions",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g instanceof h)this.fromTransformation(g);else{(de()(g)||Z()(g))&&(g={transformation:g}),g=nt()(g,function(P){if(P instanceof h||P instanceof Layer)return new P.clone}),g.if&&(this.set("if",g.if),delete g.if);for(var y in g){var I=g[y];I!=null&&(y.match(Hc)?y!=="$attr"&&this.set("variable",y,I):this.set(y,I))}}return this}},{key:"fromTransformation",value:function(g){var y=this;return g instanceof h&&g.keys().forEach(function(I){return y.set(I,g.get(I).origValue)}),this}},{key:"set",value:function(g){var y;y=Zn(g);for(var I=arguments.length,P=new Array(I>1?I-1:0),G=1;G<I;G++)P[G-1]=arguments[G];return Ut()(fi.methods,y)?this[y].apply(this,P):this.otherOptions[g]=P[0],this}},{key:"hasLayer",value:function(){return this.getValue("overlay")||this.getValue("underlay")}},{key:"serialize",value:function(){var g,y,I,P,G,oe,ie,we,Re,$e,it,wt,Wn,pi,gi,lo,uo;for($e=this.chained.map(function(yi){return yi.serialize()}),P=this.keys(),pi=(G=this.get("transformation"))!=null?G.serialize():void 0,g=(oe=this.get("if"))!=null?oe.serialize():void 0,lo=Zd((ie=this.get("variables"))!=null?ie.value():void 0),P=Zr()(P,["transformation","if","variables"]),uo=[],wt=[],y=0,I=P.length;y<I;y++)it=P[y],it.match(Hc)?uo.push(it+"_"+Rt.normalize((we=this.get(it))!=null?we.value():void 0)):wt.push((Re=this.get(it))!=null?Re.serialize():void 0);switch(!1){case!de()(pi):wt.push(pi);break;case!Z()(pi):$e=$e.concat(pi)}return wt=function(){var yi,co,Hu;for(Hu=[],yi=0,co=wt.length;yi<co;yi++)gi=wt[yi],(Z()(gi)&&!ut(gi)||!Z()(gi)&&gi)&&Hu.push(gi);return Hu}(),wt=uo.sort().concat(lo).concat(wt.sort()),g==="if_end"?wt.push(g):ut(g)||wt.unshift(g),Wn=Ht()(wt).join(this.param_separator),ut(Wn)||$e.push(Wn),Ht()($e).join(this.trans_separator)}},{key:"toHtmlAttributes",value:function(){var g=this,y,I,P,G,oe,ie,we;P={};var Re;return Object.keys(this.otherOptions).forEach(function($e){ie=g.otherOptions[$e],Re=Ln($e),!Ut()(fi.PARAM_NAMES,Re)&&!Ut()(Ai,Re)&&(y=/^html_/.test($e)?$e.slice(5):$e,P[y]=ie)}),this.keys().forEach(function($e){/^html_/.test($e)&&(P[Zn($e.slice(5))]=g.getValue($e))}),this.hasLayer()||this.getValue("angle")||Ut()(["fit","limit","lfill"],this.getValue("crop"))||(we=(G=this.get("width"))!=null?G.origValue:void 0,I=(oe=this.get("height"))!=null?oe.origValue:void 0,parseFloat(we)>=1&&P.width==null&&(P.width=we),parseFloat(I)>=1&&P.height==null&&(P.height=I)),P}},{key:"toHtml",value:function(){var g;return(g=this.getParent())!=null&&typeof g.toHtml=="function"?g.toHtml():void 0}},{key:"toString",value:function(){return this.serialize()}},{key:"clone",value:function(){return new this.constructor(this.toOptions(!0))}}],[{key:"listNames",value:function(){return fi.methods}},{key:"isValidParamName",value:function(g){return fi.methods.indexOf(Zn(g))>=0}}])}(),Hc=/^\$[a-zA-Z0-9]+$/;Js.prototype.trans_separator="/",Js.prototype.param_separator=",";function _l(h){var c;if(c=h!=null?h[h.length-1]:void 0,et()(c))return c}function Zd(h){var c,g,y,I,P;if(Z()(h)){for(I=[],c=0,g=h.length;c<g;c++){var G=bu(h[c],2);y=G[0],P=G[1],I.push("".concat(y,"_").concat(Rt.normalize(P)))}return I}else return h}function Ct(h){var c=h.function_type,g=h.source;if(c==="remote")return[c,btoa(g)].join(":");if(c==="wasm")return[c,g].join(":")}var fi=function(h){function c(g){return qc(this,c),Vc(this,c,[g])}return ia(c,h),Eu(c,[{key:"angle",value:function(y){return this.arrayParam(y,"angle","a",".",Rt.normalize)}},{key:"audioCodec",value:function(y){return this.param(y,"audio_codec","ac")}},{key:"audioFrequency",value:function(y){return this.param(y,"audio_frequency","af")}},{key:"aspectRatio",value:function(y){return this.param(y,"aspect_ratio","ar",Rt.normalize)}},{key:"background",value:function(y){return this.param(y,"background","b",qn.norm_color)}},{key:"bitRate",value:function(y){return this.param(y,"bit_rate","br")}},{key:"border",value:function(y){return this.param(y,"border","bo",function(I){return me()(I)?(I=Be()({},{color:"black",width:2},I),"".concat(I.width,"px_solid_").concat(qn.norm_color(I.color))):I})}},{key:"color",value:function(y){return this.param(y,"color","co",qn.norm_color)}},{key:"colorSpace",value:function(y){return this.param(y,"color_space","cs")}},{key:"crop",value:function(y){return this.param(y,"crop","c")}},{key:"customFunction",value:function(y){return this.param(y,"custom_function","fn",function(){return Ct(y)})}},{key:"customPreFunction",value:function(y){if(!this.get("custom_function"))return this.rawParam(y,"custom_function","",function(){return y=Ct(y),y&&"fn_pre:".concat(y)})}},{key:"defaultImage",value:function(y){return this.param(y,"default_image","d")}},{key:"delay",value:function(y){return this.param(y,"delay","dl")}},{key:"density",value:function(y){return this.param(y,"density","dn")}},{key:"duration",value:function(y){return this.rangeParam(y,"duration","du")}},{key:"dpr",value:function(y){return this.param(y,"dpr","dpr",function(I){return I=I.toString(),I!=null&&I.match(/^\d+$/)?I+".0":Rt.normalize(I)})}},{key:"effect",value:function(y){return this.arrayParam(y,"effect","e",":",Rt.normalize)}},{key:"else",value:function(){return this.if("else")}},{key:"endIf",value:function(){return this.if("end")}},{key:"endOffset",value:function(y){return this.rangeParam(y,"end_offset","eo")}},{key:"fallbackContent",value:function(y){return this.param(y,"fallback_content")}},{key:"fetchFormat",value:function(y){return this.param(y,"fetch_format","f")}},{key:"format",value:function(y){return this.param(y,"format")}},{key:"flags",value:function(y){return this.arrayParam(y,"flags","fl",".")}},{key:"gravity",value:function(y){return this.param(y,"gravity","g")}},{key:"fps",value:function(y){return this.param(y,"fps","fps",function(I){return de()(I)?I:Z()(I)?I.join("-"):I})}},{key:"height",value:function(y){var I=this;return this.param(y,"height","h",function(){return I.getValue("crop")||I.getValue("overlay")||I.getValue("underlay")?Rt.normalize(y):null})}},{key:"htmlHeight",value:function(y){return this.param(y,"html_height")}},{key:"htmlWidth",value:function(y){return this.param(y,"html_width")}},{key:"if",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I,P,G,oe,ie;switch(y){case"else":return this.chain(),this.param(y,"if","if");case"end":for(this.chain(),I=G=this.chained.length-1;G>=0&&(P=this.chained[I].getValue("if"),P!=="end");I=G+=-1)if(P!=null&&(oe=c.new().if(P),this.chained[I].remove("if"),ie=this.chained[I],this.chained[I]=c.new().transformation([oe,ie]),P!=="else"))break;return this.param(y,"if","if");case"":return St.new().setParent(this);default:return this.param(y,"if","if",function(we){return St.new(we).toString()})}}},{key:"keyframeInterval",value:function(y){return this.param(y,"keyframe_interval","ki")}},{key:"ocr",value:function(y){return this.param(y,"ocr","ocr")}},{key:"offset",value:function(y){var I,P,G=et()(y!=null?y.split:void 0)?y.split(".."):Z()(y)?y:[null,null],oe=bu(G,2);if(P=oe[0],I=oe[1],P!=null&&this.startOffset(P),I!=null)return this.endOffset(I)}},{key:"opacity",value:function(y){return this.param(y,"opacity","o",Rt.normalize)}},{key:"overlay",value:function(y){return this.layerParam(y,"overlay","l")}},{key:"page",value:function(y){return this.param(y,"page","pg")}},{key:"poster",value:function(y){return this.param(y,"poster")}},{key:"prefix",value:function(y){return this.param(y,"prefix","p")}},{key:"quality",value:function(y){return this.param(y,"quality","q",Rt.normalize)}},{key:"radius",value:function(y){return this.arrayParam(y,"radius","r",":",Rt.normalize)}},{key:"rawTransformation",value:function(y){return this.rawParam(y,"raw_transformation")}},{key:"size",value:function(y){var I,P;if(et()(y!=null?y.split:void 0)){var G=y.split("x"),oe=bu(G,2);return P=oe[0],I=oe[1],this.width(P),this.height(I)}}},{key:"sourceTypes",value:function(y){return this.param(y,"source_types")}},{key:"sourceTransformation",value:function(y){return this.param(y,"source_transformation")}},{key:"startOffset",value:function(y){return this.rangeParam(y,"start_offset","so")}},{key:"streamingProfile",value:function(y){return this.param(y,"streaming_profile","sp")}},{key:"transformation",value:function(y){return this.transformationParam(y,"transformation","t")}},{key:"underlay",value:function(y){return this.layerParam(y,"underlay","u")}},{key:"variable",value:function(y,I){return this.param(I,y,y)}},{key:"variables",value:function(y){return this.arrayParam(y,"variables")}},{key:"videoCodec",value:function(y){return this.param(y,"video_codec","vc",qn.process_video_params)}},{key:"videoSampling",value:function(y){return this.param(y,"video_sampling","vs")}},{key:"width",value:function(y){var I=this;return this.param(y,"width","w",function(){return I.getValue("crop")||I.getValue("overlay")||I.getValue("underlay")?Rt.normalize(y):null})}},{key:"x",value:function(y){return this.param(y,"x","x",Rt.normalize)}},{key:"y",value:function(y){return this.param(y,"y","y",Rt.normalize)}},{key:"zoom",value:function(y){return this.param(y,"zoom","z",Rt.normalize)}}],[{key:"new",value:function(y){return new c(y)}}])}(Js);fi.methods=["angle","audioCodec","audioFrequency","aspectRatio","background","bitRate","border","color","colorSpace","crop","customFunction","customPreFunction","defaultImage","delay","density","duration","dpr","effect","else","endIf","endOffset","fallbackContent","fetchFormat","format","flags","gravity","fps","height","htmlHeight","htmlWidth","if","keyframeInterval","ocr","offset","opacity","overlay","page","poster","prefix","quality","radius","rawTransformation","size","sourceTypes","sourceTransformation","startOffset","streamingProfile","transformation","underlay","variable","variables","videoCodec","videoSampling","width","x","y","zoom"],fi.PARAM_NAMES=fi.methods.map(Ln).concat(Ni.CONFIG_PARAMS);var Br=fi;function Fi(h){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Fi(h)}function eh(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function Tu(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,Su(y.key),y)}}function wl(h,c,g){return c&&Tu(h.prototype,c),g&&Tu(h,g),Object.defineProperty(h,"prototype",{writable:!1}),h}function Su(h){var c=sa(h,"string");return Fi(c)=="symbol"?c:c+""}function sa(h,c){if(Fi(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(Fi(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var th=function(){function h(c,g,y){eh(this,h);var I;this.name=c,this.publicId=g,y==null&&(me()(g)?(y=g,this.publicId=void 0):y={}),I=new Br(y),I.setParent(this),this.transformation=function(){return I}}return wl(h,[{key:"htmlAttrs",value:function(g){var y,I;return function(){var P;P=[];for(y in g)I=Kp(g[y]),I&&P.push(Gp(y,I));return P}().sort().join(" ")}},{key:"getOptions",value:function(){return this.transformation().toOptions()}},{key:"getOption",value:function(g){return this.transformation().getValue(g)}},{key:"attributes",value:function(){var g=this.transformation().toHtmlAttributes();return Object.keys(g).forEach(function(y){me()(g[y])&&delete g[y]}),g.attributes&&(Le()(g,g.attributes),delete g.attributes),g}},{key:"setAttr",value:function(g,y){return this.transformation().set("html_".concat(g),y),this}},{key:"getAttr",value:function(g){return this.attributes()["html_".concat(g)]||this.attributes()[g]}},{key:"removeAttr",value:function(g){var y;return(y=this.transformation().remove("html_".concat(g)))!=null?y:this.transformation().remove(g)}},{key:"content",value:function(){return""}},{key:"openTag",value:function(){var g="<"+this.name,y=this.htmlAttrs(this.attributes());return y&&y.length>0&&(g+=" "+y),g+">"}},{key:"closeTag",value:function(){return"</".concat(this.name,">")}},{key:"toHtml",value:function(){return this.openTag()+this.content()+this.closeTag()}},{key:"toDOM",value:function(){var g,y,I,P;if(!et()(typeof document<"u"&&document!==null?document.createElement:void 0))throw"Can't create DOM if document is not present!";g=document.createElement(this.name),I=this.attributes();for(y in I)P=I[y],g.setAttribute(y,P);return g}}],[{key:"new",value:function(g,y,I){return new this(g,y,I)}},{key:"isResponsive",value:function(g,y){var I;return I=Mn(g,"src-cache")||Mn(g,"src"),ni(g,y)&&/\bw_auto\b/.exec(I)}}])}();function Gp(h,c){if(c)return c===!0?h:"".concat(h,'="').concat(c,'"')}function Kp(h){return de()(h)?h.replace('"',"&#34;").replace("'","&#39;"):h}var Vi=th,Iu=["placeholder","accessibility"];function Au(h,c){if(h==null)return{};var g=Wc(h,c),y,I;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(h);for(I=0;I<P.length;I++)y=P[I],!(c.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(h,y)&&(g[y]=h[y])}return g}function Wc(h,c){if(h==null)return{};var g={},y=Object.keys(h),I,P;for(P=0;P<y.length;P++)I=y[P],!(c.indexOf(I)>=0)&&(g[I]=h[I]);return g}function Gc(h){var c=document.location.protocol+"//"+document.location.host;return h[0]==="?"?c+=document.location.pathname:h[0]!=="/"&&(c+=document.location.pathname.replace(/\/[^\/]*$/,"/")),c+h}function oa(h){return h?!!h.match(/^https?:\//):!1}function Kc(h){return R(h)%5+1}function Qp(h){var c=h.signature,g=!c||c.indexOf("s--")===0&&c.substr(-2)==="--";return delete h.signature,g?c:"s--".concat(c,"--")}function rh(h,c){if(c.cloud_name&&c.cloud_name[0]==="/")return"/res"+c.cloud_name;var g="http://",y="",I="res",P=".cloudinary.com",G="/"+c.cloud_name;return c.protocol&&(g=c.protocol+"//"),c.private_cdn&&(y=c.cloud_name+"-",G=""),c.cdn_subdomain&&(I="res-"+Kc(h)),c.secure?(g="https://",c.secure_cdn_subdomain===!1&&(I="res"),c.secure_distribution!=null&&c.secure_distribution!==Fs&&c.secure_distribution!==Dn&&(y="",I="",P=c.secure_distribution)):c.cname&&(g="http://",y="",I=c.cdn_subdomain?"a"+(R(h)%5+1)+".":"",P=c.cname),[g,y,I,P,G].join("")}function Yp(h){var c=h.resource_type,g=c===void 0?"image":c,y=h.type,I=y===void 0?"upload":y,P=h.url_suffix,G=h.use_root_path,oe=h.shorten,ie,we=g;if(me()(we)&&(ie=we,we=ie.resource_type,I=ie.type,oe=ie.shorten),I==null&&(I="upload"),P!=null&&(we=Ii["".concat(we,"/").concat(I)],I=null,we==null))throw new Error("URL Suffix only supported for ".concat(Object.keys(Ii).join(", ")));if(G)if(we==="image"&&I==="upload"||we==="images")we=null,I=null;else throw new Error("Root path only supported for image/upload");return oe&&we==="image"&&I==="upload"&&(we="iu",I=null),[we,I].join("/")}function nh(h){return encodeURIComponent(h).replace(/%3A/g,":").replace(/%2F/g,"/")}function Qc(h,c){if(oa(h))h=nh(h);else{try{h=decodeURIComponent(h)}catch{}h=nh(h),c.url_suffix&&(h=h+"/"+c.url_suffix),c.format&&(c.trust_public_id||(h=h.replace(/\.(jpg|png|gif|webp)$/,"")),h=h+"."+c.format)}return h}function ms(h){var c=h.cloud_name,g=h.url_suffix;if(!c)return"Unknown cloud_name";if(g&&g.match(/[\.\/]/))return"url_suffix should not include . or /"}function ih(h,c){var g=c.force_version||typeof c.force_version>"u",y=h.indexOf("/")<0||h.match(/^v[0-9]+/)||oa(h)||c.version;return g&&!y&&(c.version=1),c.version?"v".concat(c.version):""}function aa(h){var c=h||{},g=c.placeholder,y=c.accessibility,I=Au(c,Iu),P=new Br(I);if(y&&tn[y]&&P.chain().effect(tn[y]),g){g==="predominant-color"&&P.getValue("width")&&P.getValue("height")&&(g+="-pixel");var G=is[g]||is.blur;G.forEach(function(oe){return P.chain().transformation(oe)})}return P.serialize()}function di(h,c){var g=c.type;return!oa(h)&&g==="fetch"?Gc(h):h}function bl(h,c){if(oa(h)&&(c.type==="upload"||c.type==="asset"))return h;var g=ih(h,c),y=aa(c),I=rh(h,c),P=Qp(c),G=Yp(c);return h=Qc(h,c),Ht()([I,G,P,y,g,h]).join("/").replace(/([^:])\/+/g,"$1/").replace(" ","%20")}function Ui(h,c){return h instanceof Br&&(h=h.toOptions()),h=yn({},h,c,Us),h.type==="fetch"&&(h.fetch_format=h.fetch_format||h.format),h}function $n(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!h)return h;c=Ui(c,g),h=di(h,c);var y=ms(c);if(y)throw y;var I=bl(h,c);if(c.urlAnalytics){var P=Ke(c),G=ke(P),oe="?";I.indexOf("?")>=0&&(oe="&"),I="".concat(I).concat(oe,"_a=").concat(G)}if(c.auth_token){var ie=I.indexOf("?")>=0?"&":"?";I="".concat(I).concat(ie,"__cld_token__=").concat(c.auth_token)}return I}function Xp(h,c){return Cu(h)||ua(h,c)||Zs(h,c)||Jp()}function Jp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zs(h,c){if(h){if(typeof h=="string")return la(h,c);var g=Object.prototype.toString.call(h).slice(8,-1);if(g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set")return Array.from(h);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return la(h,c)}}function la(h,c){(c==null||c>h.length)&&(c=h.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=h[g];return y}function ua(h,c){var g=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(g!=null){var y,I,P,G,oe=[],ie=!0,we=!1;try{if(P=(g=g.call(h)).next,c!==0)for(;!(ie=(y=P.call(g)).done)&&(oe.push(y.value),oe.length!==c);ie=!0);}catch(Re){we=!0,I=Re}finally{try{if(!ie&&g.return!=null&&(G=g.return(),Object(G)!==G))return}finally{if(we)throw I}}return oe}}function Cu(h){if(Array.isArray(h))return h}function Yc(h){var c=h.breakpoints||[];if(c.length)return c;var g=[h.min_width,h.max_width,h.max_images].map(Number),y=Xp(g,3),I=y[0],P=y[1],G=y[2];if([I,P,G].some(isNaN))throw"Either (min_width, max_width, max_images) or breakpoints must be provided to the image srcset attribute";if(I>P)throw"min_width must be less than max_width";if(G<=0)throw"max_images must be a positive integer";G===1&&(I=P);for(var oe=Math.ceil((P-I)/Math.max(G-1,1)),ie=I;ie<P;ie+=oe)c.push(ie);return c.push(P),c}var ps=ut;function gs(h,c,g){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=ei(y);return g=g||y,I.raw_transformation=new Br([Le.a({},g),{crop:"scale",width:c}]).toString(),$n(h,I)}function Nt(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Yc(c)}function Pt(h,c,g,y){return y=nt.a(y),rn(y),c.map(function(I){return"".concat(gs(h,I,g,y)," ").concat(I,"w")}).join(", ")}function ys(h){return h==null?"":h.map(function(c){return"(max-width: ".concat(c,"px) ").concat(c,"px")}).join(", ")}function dr(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I={};if(ps(g))return I;var P=!c.sizes&&g.sizes===!0,G=!c.srcset;if(G||P){var oe=Nt(h,g,y);if(G){var ie=g.transformation,we=Pt(h,oe,ie,y);ps(we)||(I.srcset=we)}if(P){var Re=ys(oe);ps(Re)||(I.sizes=Re)}}return I}function zr(h){var c=[];return h!=null&&(h.min_width!=null&&c.push("(min-width: ".concat(h.min_width,"px)")),h.max_width!=null&&c.push("(max-width: ".concat(h.max_width,"px)"))),c.join(" and ")}function bn(h){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},bn(h)}function ca(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function qr(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,sh(y.key),y)}}function Pu(h,c,g){return c&&qr(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function sh(h){var c=oh(h,"string");return bn(c)=="symbol"?c:c+""}function oh(h,c){if(bn(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(bn(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function ku(h,c,g){return c=da(c),ah(h,xl()?Reflect.construct(c,g||[],da(h).constructor):c.apply(h,g))}function ah(h,c){if(c&&(bn(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(h)}function Bi(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function xl(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xl=function(){return!!h})()}function fa(){return typeof Reflect<"u"&&Reflect.get?fa=Reflect.get.bind():fa=function(c,g,y){var I=lh(c,g);if(I){var P=Object.getOwnPropertyDescriptor(I,g);return P.get?P.get.call(arguments.length<3?c:y):P.value}},fa.apply(this,arguments)}function lh(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=da(h),h!==null););return h}function da(h){return da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},da(h)}function vs(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&_s(h,c)}function _s(h,c){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},_s(h,c)}var ha=function(h){function c(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ca(this,c),ku(this,c,["img",g,y])}return vs(c,h),Pu(c,[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var y,I,P;y=fa(da(c.prototype),"attributes",this).call(this)||{},I=this.getOptions();var G=this.getOption("attributes")||{},oe=this.getOption("srcset")||G.srcset,ie={};return de()(oe)?ie.srcset=oe:ie=dr(this.publicId,G,oe,I),ut(ie)||(delete y.width,delete y.height),Le()(y,ie),P=I.responsive&&!I.client_hints?"data-src":"src",y[P]==null&&(y[P]=$n(this.publicId,this.getOptions())),y}}])}(Vi),eo=ha;function zi(h){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},zi(h)}function xn(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function En(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,qi(y.key),y)}}function to(h,c,g){return c&&En(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function qi(h){var c=$i(h,"string");return zi(c)=="symbol"?c:c+""}function $i(h,c){if(zi(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(zi(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function ro(h,c,g){return c=Et(c),uh(h,Ru()?Reflect.construct(c,g||[],Et(h).constructor):c.apply(h,g))}function uh(h,c){if(c&&(zi(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xc(h)}function Xc(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Ru(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ru=function(){return!!h})()}function _r(){return typeof Reflect<"u"&&Reflect.get?_r=Reflect.get.bind():_r=function(c,g,y){var I=sn(c,g);if(I){var P=Object.getOwnPropertyDescriptor(I,g);return P.get?P.get.call(arguments.length<3?c:y):P.value}},_r.apply(this,arguments)}function sn(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=Et(h),h!==null););return h}function Et(h){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},Et(h)}function Hn(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Nu(h,c)}function Nu(h,c){return Nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},Nu(h,c)}var ch=function(h){function c(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xn(this,c),ro(this,c,["source",g,y])}return Hn(c,h),to(c,[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var y=this.getOption("srcset"),I=_r(Et(c.prototype),"attributes",this).call(this)||{},P=this.getOptions();return Le()(I,dr(this.publicId,I,y,P)),I.srcset||(I.srcset=$n(this.publicId,P)),!I.media&&P.media&&(I.media=zr(P.media)),I}}])}(Vi),Ou=ch;function ws(h){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ws(h)}function fh(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function ju(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,ma(y.key),y)}}function dh(h,c,g){return c&&ju(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function ma(h){var c=Jc(h,"string");return ws(c)=="symbol"?c:c+""}function Jc(h,c){if(ws(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(ws(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function Zp(h,c,g){return c=no(c),El(h,Zc()?Reflect.construct(c,g||[],no(h).constructor):c.apply(h,g))}function El(h,c){if(c&&(ws(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Du(h)}function Du(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Zc(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zc=function(){return!!h})()}function Tl(){return typeof Reflect<"u"&&Reflect.get?Tl=Reflect.get.bind():Tl=function(c,g,y){var I=pa(c,g);if(I){var P=Object.getOwnPropertyDescriptor(I,g);return P.get?P.get.call(arguments.length<3?c:y):P.value}},Tl.apply(this,arguments)}function pa(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=no(h),h!==null););return h}function no(h){return no=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},no(h)}function Lu(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&ga(h,c)}function ga(h,c){return ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},ga(h,c)}var ya=function(h){function c(g){var y,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return fh(this,c),y=Zp(this,c,["picture",g,I]),y.widthList=P,y}return Lu(c,h),dh(c,[{key:"content",value:function(){var y=this;return this.widthList.map(function(I){var P=I.min_width,G=I.max_width,oe=I.transformation,ie=y.getOptions(),we=new Br(ie);return we.chain().fromOptions(typeof oe=="string"?{raw_transformation:oe}:oe),ie=ei(ie),ie.media={min_width:P,max_width:G},ie.transformation=we,new Ou(y.publicId,ie).toHtml()}).join("")+new eo(this.publicId,this.getOptions()).toHtml()}},{key:"attributes",value:function(){var y=Tl(no(c.prototype),"attributes",this).call(this);return delete y.width,delete y.height,y}},{key:"closeTag",value:function(){return"</"+this.name+">"}}])}(Vi),Sl=ya;function bs(h){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},bs(h)}function ef(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function tf(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,Tn(y.key),y)}}function va(h,c,g){return c&&tf(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function Tn(h){var c=io(h,"string");return bs(c)=="symbol"?c:c+""}function io(h,c){if(bs(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(bs(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function rf(h,c,g){return c=$r(c),hh(h,Wi()?Reflect.construct(c,g||[],$r(h).constructor):c.apply(h,g))}function hh(h,c){if(c&&(bs(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hi(h)}function Hi(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Wi(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wi=function(){return!!h})()}function _a(){return typeof Reflect<"u"&&Reflect.get?_a=Reflect.get.bind():_a=function(c,g,y){var I=mh(c,g);if(I){var P=Object.getOwnPropertyDescriptor(I,g);return P.get?P.get.call(arguments.length<3?c:y):P.value}},_a.apply(this,arguments)}function mh(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&(h=$r(h),h!==null););return h}function $r(h){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},$r(h)}function xs(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&wa(h,c)}function wa(h,c){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},wa(h,c)}var ph=["source_types","source_transformation","fallback_content","poster","sources"],Mu=["webm","mp4","ogv"],gh={format:"jpg",resource_type:"video"},Il=function(h){function c(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ef(this,c),y=yn({},y,Xn),rf(this,c,["video",g.replace(/\.(mp4|ogv|webm)$/,""),y])}return xs(c,h),va(c,[{key:"setSourceTransformation",value:function(y){return this.transformation().sourceTransformation(y),this}},{key:"setSourceTypes",value:function(y){return this.transformation().sourceTypes(y),this}},{key:"setPoster",value:function(y){return this.transformation().poster(y),this}},{key:"setFallbackContent",value:function(y){return this.transformation().fallbackContent(y),this}},{key:"content",value:function(){var y=this,I=this.transformation().getValue("source_types"),P=this.transformation().getValue("source_transformation"),G=this.transformation().getValue("fallback_content"),oe=this.getOption("sources"),ie=[];return Z()(oe)&&!ut(oe)?ie=oe.map(function(we){var Re=$n(y.publicId,yn({},we.transformations||{},{resource_type:"video",format:we.type}),y.getOptions());return y.createSourceTag(Re,we.type,we.codecs)}):(ut(I)&&(I=Mu),Z()(I)&&(ie=I.map(function(we){var Re=$n(y.publicId,yn({},P[we]||{},{resource_type:"video",format:we}),y.getOptions());return y.createSourceTag(Re,we)}))),ie.join("")+G}},{key:"attributes",value:function(){var y=this.getOption("source_types"),I=this.getOption("poster");if(I===void 0&&(I={}),me()(I)){var P=I.public_id!=null?Us:gh;I=$n(I.public_id||this.publicId,yn({},I,P,this.getOptions()))}var G=_a($r(c.prototype),"attributes",this).call(this)||{};G=Bs(G,ph);var oe=this.getOption("sources"),ie=!ut(oe)||ut(y)||Z()(y);return ie||(G.src=$n(this.publicId,this.getOptions(),{resource_type:"video",format:y})),I!=null&&(G.poster=I),G}},{key:"createSourceTag",value:function(y,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,G=null;if(!ut(I)){var oe=I==="ogv"?"ogg":I;if(G="video/"+oe,!ut(P)){var ie=Z()(P)?P.join(", "):P;G+="; codecs="+ie}}return"<source "+this.htmlAttrs({src:y,type:G})+">"}}])}(Vi),Sn=Il;function hi(h){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},hi(h)}function Al(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function so(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,ba(y.key),y)}}function nf(h,c,g){return c&&so(h.prototype,c),Object.defineProperty(h,"prototype",{writable:!1}),h}function ba(h){var c=yh(h,"string");return hi(c)=="symbol"?c:c+""}function yh(h,c){if(hi(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(hi(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}function sf(h,c,g){return c=xa(c),Mt(h,Vu()?Reflect.construct(c,g||[],xa(h).constructor):c.apply(h,g))}function Mt(h,c){if(c&&(hi(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fu(h)}function Fu(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Vu(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vu=function(){return!!h})()}function xa(h){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},xa(h)}function Uu(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),c&&Cl(h,c)}function Cl(h,c){return Cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,I){return y.__proto__=I,y},Cl(h,c)}var oo=function(h){function c(g){return Al(this,c),sf(this,c,["meta",void 0,Be()({"http-equiv":"Accept-CH",content:"DPR, Viewport-Width, Width"},g)])}return Uu(c,h),nf(c,[{key:"closeTag",value:function(){return""}}])}(Vi),Dt=oo;function Jt(h){return kl(h)||Pl(h)||Bu(h)||ir()}function ir(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bu(h,c){if(h){if(typeof h=="string")return of(h,c);var g=Object.prototype.toString.call(h).slice(8,-1);if(g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set")return Array.from(h);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return of(h,c)}}function Pl(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function kl(h){if(Array.isArray(h))return of(h)}function of(h,c){(c==null||c>h.length)&&(c=h.length);for(var g=0,y=new Array(c);g<c;g++)y[g]=h[g];return y}function wr(h){return Z()(h)?h:h.constructor.name==="NodeList"?Jt(h):de()(h)?Array.prototype.slice.call(document.querySelectorAll(h),0):[h]}function af(h,c,g,y){return new Promise(function(I,P){h.innerHTML=c.videoTag(g,y).toHtml();var G=h.querySelector(".cld-transparent-video");G.style.width="100%",I(h)})}var lf=af;function uf(h,c){h.transformation?h.transformation.push({flags:[c]}):(h.flags||(h.flags=[]),typeof h.flags=="string"&&(h.flags=[h.flags]),h.flags.push(c))}var mi=uf;function In(h){h.autoplay=!0,h.muted=!0,h.controls=!1,h.max_timeout_ms=h.max_timeout_ms||Vs,h.class=h.class||"",h.class+=" cld-transparent-video",h.externalLibraries=h.externalLibraries||{},h.externalLibraries.seeThru||(h.externalLibraries.seeThru=Bt.seeThru),mi(h,"alpha")}var Rl=In;function cf(h,c,g){return new Promise(function(y,I){if(g)y();else{var P=document.createElement("script");P.src=h;var G=setTimeout(function(){I({status:"error",message:"Timeout loading script ".concat(h)})},c);P.onerror=function(){clearTimeout(G),I({status:"error",message:"Error loading ".concat(h)})},P.onload=function(){clearTimeout(G),y()},document.head.appendChild(P)}})}var ff=cf;function vh(h,c){return setTimeout(function(){c({status:"error",message:"Timeout loading Blob URL"})},h)}function _h(h,c){return new Promise(function(g,y){var I=vh(c,y),P=typeof fetch<"u"&&fetch?wh:bh;P(h).then(function(G){g({status:"success",payload:{blobURL:URL.createObjectURL(G)}})}).catch(function(){y({status:"error",message:"Error loading Blob URL"})}).finally(function(){clearTimeout(I)})})}function wh(h){return new Promise(function(c,g){fetch(h).then(function(y){y.blob().then(function(I){c(I)})}).catch(function(){g("error")})})}function bh(h){return new Promise(function(c,g){var y=new XMLHttpRequest;y.responseType="blob",y.onload=function(I){c(y.response)},y.onerror=function(){g("error")},y.open("GET",h,!0),y.send()})}var xh=_h;function Eh(h){var c=h.autoplay,g=h.playsinline,y=h.loop,I=h.muted,P=h.poster,G=h.blobURL,oe=h.videoURL,ie=document.createElement("video");return ie.style.visibility="hidden",ie.position="absolute",ie.x=0,ie.y=0,ie.src=G,ie.setAttribute("data-video-url",oe),c&&ie.setAttribute("autoplay",c),g&&ie.setAttribute("playsinline",g),y&&ie.setAttribute("loop",y),I&&ie.setAttribute("muted",I),I&&(ie.muted=I),P&&ie.setAttribute("poster",P),ie.onload=function(){URL.revokeObjectURL(G)},ie}var Th=Eh;function Sh(h,c,g,y){var I=window,P=I.seeThru,G=I.setTimeout,oe=I.clearTimeout;return new Promise(function(ie,we){var Re=G(function(){we({status:"error",message:"Timeout instantiating seeThru instance"})},c);if(P)var $e=P.create(h).ready(function(){oe(Re);var it=$e.getCanvas();it.style.width="100%",it.className+=" "+g,y&&$e.play(),ie($e)});else we({status:"error",message:"Error instantiating seeThru instance"})})}var Nl=Sh;function Ih(h,c,g){var y=g.poster,I=g.autoplay,P=g.playsinline,G=g.loop,oe=g.muted;return c=c+".mp4",new Promise(function(ie,we){ff(g.externalLibraries.seeThru,g.max_timeout_ms,window.seeThru).then(function(){xh(c,g.max_timeout_ms).then(function(Re){var $e=Re.payload,it=Th({blobURL:$e.blobURL,videoURL:c,poster:y,autoplay:I,playsinline:P,loop:G,muted:oe});h.appendChild(it),Nl(it,g.max_timeout_ms,g.class,g.autoplay).then(function(){ie(h)}).catch(function(wt){we(wt)})}).catch(function(Re){var $e=Re.status,it=Re.message;we({status:$e,message:it})})}).catch(function(Re){var $e=Re.status,it=Re.message;we({status:$e,message:it})})})}var zu=Ih;function qu(){return new Promise(function(h,c){Vo()&&h(!1);var g=document.createElement("video"),y=g.canPlayType&&g.canPlayType('video/webm; codecs="vp9"');h(y==="maybe"||y==="probably")})}var Ah=qu;function ao(h){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ao(h)}function Ch(h,c){if(!(h instanceof c))throw new TypeError("Cannot call a class as a function")}function df(h,c){for(var g=0;g<c.length;g++){var y=c[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,kh(y.key),y)}}function Ph(h,c,g){return c&&df(h.prototype,c),g&&df(h,g),Object.defineProperty(h,"prototype",{writable:!1}),h}function kh(h){var c=hf(h,"string");return ao(c)=="symbol"?c:c+""}function hf(h,c){if(ao(h)!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var y=g.call(h,c);if(ao(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var mf,pf,gf,Rh,$u,Nh;gf=function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return g*Math.ceil(c/g)},pf=function(c,g){var y;for(y=c.length-2;y>=0&&c[y]>=g;)y--;return c[y+1]},mf=function(c,g,y,I){var P,G,oe,ie;return ie=(P=(G=(oe=I.responsive_use_breakpoints)!=null?oe:I.responsive_use_stoppoints)!=null?G:this.config("responsive_use_breakpoints"))!=null?P:this.config("responsive_use_stoppoints"),!ie||ie==="resize"&&!I.resizing?g:this.calc_breakpoint(c,g,y)},Rh=function(c){var g,y;for(g=0;(c=c!=null?c.parentNode:void 0)instanceof Element&&!g;)y=window.getComputedStyle(c),/^inline/.test(y.display)||(g=ll(c));return g},Nh=function(c,g){return c.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(g))},$u=function(c,g){var y;return y=Mn(g,"width")||0,c>y&&(y=c,Pi(g,"width",c)),y};var Oh=function(){function h(c){Ch(this,h);var g;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,g=new Ni(c),this.config=function(y,I){return g.config(y,I)},this.fromDocument=function(){return g.fromDocument(),this},this.fromEnvironment=function(){return g.fromEnvironment(),this},this.init=function(){return g.init(),this}}return Ph(h,[{key:"url",value:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $n(g,y,this.config())}},{key:"video_url",value:function(g,y){return y=Be()({resource_type:"video"},y),this.url(g,y)}},{key:"video_thumbnail_url",value:function(g,y){return y=Be()({},pn,y),this.url(g,y)}},{key:"transformation_string",value:function(g){return new Br(g).serialize()}},{key:"image",value:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I,P,G;return P=this.imageTag(g,y),I=(G=y.client_hints!=null?y.client_hints:this.config("client_hints"))!=null?G:!1,y.src==null&&!I&&P.setAttr("src",""),P=P.toDOM(),I||(Pi(P,"src-cache",this.url(g,y)),this.cloudinary_update(P,y)),P}},{key:"imageTag",value:function(g,y){var I;return I=new eo(g,this.config()),I.transformation().fromOptions(y),I}},{key:"pictureTag",value:function(g,y,I){var P;return P=new Sl(g,this.config(),I),P.transformation().fromOptions(y),P}},{key:"sourceTag",value:function(g,y){var I;return I=new Ou(g,this.config()),I.transformation().fromOptions(y),I}},{key:"video_thumbnail",value:function(g,y){return this.image(g,Le()({},pn,y))}},{key:"facebook_profile_image",value:function(g,y){return this.image(g,Be()({type:"facebook"},y))}},{key:"twitter_profile_image",value:function(g,y){return this.image(g,Be()({type:"twitter"},y))}},{key:"twitter_name_profile_image",value:function(g,y){return this.image(g,Be()({type:"twitter_name"},y))}},{key:"gravatar_image",value:function(g,y){return this.image(g,Be()({type:"gravatar"},y))}},{key:"fetch_image",value:function(g,y){return this.image(g,Be()({type:"fetch"},y))}},{key:"video",value:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.videoTag(g,y).toHtml()}},{key:"videoTag",value:function(g,y){return y=yn({},y,this.config()),new Sn(g,y)}},{key:"sprite_css",value:function(g,y){return y=Be()({type:"sprite"},y),g.match(/.css$/)||(y.format="css"),this.url(g,y)}},{key:"responsive",value:function(g){var y=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P,G,oe,ie,we,Re;if(this.responsiveConfig=Le()(this.responsiveConfig||{},g),ie=(P=this.responsiveConfig.responsive_class)!=null?P:this.config("responsive_class"),I&&this.cloudinary_update("img.".concat(ie,", img.cld-hidpi"),this.responsiveConfig),we=(G=(oe=this.responsiveConfig.responsive_resize)!=null?oe:this.config("responsive_resize"))!=null?G:!0,we&&!this.responsiveResizeInitialized){this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,Re=null;var $e=function(){var wt,Wn,pi,gi,lo,uo,yi;return wt=(Wn=(pi=y.responsiveConfig.responsive_debounce)!=null?pi:y.config("responsive_debounce"))!=null?Wn:100,gi=function(){Re&&(clearTimeout(Re),Re=null)},lo=function(){return y.cloudinary_update("img.".concat(ie),y.responsiveConfig)},yi=function(){return gi(),lo()},uo=function(){gi(),Re=setTimeout(yi,wt)},wt?uo():lo()};return window.addEventListener("resize",$e),function(){return window.removeEventListener("resize",$e)}}}},{key:"calc_breakpoint",value:function(g,y,I){var P=Mn(g,"breakpoints")||Mn(g,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||gf;return et()(P)?P(y,I):(de()(P)&&(P=P.split(",").map(function(G){return parseInt(G)}).sort(function(G,oe){return G-oe})),pf(P,y))}},{key:"calc_stoppoint",value:function(g,y,I){return this.calc_breakpoint(g,y,I)}},{key:"device_pixel_ratio",value:function(g){g=g??!0;var y=(typeof window<"u"&&window!==null?window.devicePixelRatio:void 0)||1;g&&(y=Math.ceil(y)),(y<=0||y===NaN)&&(y=1);var I=y.toString();return I.match(/^\d+$/)&&(I+=".0"),I}},{key:"processImageTags",value:function(g,y){if(ut(g))return this;y=yn({},y||{},this.config());var I=g.filter(function(P){return/^img$/i.test(P.tagName)}).map(function(P){var G=Be()({width:P.getAttribute("width"),height:P.getAttribute("height"),src:P.getAttribute("src")},y),oe=G.source||G.src;delete G.source,delete G.src;var ie=new Br(G).toHtmlAttributes();return Pi(P,"src-cache",$n(oe,G)),P.setAttribute("width",ie.width),P.setAttribute("height",ie.height),P});return this.cloudinary_update(I,y),this}},{key:"cloudinary_update",value:function(g,y){var I=this,P,G,oe,ie;if(g===null)return this;y==null&&(y={});var we=y.responsive!=null?y.responsive:this.config("responsive");g=wr(g);var Re;this.responsiveConfig&&this.responsiveConfig.responsive_class!=null?Re=this.responsiveConfig.responsive_class:y.responsive_class!=null?Re=y.responsive_class:Re=this.config("responsive_class");var $e=y.round_dpr!=null?y.round_dpr:this.config("round_dpr");return g.forEach(function(it){if(/img/i.test(it.tagName)){var wt=!0;if(we&&Or(it,Re),G=Mn(it,"src-cache")||Mn(it,"src"),!ut(G)){G=Nh.call(I,G,$e),Vi.isResponsive(it,Re)&&(P=Rh(it),P!==0?(/w_auto:breakpoints/.test(G)?(ie=$u(P,it),ie?G=G.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:".concat(ie)):wt=!1):(oe=/w_auto(:(\d+))?/.exec(G),oe&&(ie=mf.call(I,it,P,oe[2],y),ie=$u(ie,it),ie?G=G.replace(/w_auto[^,\/]*/g,"w_".concat(ie)):wt=!1)),ri(it,"width"),y.responsive_preserve_height||ri(it,"height")):wt=!1);var Wn=y.loading==="lazy"&&!I.isNativeLazyLoadSupported()&&I.isLazyLoadSupported()&&!g[0].getAttribute("src");(wt||Wn)&&I.setAttributeIfExists(g[0],"width","data-width"),wt&&!Wn&&wn(it,"src",G)}}}),this}},{key:"setAttributeIfExists",value:function(g,y,I){var P=g.getAttribute(I);P!=null&&wn(g,y,P)}},{key:"isLazyLoadSupported",value:function(){return window&&"IntersectionObserver"in window}},{key:"isNativeLazyLoadSupported",value:function(){return"loading"in HTMLImageElement.prototype}},{key:"transformation",value:function(g){return Br.new(this.config()).fromOptions(g).setParent(this)}},{key:"injectTransparentVideoElement",value:function(g,y){var I=this,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(G,oe){g||oe({status:"error",message:"Expecting htmlElContainer to be HTMLElement"}),Rl(P);var ie=I.video_url(y,P);Ah().then(function(we){var Re;we?(Re=lf(g,I,y,P),G(g)):Re=zu(g,ie,P),Re.then(function(){G(g)}).catch(function($e){var it=$e.status,wt=$e.message;oe({status:it,message:wt})})}).catch(function(we){var Re=we.status,$e=we.message;oe({status:Re,message:$e})})})}}],[{key:"new",value:function(g){return new this(g)}}])}();Be()(Oh,Q);var yf=Oh;B.default={ClientHintsMetaTag:Dt,Cloudinary:yf,Condition:St,Configuration:Ni,crc32:R,Expression:Rt,FetchLayer:_u,HtmlTag:Vi,ImageTag:eo,Layer:li,PictureTag:Sl,SubtitlesLayer:Ur,TextLayer:d,Transformation:Br,utf8_encode:ce,Util:Y,VideoTag:Sn}},"lodash/assign":function(J,B){J.exports=n},"lodash/cloneDeep":function(J,B){J.exports=s},"lodash/compact":function(J,B){J.exports=a},"lodash/difference":function(J,B){J.exports=l},"lodash/functions":function(J,B){J.exports=f},"lodash/identity":function(J,B){J.exports=p},"lodash/includes":function(J,B){J.exports=_},"lodash/isArray":function(J,B){J.exports=b},"lodash/isElement":function(J,B){J.exports=T},"lodash/isFunction":function(J,B){J.exports=A},"lodash/isPlainObject":function(J,B){J.exports=O},"lodash/isString":function(J,B){J.exports=j},"lodash/merge":function(J,B){J.exports=F},"lodash/trim":function(J,B){J.exports=D}})})}(Sm)),Sm.exports}var Jr=Q8();function Kn(){return Kn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Kn.apply(this,arguments)}function bb(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,J_(r,e)}function J_(r,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J_(r,e)}function Dd(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}var Y8=["public_id"],X8=["publicId"],J8=["children"],Z8=["children","accessibility","placeholder"],e7=Jr.Util.camelCase,t7=Jr.Util.withCamelCaseKeys,r7=Jr.Util.isEmpty,qP=["accessibility","breakpoints","dataSrc","placeholder","publicId","signature","authToken"],n7=[].concat(Jr.Transformation.PARAM_NAMES,qP).map(Jr.Util.camelCase).reduce(function(r,e){return r[e]=!0,r},{}),i7=function(e){return Object.entries(e).reduce(function(t,n){var s,a=n[0],l=n[1];return l==null?t:Kn({},t,(s={},s[a]=l,s))},{})},$P=function(e){var t=i7(e),n=Dd(t,Y8),s=Jr.Util.withSnakeCaseKeys(n);return Jr.Cloudinary.new(s)},s7=function(e,t){var n=e.publicId,s=Dd(e,X8),a=$P(s);return a[t+"Tag"](n,Jr.Util.withSnakeCaseKeys(s))},o7=function(e){return s7(e,"image")},kS=function(e,t){var n=Jr.Util.withSnakeCaseKeys(t),s=$P(n);return s.cloudinary_update(e,n),s.responsive(n,!1)},a7=function(e){var t=e.children,n=Dd(e,J8),s={children:t,cloudinaryProps:{},nonCloudinaryProps:{},cloudinaryReactProps:{}};return Object.keys(n).forEach(function(a){var l=Jr.Util.camelCase(a),f=n[a];n7[l]?n[a]!==void 0&&n[a]!==null&&(s.cloudinaryProps[l]=f):l==="includeOwnBody"?s.cloudinaryReactProps[l]=f:s.nonCloudinaryProps[a]=f}),s},HP=function(e,t){return!!(Fe.isValidElement(e)&&e.type&&e.type.displayName===t)},WP=function(){return[].slice.call(arguments).reduce(function(e,t){return Object.keys(t||{}).forEach(function(n){var s=t[n];s!=null&&(e[n]=s)}),e},{})},l7=function(e){var t=null;return e&&(t=Fe.Children.toArray(e).find(function(n){return HP(n,"CloudinaryPlaceholder")})),t},u7=function r(e){var t=e?Fe.Children.toArray(e).filter(function(n){return HP(n,"CloudinaryTransformation")}).map(function(n){var s=WP(n.props,n.context),a=r(n.props.children);return a&&(s.transformation=a),s}):[];return t.length?t:null},c7=function(e,t){return t===void 0&&(t=[]),e&&t.reduce(function(n,s){return s in e&&(n[s]=e[s]),n},{})},f7=function(e){e=e||[];for(var t={},n=0;n<e.length;n++){var s=e[n];t[e7(s)]=Sr.any}return t},d7=function(e){var t=e.children,n=e.accessibility,s=e.placeholder,a=Dd(e,Z8),l=c7(t7(a),Jr.Transformation.methods)||{},f=u7(t);r7(f)||(l.transformation=f);var p={accessibility:n,placeholder:s};return Object.keys(p).filter(function(_){return p[_]}).forEach(function(_){l[_]=p[_]}),l},h7=L.createContext(),m7=Jr.Util.camelCase,tl=function(r){bb(e,r);function e(n,s){var a;return a=r.call(this,n,s)||this,a.getContext=function(){return a.context||{}},a.onIntersect=function(){a.setState({isInView:!0})},a.getExtendedProps=function(l,f){return l===void 0&&(l=a.props),f===void 0&&(f=a.getContext()),WP(f,l)},a.attachRef=function(l){var f=a.props.innerRef;a.element.current=l,f&&(f instanceof Function?f(l):f.current=l)},a.element=L.createRef(),a}var t=e.prototype;return t.render=function(){return null},e}(L.PureComponent);tl.defaultProps={innerRef:null,publicId:null};tl.propTypes=Kn({},f7(Jr.Transformation.PARAM_NAMES.map(m7)),{innerRef:Sr.any,publicId:Sr.string});tl.contextType=h7;Kn({},tl.propTypes,{includeOwnBody:Sr.bool});var p7=["children","innerRef"],g7=`
Warning: passing a number value for width cancels the 'responsive' prop's effect on the image transformation.
The 'responsive' prop affects the image transformation only when width === 'auto'.
Passing 'width="auto" responsive' will affect the actual image width that is fetched from Cloudinary.
The 'responsive' prop causes the Image component to request an image which width is equal to the width of it's container.
When passing 'width="auto" responsive', you can set the <img> element width by passing a 'style' prop`.trim(),Nc=function(r){bb(e,r);function e(n,s){var a;return a=r.call(this,n,s)||this,a.isResponsive=function(){var l=a.getExtendedProps(),f=l.responsive,p=l.width;return f&&p!=="auto"&&console.warn(g7),f&&a.element&&a.element.current},a.getOptions=function(){var l=a.getExtendedProps(),f=Kn({},l,d7(l)),p=Dd(f,p7);return a.shouldLazyLoad()||delete p.loading,p},a.getAttributes=function(l){l===void 0&&(l={});var f=l,p=f.placeholder,_=a7(Kn({},a.getOptions(),l)),b=_.cloudinaryProps,T=_.nonCloudinaryProps,A=_.cloudinaryReactProps,O=o7(Kn({},b,A)),j=Jr.Util.withCamelCaseKeys(O.attributes()),F=Kn({},j,T);return F.dataSrc&&(F["data-src"]=F.dataSrc),p&&F.id&&(F.id+="-cld-placeholder"),a.shouldLazyLoad()&&(F["data-src"]=F.dataSrc||F.src,delete F.src),qP.forEach(function(D){delete F[D]}),F},a.update=function(){if(a.shouldLazyLoad())Jr.Util.detectIntersection(a.element.current,a.onIntersect);else if(a.isResponsive()){var l=a.getOptions(),f=a.getPlaceholderType();if(f){var p=kS(a.placeholderElement.current,Kn({},l,{placeholder:f}));a.listenerRemovers.push(p)}var _=kS(a.element.current,l);a.listenerRemovers.push(_)}},a.shouldLazyLoad=function(){var l=a.getExtendedProps(),f=l.loading,p=a.state.isInView;return!p&&(f==="lazy"||f==="auto")},a.handleImageLoaded=function(){var l=a.props.onLoad;a.setState({isLoaded:!0},function(){l&&l()})},a.renderPlaceholder=function(l,f){f.style=Kn({},f.style||{},{opacity:0,position:"absolute"}),f.onLoad=a.handleImageLoaded;var p={display:"inline"},_=a.getAttributes({placeholder:l});return Fe.createElement(L.Fragment,null,a.renderImage(f),Fe.createElement("div",{style:p},Fe.createElement("img",Kn({ref:a.placeholderElement},_))))},a.renderImage=function(l){return Fe.createElement("img",Kn({ref:a.attachRef},l))},a.getPlaceholderType=function(){var l=a.getExtendedProps(),f=l.children,p=l7(f);return p?p.props.type:null},a.placeholderElement=L.createRef(),a.state={isLoaded:!1},a.listenerRemovers=[],a}var t=e.prototype;return t.componentDidMount=function(){this.update()},t.componentDidUpdate=function(){this.update()},t.componentWillUnmount=function(){this.listenerRemovers.forEach(function(s){return s()})},t.render=function(){var s=this.state.isLoaded,a=this.getAttributes(),l=this.getPlaceholderType();return!s&&l?this.renderPlaceholder(l,a):this.renderImage(a)},e}(tl);Nc.defaultProps={};Nc.propTypes=tl.propTypes;Nc.propTypes.responsive=Sr.bool;Nc.propTypes.loading=Sr.string;Nc.propTypes.accessibility=Sr.string;var Ld=function(r){bb(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){return null},e}(tl);Ld.propTypes=tl.propTypes;Ld.defaultProps={};Ld.exposesProps=!0;Ld.displayName="CloudinaryTransformation";Sr.string,Sr.arrayOf(Sr.shape({type:Sr.string,codecs:Sr.oneOfType([Sr.string,Sr.arrayOf(Sr.string)]),transformations:Sr.object}));Jr.Cloudinary.DEFAULT_VIDEO_PARAMS.source_types;Sr.string;Sr.string;const Z_=({publicId:r,src:e,alt:t="",width:n="auto",height:s="auto",className:a="",crop:l="fill",gravity:f="auto",quality:p="auto",fetchFormat:_="auto",fallback:b=null,...T})=>{const[A,O]=L.useState(!1);return A&&b?v.jsx("img",{src:b,alt:t,className:a}):e&&!r?v.jsx("img",{src:e,alt:t,className:a,onError:()=>O(!0),...T}):r?(console.log("Rendering Cloudinary Image with publicId:",r),console.log("Cloud Name:","dzyfwphq9"),v.jsx(Nc,{cloudName:"dzyfwphq9",publicId:r,alt:t,className:a,loading:"lazy",onError:j=>{console.error("Cloudinary Image Error:",j),O(!0)},onLoad:()=>console.log("Image loaded successfully"),...T,children:v.jsx(Ld,{width:n,height:s,crop:l,gravity:f,quality:p,fetchFormat:_})})):null},y7=({isOpen:r,onClose:e})=>{const[t,n]=L.useState({name:"",email:"",mobile:""}),[s,a]=L.useState(!1),[l,f]=L.useState(null);L.useEffect(()=>{try{const b=HC(Id,"us-central1");f(b)}catch(b){console.error("Failed to initialize Firebase Functions:",b)}},[]);const p=b=>{const{name:T,value:A}=b.target;n(O=>({...O,[T]:A}))},_=async b=>{var T;if(b.preventDefault(),!t.name||!t.email||!t.mobile){dt.error("Please fill in all fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}if(!/^\S+@\S+\.\S+$/.test(t.email)){dt.error("Please enter a valid email address",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}a(!0),console.log("Form submission started",{formData:t});try{if(!l)throw new Error("Firebase Functions not available. Please try again later.");const A=nb(l,"handleLearnMoreForm");console.log("Calling handleLearnMoreForm with data:",{name:t.name.trim(),email:t.email.trim(),mobile:t.mobile.trim()});const O=await A({name:t.name.trim(),email:t.email.trim(),mobile:t.mobile.trim()});dt.success(((T=O.data)==null?void 0:T.message)||"Thank you for your interest! We will contact you soon.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),n({name:"",email:"",mobile:""}),e()}catch(A){console.error("Error in form submission:",{message:A.message,code:A.code,details:A.details,stack:A.stack});let O="An error occurred. Please try again later.";A.code==="invalid-argument"?O=A.message||"Please check your input and try again.":A.message&&(O=A.message),dt.error(O,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{console.log("Form submission process completed"),a(!1)}};return r?v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md relative",children:[v.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close",children:v.jsx(sP,{className:"h-6 w-6"})}),v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Request More Information"}),v.jsx("form",{onSubmit:_,children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),v.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"John Doe",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),v.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"john@example.com",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number *"}),v.jsx("input",{type:"tel",id:"mobile",name:"mobile",value:t.mobile,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"+1 (555) 123-4567",required:!0})]}),v.jsx("div",{className:"pt-2",children:v.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary-dark transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-70 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit"})})]})})]})]})}):null},xb="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='800'%20height='600'%20viewBox='0%200%20800%20600'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Background%20--%3e%3crect%20width='800'%20height='600'%20fill='%23F3F4F6'/%3e%3c!--%20Document%20Outline%20--%3e%3crect%20x='100'%20y='100'%20width='600'%20height='400'%20rx='8'%20fill='white'%20stroke='%23E5E7EB'%20stroke-width='2'/%3e%3c!--%20Document%20Header%20--%3e%3crect%20x='120'%20y='140'%20width='560'%20height='24'%20rx='4'%20fill='%23E5E7EB'/%3e%3crect%20x='120'%20y='180'%20width='400'%20height='20'%20rx='4'%20fill='%23E5E7EB'/%3e%3crect%20x='120'%20y='210'%20width='480'%20height='20'%20rx='4'%20fill='%23E5E7EB'/%3e%3c!--%20Content%20Lines%20--%3e%3crect%20x='120'%20y='260'%20width='560'%20height='16'%20rx='4'%20fill='%23F3F4F6'/%3e%3crect%20x='120'%20y='290'%20width='520'%20height='16'%20rx='4'%20fill='%23F3F4F6'/%3e%3crect%20x='120'%20y='320'%20width='540'%20height='16'%20rx='4'%20fill='%23F3F4F6'/%3e%3crect%20x='120'%20y='350'%20width='500'%20height='16'%20rx='4'%20fill='%23F3F4F6'/%3e%3c!--%20Blog%20Icon%20--%3e%3cpath%20d='M400%20220C400%20220%20380%20180%20340%20180C300%20180%20280%20220%20280%20220'%20stroke='%239CA3AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M340%20300C367.614%20300%20390%20277.614%20390%20250C390%20222.386%20367.614%20200%20340%20200C312.386%20200%20290%20222.386%20290%20250C290%20277.614%20312.386%20300%20340%20300Z'%20fill='%23E5E7EB'/%3e%3cpath%20d='M340%20300C367.614%20300%20390%20277.614%20390%20250C390%20222.386%20367.614%20200%20340%20200C312.386%20200%20290%20222.386%20290%20250C290%20277.614%20312.386%20300%20340%20300Z'%20stroke='%239CA3AF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M340%20240C341.105%20240%20342%20239.105%20342%20238C342%20236.895%20341.105%20236%20340%20236C338.895%20236%20338%20236.895%20338%20238C338%20239.105%20338.895%20240%20340%20240Z'%20fill='%239CA3AF'/%3e%3cpath%20d='M340%20260C340.828%20260%20341.5%20259.328%20341.5%20258.5C341.5%20257.672%20340.828%20257%20340%20257C339.172%20257%20338.5%20257.672%20338.5%20258.5C338.5%20259.328%20339.172%20260%20340%20260Z'%20fill='%239CA3AF'/%3e%3c!--%20Footer%20--%3e%3crect%20x='120'%20y='400'%20width='200'%20height='12'%20rx='4'%20fill='%23E5E7EB'/%3e%3crect%20x='480'%20y='400'%20width='200'%20height='12'%20rx='4'%20fill='%23E5E7EB'/%3e%3c/svg%3e",RS=xb,v7=()=>{const[r,e]=L.useState(!1),[t,n]=L.useState([]),[s,a]=L.useState(0),[l]=L.useState([{id:1,name:"Rajeshbhai Patel",role:"Organic Farmer, Dahod District",content:"Earlier, I had to wait in long lines at APMC and still sell my vegetables at whatever price middlemen decided. With EGE, I get paid fairly, directly, and fast. My income is more stable now, and my children go to a better school.",rating:5,image:"/assets/Rajeshbhai.jpg"},{id:2,name:"Kiranben Parmar",role:"Female Farmer, Anand",content:`Before EGE, we didn't even know what "organic certification" was. Now, EGE's team helps us grow chemical-free vegetables and sell them in cities where people value health. My land finally feels respected.`,rating:5,image:"/assets/Kiranben Parmar.png"},{id:3,name:"Iqbalbhai Sheikh",role:"Tomato Farmer, Junagadh",content:"I used to throw away unsold vegetables every week. Now, EGE gives us daily demand updates so I grow exactly what is needed. No wastage, better planning, and more earnings!",rating:5,image:"/assets/Iqbalbhai Sheikh.png"},{id:4,name:"Rameshbhai Vaghela",role:"Farmer & Father of Two",content:"I've been farming for 20 years. This is the first time someone cared about us beyond just buying vegetables. EGE gave us training, fair rates, and respect. It doesn't feel like a company — it feels like family.",rating:5,image:"/assets/Rameshbhai Vaghela.png"},{id:5,name:"Sangeetaben Rathod",role:"Small-Scale Farmer, Bharuch",content:"We had no cold storage. Our harvest would rot in summer. Now with EGE's collection centers and cold storage, we don't lose a single crate. My income has doubled in just 3 months.",rating:5,image:"/assets/Sangeetaben Rathod.png"},{id:6,name:"Nidhi Patel",role:"Homemaker",content:"Since I started ordering from EGE, I've noticed a visible difference in the freshness and taste of my vegetables. It's not just organic – it feels trustworthy.",rating:5,image:"/assets/Nidhi Patel.png"},{id:7,name:"Mahesh Sharma",role:"Farmer, Anand",content:"EGE की वजह से मेरी बेटी अब प्राइवेट स्कूल में पढ़ती है। सही दाम मिलते हैं और खेती का सम्मान भी। ये सिर्फ एक कंपनी नहीं, परिवार जैसा है।",rating:5,image:"/assets/Mahesh Sharma.png"},{id:8,name:"Kamalaben",role:"Female Farmer, Bhavnagar",content:"EGE के आने से हमें सिखाया गया कि ऑर्गेनिक क्या होता है। अब हम ज़हरीले खाद से मुक्त फसल उगाते हैं और शहरों में हमारे माल की डिमांड है।",rating:5,image:"/assets/Kamalaben.png"},{id:9,name:"Ashokbhai Chaudhary",role:"Farmer, Amreli",content:"पहले सब्जी बेचना मतलब घाटा उठाना, अब EGE के साथ जुड़कर हर महीने घर चलाना आसान हो गया है। बहुत शुक्रिया!",rating:5,image:"/assets/Ashokbhai Chaudhary.png"},{id:10,name:"Kiranben Parmar",role:"Farmer, Nadiad",content:"મારે ક્યારેય લાગ્યું નહીં કે મને યારદા પાક ઉગાડવામાં મદદ મળી શકે છે. EGE એ મને ઓર્ગેનિક ખેતીના માર્ગ બતાવ્યા, હવે હું કેમિકલ વગરનો પાક ઉગાડું છું અને મારા ધંધામાં વધારે નફો છે.",rating:5,image:"/assets/Kiranben Parmar.png"},{id:11,name:"Chef Amit Rao",role:"Restaurant Owner, Ahmedabad",content:"As a restaurant owner, sourcing directly from farmers through EGE helps me serve fresher dishes and support Indian agriculture at the same time.",rating:5,image:"/assets/Chef Amit Rao.png"},{id:12,name:"Rahul Mehta",role:"IT Professional",content:"The subscription model is a game-changer! I get fresh veggies delivered without even thinking about it – and it's cheaper than the sabziwala.",rating:5,image:"/assets/Rahul Mehta.png"},{id:13,name:"Priya Mehta",role:"School Teacher, Ahmedabad",content:"EGE is not just delivering vegetables — they're delivering hope. I feel good knowing I'm feeding my family clean food while supporting a farmer's child's education.",rating:5,image:"/assets/Priya Mehta.png"},{id:14,name:"Chef Nishant R.",role:"Premium Hotel Chain",content:"Our hotel switched to EGE for their subscription supply — the consistency, the quality, and the traceability are unmatched. Guests notice the difference.",rating:5,image:"/assets/Chef Nishant R..png"},{id:15,name:"Ravi Joshi",role:"Young Professional",content:`I subscribed to the "Rainbow Plan" – every week feels new! It's like my kitchen got healthier and more exciting overnight.`,rating:5,image:"/assets/Ravi Joshi.png"}]),f=L.useRef(null),p=b=>{if(!b)return"2 min read";const T=b.split(/\s+/).length;return`${Math.ceil(T/200)} min read`},_=b=>Array(5).fill(0).map((T,A)=>v.jsx(IF,{className:`h-5 w-5 ${A<b?"text-yellow-400":"text-gray-300"}`,"aria-hidden":"true"},A));return L.useEffect(()=>{const b=setInterval(()=>{a(T=>(T+1)%l.length)},5e3);return()=>clearInterval(b)},[l.length]),L.useEffect(()=>{console.log("Cloudinary Config:",{cloudName:"dzyfwphq9",uploadPreset:"blog-images"}),f.current&&f.current.play().catch(T=>{console.log("Auto-play was prevented:",T)}),(async()=>{try{const T=Io(Nn,"blogPosts"),A=Zl(T,wc("isPublished","==",!0),DC("createdAt","desc"),h6(3)),O=await eu(A),j=[];O.forEach(F=>{var Q;const D=F.data();console.log("Raw post data:",D);const J=D.slug||(D.title?D.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-"):""),B=["bannerImage","imageUrl","image","featuredImage","coverImage"];let k="";for(const Y of B)if(D[Y]){k=D[Y],console.log(`Found image in field '${Y}':`,k);break}j.push({id:F.id,...D,slug:J||F.id,title:D.title||"Untitled Post",excerpt:D.excerpt||"",bannerImage:k,imagePublicId:D.imagePublicId||null,date:((Q=D.createdAt)==null?void 0:Q.toDate())||new Date,readTime:p(D.content||"")})}),n(j)}catch(T){console.error("Error fetching latest posts:",T)}})()},[]),v.jsxs("div",{className:"min-h-screen",children:[v.jsxs("section",{className:"relative h-screen flex items-center justify-center text-white overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 z-0",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 z-10"}),v.jsxs("video",{ref:f,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"absolute inset-0 w-full h-full object-cover",style:{backgroundColor:"#000"},children:[v.jsx("source",{src:"https://cdn.pixabay.com/video/2024/07/24/222922_tiny.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})]}),v.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[v.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",style:{color:"#E64A9B"},children:"Nurturing Nature's Bounty"}),v.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-white",children:"Discover the purest organic produce, grown with care and respect for the environment."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[v.jsxs(kt,{to:"/about",className:"btn btn-primary inline-flex items-center justify-center px-8 py-3 text-lg font-medium",children:["Explore EGE",v.jsx(tc,{className:"ml-2 h-5 w-5"})]}),v.jsx("button",{onClick:()=>e(!0),className:"btn bg-white text-primary hover:bg-gray-100 inline-flex items-center justify-center px-8 py-3 text-lg font-medium",children:"Learn More"})]})]}),v.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2",children:v.jsx("div",{className:"animate-bounce",children:v.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]}),v.jsx("section",{className:"py-20 bg-gray-50",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose EGE Organic?"}),v.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"We're committed to sustainable farming practices that benefit both people and the planet."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:v.jsx("svg",{className:"h-12 w-12 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Fast Growth",description:"Utilizing innovative techniques to ensure quick and healthy plant growth."},{icon:v.jsx("svg",{className:"h-12 w-12 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),title:"100% Organic",description:"No harmful chemicals or pesticides, just pure and natural farming."},{icon:v.jsx("svg",{className:"h-12 w-12 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),title:"Affordable",description:"High-quality organic produce at prices that work for everyone."}].map((b,T)=>v.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 text-center",children:[v.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:b.icon}),v.jsx("h3",{className:"text-xl font-semibold mb-3",children:b.title}),v.jsx("p",{className:"text-gray-600",children:b.description})]},T))})]})}),v.jsx("section",{className:"py-20",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Our Featured Products"}),v.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover our selection of fresh, organic produce grown with care and passion."})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[{name:"Organic Vegetables",description:"Fresh, seasonal vegetables grown without synthetic pesticides or fertilizers.",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80"},{name:"Fresh Fruits",description:"Naturally sweet and nutritious fruits from our organic orchards.",image:"https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80"},{name:"Organic Grains",description:"Wholesome grains cultivated using sustainable farming methods.",image:"https://images.unsplash.com/photo-1587049352846-4a222e784d38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1102&q=80"}].map((b,T)=>v.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300",children:[v.jsx("div",{className:"h-64 overflow-hidden",children:v.jsx("img",{src:b.image,alt:b.name,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-500"})}),v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"text-xl font-semibold mb-2",children:b.name}),v.jsx("p",{className:"text-gray-600 mb-4",children:b.description}),v.jsxs("button",{onClick:()=>e(!0),className:"text-primary font-medium inline-flex items-center group",children:["Learn more",v.jsx(tc,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},T))}),v.jsx("div",{className:"text-center mt-12",children:v.jsxs(kt,{to:"/contact",className:"btn btn-primary inline-flex items-center px-8 py-3 text-lg font-medium",children:["Inquire Now",v.jsx(tc,{className:"ml-2 h-5 w-5"})]})})]})}),v.jsx("section",{className:"py-20 bg-white",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Voices from the Farms – Farmer Testimonials"}),v.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Real stories. Real change. Brought to life by EGE.            "})]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"overflow-hidden",children:v.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${s*100}%)`},children:l.map((b,T)=>v.jsx("div",{className:"w-full flex-shrink-0 px-4",children:v.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-4xl mx-auto",children:v.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[v.jsx("img",{src:b.image,alt:b.name,className:"w-24 h-24 rounded-full object-cover mb-6 md:mb-0 md:mr-8"}),v.jsxs("div",{className:"text-center md:text-left",children:[v.jsx("div",{className:"flex justify-center md:justify-start mb-4",children:_(b.rating)}),v.jsxs("p",{className:"text-lg text-gray-700 mb-4 italic",children:['"',b.content,'"']}),v.jsx("h4",{className:"text-xl font-semibold",children:b.name}),v.jsx("p",{className:"text-gray-600",children:b.role})]})]})})},b.id))})}),v.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:l.map((b,T)=>v.jsx("button",{onClick:()=>a(T),className:`w-3 h-3 rounded-full transition-colors ${T===s?"bg-primary":"bg-gray-300"}`,"aria-label":`Go to testimonial ${T+1}`},T))}),v.jsx("button",{onClick:()=>a(b=>(b-1+l.length)%l.length),className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50","aria-label":"Previous testimonial",children:v.jsx("svg",{className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),v.jsx("button",{onClick:()=>a(b=>(b+1)%l.length),className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50","aria-label":"Next testimonial",children:v.jsx("svg",{className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),t.length>0&&v.jsx("section",{className:"py-20 bg-white",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Latest News & Updates"}),v.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Stay updated with the latest news, tips, and insights from the world of organic farming"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(b=>v.jsxs("article",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[v.jsx("div",{className:"h-48 overflow-hidden",children:b.bannerImage?v.jsx("img",{src:b.bannerImage,alt:b.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500",onError:T=>{T.target.onerror=null,T.target.src=RS}}):v.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:v.jsx("img",{src:RS,alt:b.title,className:"h-24 w-24 opacity-50"})})}),v.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[v.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(nP,{className:"h-4 w-4 mr-1"}),v.jsx("span",{children:pP(b.date)})]}),v.jsx("span",{className:"mx-2",children:"•"}),v.jsx("span",{children:b.readTime})]}),v.jsx("h3",{className:"text-xl font-semibold mb-3 line-clamp-2",children:v.jsx(kt,{to:`/blog/${b.slug||b.id}`,className:"hover:text-primary transition-colors",children:b.title})}),v.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 flex-grow",children:b.excerpt||"Read more about this article..."}),v.jsxs(kt,{to:`/blog/${b.slug||b.id}`,className:"text-primary font-medium inline-flex items-center group mt-auto",children:["Read more",v.jsx(tc,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},b.id))}),v.jsx("div",{className:"text-center mt-12",children:v.jsxs(kt,{to:"/blog",className:"btn btn-primary inline-flex items-center px-8 py-3 text-lg font-medium",children:["View All Articles",v.jsx(tc,{className:"ml-2 h-5 w-5"})]})})]})}),v.jsx("section",{className:"py-20 bg-primary text-white",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Ready to Go Organic?"}),v.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join us in our mission to promote healthy living through organic farming."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[v.jsx(kt,{to:"/contact",className:"btn bg-white text-primary hover:bg-gray-100 inline-flex items-center justify-center px-8 py-3 text-lg font-medium",children:"Contact Us"}),v.jsx("button",{onClick:()=>e(!0),className:"btn border-2 border-white text-white hover:bg-white/10 inline-flex items-center justify-center px-8 py-3 text-lg font-medium",children:"Learn More"})]})]})}),v.jsx(y7,{isOpen:r,onClose:()=>e(!1)})]})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w7=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),NS=r=>{const e=w7(r);return e.charAt(0).toUpperCase()+e.slice(1)},GP=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),b7=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:l,...f},p)=>L.createElement("svg",{ref:p,...x7,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:GP("lucide",s),...!a&&!b7(f)&&{"aria-hidden":"true"},...f},[...l.map(([_,b])=>L.createElement(_,b)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=(r,e)=>{const t=L.forwardRef(({className:n,...s},a)=>L.createElement(E7,{ref:a,iconNode:e,className:GP(`lucide-${_7(NS(r))}`,`lucide-${r}`,n),...s}));return t.displayName=NS(r),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M2 22c1.25-.987 2.27-1.975 3.9-2.2a5.56 5.56 0 0 1 3.8 1.5 4 4 0 0 0 6.187-2.353 3.5 3.5 0 0 0 3.69-5.116A3.5 3.5 0 0 0 20.95 8 3.5 3.5 0 1 0 16 3.05a3.5 3.5 0 0 0-5.831 1.373 3.5 3.5 0 0 0-5.116 3.69 4 4 0 0 0-2.348 6.155C3.499 15.42 4.409 16.712 4.2 18.1 3.926 19.743 3.014 20.732 2 22",key:"1134nt"}],["path",{d:"M2 22 17 7",key:"1q7jp2"}]],I7=T7("leafy-green",S7),A7=()=>v.jsxs("div",{className:"min-h-screen",children:[v.jsxs("section",{className:"relative py-32 bg-gradient-to-r from-primary/90 to-secondary/90 text-white overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 z-0",children:[v.jsx("div",{className:"absolute inset-0 bg-black/50"}),v.jsx("img",{src:"https://images.unsplash.com/photo-1464226184884-fa280b87c399?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",alt:"Farm Field",className:"w-full h-full object-cover"})]}),v.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[v.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 text-white",children:"About EGE Organics"}),v.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto text-white",children:"Pioneering sustainable agriculture for a healthier planet and future generations."})]})]}),v.jsx("section",{className:"py-20",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[v.jsxs("div",{className:"text-center md:text-left",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Our Story"}),v.jsxs("div",{className:"space-y-4 text-gray-700",children:[v.jsx("p",{children:"At EGE – Everything Green Everywhere, we believe food should nourish not just the body, but also the earth and the people who grow it. Born in the heart of Gujarat, EGE Organics & Naturals is more than a brand it’s a community-driven movement to reconnect Indians with the roots of our food: our farmers. While most brands talk about organic, we act on it delivering fresh, chemical-free produce to your doorstep and sharing profits directly with the farmers."}),v.jsx("p",{children:"We believe that food is trust. That’s why every item you receive from us has a story , a mother in Dahod growing pesticide-free spinach, a young boy in Junagadh whose school fees are paid through our customer wellness fund."}),v.jsx("p",{children:"We don’t do “15-minute delivery.” We do timely, cold-chain delivery with purpose, where each box lowers emissions, supports education, and brings you honest nutrition."}),v.jsx("p",{children:"So when you buy from EGE, you’re not just buying fresh vegetables. You’re buying hope, health, and a better India  for you, and for them."})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"rounded-lg overflow-hidden h-64 shadow-lg group",children:[v.jsx("img",{src:"https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-4.0.3&auto=format&fit=crop&w=1932&q=80",alt:"Organic farm field with rows of green plants under blue sky",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),v.jsx("div",{className:"absolute bottom-0 right-0 bg-black/60 text-white text-xs px-2 py-1 rounded-tl-md"})]}),v.jsxs("div",{className:"rounded-lg overflow-hidden h-64 shadow-lg group",children:[v.jsx("img",{src:"https://images.unsplash.com/photo-1451440063999-77a8b2960d2b?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Green vegetable field with mountains in the background",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),v.jsx("div",{className:"absolute bottom-0 right-0 bg-black/60 text-white text-xs px-2 py-1 rounded-tl-md"})]}),v.jsx("div",{className:"rounded-lg overflow-hidden h-64",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1464226184884-fa280b87c399?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Harvesting",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500"})}),v.jsx("div",{className:"rounded-lg overflow-hidden h-64",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1332&q=80",alt:"Fresh Produce",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500"})})]})]})})}),v.jsx("section",{className:"py-20 bg-gray-50",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Our Core Values"}),v.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"These principles guide every decision we make and every action we take."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[{icon:v.jsx(FM,{className:"h-10 w-10 text-primary"}),title:"Integrity in Every Bite",description:"What you see is what you get. No chemicals. No middlemen. No lies."},{icon:v.jsx(aF,{className:"h-10 w-10 text-primary"}),title:"Farmers First",description:"We are a business built around dignity for farmers and fair pricing."},{icon:v.jsx(GM,{className:"h-10 w-10 text-primary"}),title:"For the Next Generation",description:"Every sale contributes to a farmer’s child’s education."},{icon:v.jsx(I7,{className:"h-10 w-10 text-primary"}),title:"Planet Positive ",description:" From reusable packaging to optimized logistics, we are climate-conscious."}].map((r,e)=>v.jsxs("div",{className:"flex flex-col items-center text-center bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 h-full",children:[v.jsx("div",{className:"bg-primary/10 p-3 rounded-full w-14 h-14 flex items-center justify-center mb-4",children:r.icon}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.title}),v.jsx("p",{className:"text-gray-600 text-sm",children:r.description})]},e))})]})}),v.jsx("section",{className:"py-20 bg-primary text-white",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Join Us in Our Mission"}),v.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Together, we can create a more sustainable future through organic farming."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[v.jsx(kt,{to:"/contact",className:"bg-white text-primary px-8 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors duration-200",children:"Contact Us"}),v.jsx(kt,{to:"/about",className:"border-2 border-white text-white hover:bg-white/10 px-8 py-3 rounded-md font-medium transition-colors duration-200",children:"Learn More"})]})]})})]}),OS=xb,C7=()=>{const[r,e]=L.useState([]),[t,n]=L.useState([]),[s,a]=L.useState(!0),[l,f]=L.useState(null),[p,_]=L.useState(""),[b,T]=L.useState("all");L.useEffect(()=>{(async()=>{try{a(!0),console.log("Fetching blog data...");const F=Io(Nn,"blogPosts"),D=Zl(F,wc("isPublished","==",!0)),J=Io(Nn,"blogCategories"),B=Zl(J);console.log("Executing Firestore queries...");const[k,Q]=await Promise.all([eu(D).catch(M=>{throw console.error("Error fetching posts:",M),new Error(`Failed to fetch posts: ${M.message}`)}),eu(B).catch(M=>{throw console.error("Error fetching categories:",M),new Error(`Failed to fetch categories: ${M.message}`)})]);console.log("Processing posts...");const Y=[];k.forEach(M=>{var V;const R=M.data();Y.push({id:M.id,...R,date:((V=R.createdAt)==null?void 0:V.toDate())||new Date})}),console.log("Processing categories...");const ce=[];Q.forEach(M=>{const R=M.data();ce.push({id:M.id,...R})}),console.log(`Found ${Y.length} posts and ${ce.length} categories`),e(Y),n(ce),f(null)}catch(F){console.error("Error in fetchBlogData:",F),f(`Failed to load blog data: ${F.message}. Please check the console for more details.`)}finally{a(!1)}})()},[]);const A=r.filter(j=>{const F=j.title.toLowerCase().includes(p.toLowerCase())||j.excerpt&&j.excerpt.toLowerCase().includes(p.toLowerCase()),D=b==="all"||j.categories&&j.categories.includes(b);return F&&D}),O=j=>{if(!j)return"2 min read";const F=j.split(/\s+/).length;return`${Math.ceil(F/200)} min read`};return s?v.jsx("div",{className:"min-h-screen pt-24 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading blog posts..."})]})}):l?v.jsx("div",{className:"min-h-screen pt-24 flex items-center justify-center",children:v.jsxs("div",{className:"text-center p-8 max-w-2xl mx-4 bg-red-50 rounded-lg",children:[v.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),v.jsx("p",{className:"text-gray-700 mb-6",children:l}),v.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors",children:"Retry"})]})}):!s&&A.length===0?v.jsx("div",{className:"min-h-screen pt-24 flex items-center justify-center",children:v.jsxs("div",{className:"text-center p-8",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No blog posts found"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Check back later for new articles."}),v.jsx(kt,{to:"/",className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors inline-block",children:"Back to Home"})]})}):v.jsxs("div",{className:"min-h-screen pt-24",children:[v.jsxs(TI,{children:[v.jsx("title",{children:"Blog | EGE Organic"}),v.jsx("meta",{name:"description",content:"Read our latest articles on organic farming, sustainable agriculture, and healthy living."})]}),v.jsx("section",{className:"bg-gradient-to-r from-green-50 to-blue-50 py-16",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-gray-900",children:"EGE Organic's Blog"}),v.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Insights, tips, and stories about organic farming, sustainable living, and healthy eating."})]})}),v.jsx("section",{className:"py-12 bg-white",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[v.jsx("div",{className:"w-full md:w-1/3",children:v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:v.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),v.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search articles...",value:p,onChange:j=>_(j.target.value)})]})}),v.jsx("div",{className:"w-full md:w-auto",children:v.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[v.jsx("button",{onClick:()=>T("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${b==="all"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),t.map(j=>v.jsx("button",{onClick:()=>T(j.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${b===j.id?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.name},j.id))]})})]}),s?v.jsx("div",{className:"flex justify-center items-center py-20",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):l?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-red-600 mb-4",children:v.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),v.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Error loading posts"}),v.jsx("p",{className:"mt-1 text-gray-500",children:l}),v.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Try Again"})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:A.map(j=>{const F=O(j.content);return v.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[v.jsx("div",{className:"w-full h-48 overflow-hidden rounded-t-lg",children:j.bannerImage?v.jsx("img",{src:j.bannerImage,alt:j.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500",onError:D=>{D.target.onerror=null,D.target.src=OS}}):v.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:v.jsx("img",{src:OS,alt:j.title,className:"h-24 w-24 opacity-50"})})}),v.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[v.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx(nP,{className:"h-4 w-4 mr-1"}),j.createdAt?pP(j.createdAt):"N/A"]}),v.jsx("span",{className:"mx-2",children:"•"}),v.jsxs("span",{className:"flex items-center",children:[v.jsx(Wm,{className:"h-4 w-4 mr-1"}),F]})]}),v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:v.jsx(kt,{to:`/blog/${j.slug||j.id}`,className:"hover:text-indigo-600 transition-colors",children:j.title})}),v.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 flex-grow",children:j.excerpt||"No excerpt available"}),v.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-100",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-medium",children:j.authorName?j.authorName.charAt(0).toUpperCase():"A"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:j.authorName||"Admin"})]}),j.category&&v.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:j.category})]})]})]},j.id)})}),A.length===0&&v.jsxs("div",{className:"text-center py-12",children:[v.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No blog posts found"}),v.jsx("p",{className:"mt-1 text-gray-500",children:p?`No posts match your search for "${p}".`:activeCategory!=="All"?`No posts found in the ${activeCategory} category.`:"No blog posts available at the moment."}),p&&v.jsx("button",{onClick:()=>_(""),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Clear search"})]})]})]})})]})},P7=["Vegetables","Fruits","Health"],k7={Vegetables:5,Fruits:3,Health:4},R7=["Vegetables","Fruits","Health"],jS=xb;function N7(){var J,B;const{slug:r}=gR(),e=Ec(),t=L.useRef(null),[n,s]=L.useState(null),[a,l]=L.useState(!0),[f,p]=L.useState(""),[_,b]=L.useState(0),[T,A]=L.useState([]),[O,j]=L.useState([]);L.useEffect(()=>{(async()=>{try{l(!0);const Q=Io(Nn,"blogPosts"),Y=Zl(Q,wc("slug","==",r),wc("isPublished","==",!0)),ce=await eu(Y);if(ce.empty){p("Post not found");return}const M={id:ce.docs[0].id,...ce.docs[0].data()};if(s(M),b(M.views||0),M.id)try{const R=Jl(Nn,"blogPosts",M.id);await VC(R,{views:b6(1)})}catch(R){console.error("Error updating view count:",R)}if(M.content){const V=new DOMParser().parseFromString(M.content,"text/html"),$=Array.from(V.querySelectorAll("h1, h2, h3, h4, h5, h6"));A($)}}catch(Q){console.error("Error fetching post:",Q),p("Failed to load post. Please try again later.")}finally{l(!1)}})()},[r]);const F=k=>{if(!k)return 2;const Q=k.split(/\s+/).length;return Math.max(1,Math.ceil(Q/200))},D=k=>{const Q=window.location.href,Y=(n==null?void 0:n.title)||"";switch(k){case"twitter":window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(Q)}&text=${encodeURIComponent(Y)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Q)}`,"_blank");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(Q)}`,"_blank");break;case"copy":navigator.clipboard.writeText(Q),gt.success("Link copied to clipboard!");break}};return a?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):f||!n?v.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:v.jsxs("div",{className:"max-w-md text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:f||"Post not found"}),v.jsx("button",{onClick:()=>e("/blog"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Back to Blog"})]})}):v.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[v.jsxs(TI,{children:[v.jsxs("title",{children:[n.metaTitle||n.title," | EGE Agritech"]}),v.jsx("meta",{name:"description",content:n.metaDescription||n.excerpt}),v.jsx("meta",{property:"og:title",content:n.metaTitle||n.title}),v.jsx("meta",{property:"og:description",content:n.metaDescription||n.excerpt}),n.bannerImage&&v.jsx("meta",{property:"og:image",content:n.bannerImage}),v.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),v.jsx("meta",{name:"twitter:title",content:n.metaTitle||n.title}),v.jsx("meta",{name:"twitter:description",content:n.metaDescription||n.excerpt}),n.bannerImage&&v.jsx("meta",{name:"twitter:image",content:n.bannerImage})]}),v.jsx("div",{className:"relative",children:v.jsx("div",{className:"h-96 w-full overflow-hidden bg-gray-100",children:n.bannerImage||n.imagePublicId?v.jsx(Z_,{publicId:n.imagePublicId,src:n.bannerImage,alt:n.title,width:1600,height:900,crop:"fill",gravity:"auto",className:"w-full h-full object-cover",fallback:jS}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-r from-green-50 to-blue-50",children:v.jsx("img",{src:jS,alt:n.title,className:"h-32 w-32 opacity-50"})})})}),v.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 -mt-16 relative z-10",children:v.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[v.jsxs("article",{className:"lg:w-2/3 bg-white rounded-xl shadow-sm p-6",children:[v.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-sm font-medium text-green-600 hover:text-green-800 mb-6 transition-colors",children:[v.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Blog"]}),v.jsxs("header",{className:"mb-8",children:[v.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n.title}),v.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-6",children:[v.jsx("span",{children:$V((J=n.createdAt)==null?void 0:J.toDate())}),v.jsx("span",{className:"mx-2",children:"•"}),v.jsxs("span",{children:[F(n.content)," min read"]}),v.jsx("span",{className:"mx-2",children:"•"}),v.jsxs("span",{children:[_," views"]})]})]}),v.jsx("div",{ref:t,className:"prose max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:n.content}}),((B=n.tags)==null?void 0:B.length)>0&&v.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Tags"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(k=>v.jsx(kt,{to:`/blog?tag=${k.toLowerCase()}`,className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:k},k))})]}),v.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex-shrink-0",children:n.authorImage?v.jsx(Z_,{publicId:n.authorImage,alt:n.authorName||"Author",width:64,height:64,crop:"fill",gravity:"face",className:"h-16 w-16 rounded-full object-cover"}):v.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-r from-green-100 to-blue-100 flex items-center justify-center text-2xl font-bold text-green-800",children:n.authorName?n.authorName.charAt(0).toUpperCase():"A"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n.authorName||"Author"}),n.authorBio&&v.jsx("p",{className:"mt-1 text-gray-600",children:n.authorBio})]})]})}),v.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Share this article"}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("button",{onClick:()=>D("twitter"),className:"p-2 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors","aria-label":"Share on Twitter",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),v.jsx("button",{onClick:()=>D("facebook"),className:"p-2 rounded-full bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors","aria-label":"Share on Facebook",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"})})}),v.jsx("button",{onClick:()=>D("linkedin"),className:"p-2 rounded-full bg-blue-50 text-blue-700 hover:bg-blue-100 transition-colors","aria-label":"Share on LinkedIn",children:v.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"}),v.jsx("rect",{x:"2",y:"9",width:"4",height:"12",rx:"1"}),v.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),v.jsx("button",{onClick:()=>D("copy"),className:"p-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors ml-auto","aria-label":"Copy link",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]})]})]}),v.jsxs("aside",{className:"lg:w-1/3 space-y-8",children:[T.length>0&&v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Table of Contents"}),v.jsx("nav",{className:"space-y-2",children:T.map((k,Q)=>{const Y=`heading-${Q}`;return k.id=Y,v.jsx("a",{href:`#${Y}`,className:"block text-sm text-gray-600 hover:text-green-600 transition-colors",style:{marginLeft:`${(parseInt(k.tagName[1])-2)*12}px`},children:k.textContent},Q)})})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),v.jsx("div",{className:"space-y-2",children:P7.map(k=>v.jsx(kt,{to:`/blog?category=${k.toLowerCase()}`,className:"block px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{children:k}),v.jsx("span",{className:"text-sm text-gray-500",children:k7[k]||0})]})},k))})]}),v.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Popular Tags"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:R7.map(k=>v.jsx(kt,{to:`/blog?tag=${k.toLowerCase()}`,className:"px-3 py-1 text-sm rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:k},k))})]})]})]})})]})}const O7=()=>{const[r,e]=L.useState({name:"",email:"",subject:"",message:""}),[t,n]=L.useState(null),s=A=>{n(t===A?null:A)},a=A=>{const{name:O,value:j}=A.target;e(F=>({...F,[O]:j}))},[l,f]=L.useState(!1),[p,_]=L.useState({success:null,message:""}),b=async A=>{var O;A.preventDefault(),f(!0),_({success:null,message:""});try{console.log("Submitting contact form:",r);const F=await nb(Wf,"handleContactForm")({name:r.name,email:r.email,subject:r.subject,message:r.message});console.log("Form submission successful:",F),e({name:"",email:"",subject:"",message:""}),_({success:!0,message:((O=F.data)==null?void 0:O.message)||"Thank you for your message! We will get back to you soon."})}catch(j){console.error("Error submitting form:",j);let F="An error occurred. Please try again later.";j.code==="invalid-argument"?F=j.message||"Please fill in all required fields correctly.":j.code==="permission-denied"?F="You do not have permission to perform this action.":j.code&&(F=`Error: ${j.message||"Something went wrong"}`),_({success:!1,message:F})}finally{f(!1)}},T=[{icon:v.jsx(XM,{className:"h-8 w-8 text-primary"}),title:"Our Head Office",description:"Ahmedabad,Gujarat, India",link:"https://maps.app.goo.gl/c5pCL6gZPWrLBDA17",linkText:"View on Map"},{icon:v.jsx(eF,{className:"h-8 w-8 text-primary"}),title:"Phone Number",description:"+91 7622879463",link:"tel:+917622879463",linkText:"Call Now"},{icon:v.jsx($M,{className:"h-8 w-8 text-primary"}),title:"Email Address",description:"info@egeorganic.com",link:"mailto:info@egeorganic.com",linkText:"Send Email"},{icon:v.jsx(Wm,{className:"h-8 w-8 text-primary"}),title:"Working Hours",description:`Monday - Friday: 9:00 AM - 6:00 PM
Saturday: 10:00 AM - 4:00 PM
Sunday: Closed`,link:"",linkText:""}];return v.jsxs("div",{className:"min-h-screen pt-24",children:[v.jsx("section",{className:"bg-primary/10 py-16",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Contact Us"}),v.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have questions or feedback? We'd love to hear from you. Reach out to us through any of these channels."})]})}),v.jsx("section",{className:"py-16 bg-white",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:T.map((A,O)=>v.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center hover:shadow-lg transition-shadow duration-300 h-full",children:[v.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:A.icon}),v.jsx("h3",{className:"text-xl font-semibold mb-3",children:A.title}),v.jsx("p",{className:"text-gray-600 whitespace-pre-line mb-4",children:A.description}),A.link&&v.jsxs("a",{href:A.link,className:"text-primary font-medium hover:underline inline-flex items-center justify-center",target:"_blank",rel:"noopener noreferrer",children:[A.linkText,v.jsx("svg",{className:"ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},O))})})}),v.jsx("section",{className:"py-16 bg-gray-50",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:v.jsxs("div",{className:"md:flex",children:[v.jsxs("div",{className:"md:w-2/3 p-8",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),v.jsxs("form",{onSubmit:b,children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:["Your Name ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:["Email Address ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("label",{htmlFor:"subject",className:"block text-gray-700 font-medium mb-2",children:["Subject ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("label",{htmlFor:"message",className:"block text-gray-700 font-medium mb-2",children:["Your Message ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("textarea",{id:"message",name:"message",rows:"5",value:r.message,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),v.jsx("button",{type:"submit",disabled:l,className:`w-full bg-primary text-white py-3 px-6 rounded-md hover:bg-opacity-90 transition-colors duration-200 font-medium ${l?"opacity-75 cursor-not-allowed":""}`,children:l?"Sending...":"Send Message"}),p.message&&v.jsx("div",{className:`mt-4 p-3 rounded-md ${p.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.message})]})]}),v.jsx("div",{className:"w-full h-96 md:h-auto md:w-1/3 bg-gray-200",children:v.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d14693.343821361103!2d72.60770128299829!3d22.97467042307148!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x395e8f5590ffcd7d%3A0x4b0554bef6153a98!2sGhodasar%2C%20Ahmedabad%2C%20Gujarat!5e0!3m2!1sen!2sin!4v1749539810011!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"EGE Agritech Location in Ahmedabad, Gujarat, India",className:"block w-full h-full"})})]})})})}),v.jsx("section",{className:"py-16 bg-white",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Frequently Asked Questions"}),v.jsx("div",{className:"space-y-4",children:[{question:"Why should I choose EGE over local markets or grocery apps?",answer:"Because at EGE, you're not just buying vegetables — you're investing in farmers, reducing your carbon footprint, and nourishing your family with clean, traceable food."},{question:'What is the "Rainbow Subscription Plan"?',answer:"A fun, rotating weekly mix of colorful, nutritious vegetables and fruits — so your meals stay exciting and balanced across vitamins A, B, C, and K."},{question:"How does my purchase help a farmer?",answer:"We offer farmers up to 30% higher income, and a part of your payment supports child education, health checkups, and AI-based demand forecasting to reduce food waste."},{question:"What if I don't want a full subscription?",answer:"You can always order à la carte or opt for our Vitamin Boost Packs, Protein-Rich Bundles, or Zero-Carb Veggie Boxes — designed for health-conscious households."},{question:"What makes EGE organic/natural produce trustworthy?",answer:"Every product comes from audited farms with real-time traceability, lab-tested samples, and a cold-chain supply process that preserves freshness and nutrition."},{question:"Do you deliver to restaurants or hotels?",answer:"Yes, we have a dedicated B2B channel with bulk rates, weekly delivery slots, and tailored product lists for hotels, cafes, and caterers."},{question:"Is your packaging eco-friendly?",answer:"100%! We use biodegradable crates, minimal plastics, and reward customers who return packaging for reuse."},{question:"What is your delivery area?",answer:"Currently delivering in Ahmedabad, expanding soon. You can check delivery areas on the app or website using your pincode."},{question:"What is the difference between EGE Naturals and EGE Organics?",answer:"EGE Naturals offers vegetables grown with fewer pesticides and local practices, while EGE Organics are 100% certified pesticide-free organic products."},{question:"How are your prices lower than the market?",answer:"We eliminate middlemen by buying directly from farmers and delivering straight to your door — ensuring savings for you and profits for farmers."},{question:"How does the subscription model work?",answer:"You can choose a weekly or monthly plan — like Vitamin C Box or Protein Veggie Basket — and receive curated, fresh vegetables delivered on schedule."},{question:"Where do your vegetables come from?",answer:"We source directly from verified organic and natural farmers across Gujarat including Junagadh, Dahod, and Narmada belt."},{question:"Is delivery available in my area?",answer:"We are currently delivering in Ahmedabad and expanding rapidly. Enter your pincode on the app or website to check."},{question:"Can I cancel or pause my subscription?",answer:"Absolutely. You can pause or modify your delivery anytime from your EGE app dashboard."},{question:"What makes your produce more sustainable?",answer:"We use cold chain, bulk delivery, and climate-friendly packaging while reducing carbon footprints by minimizing waste and transport fuel use."},{question:"How does EGE help farmers?",answer:"We offer farmers 20–30% better prices, AI-based demand planning, and part of our revenue goes to their children's education."}].map((A,O)=>v.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 mb-4",children:[v.jsxs("button",{className:`w-full px-6 py-4 text-left flex justify-between items-center focus:outline-none ${t===O?"bg-gray-50":""}`,onClick:()=>s(O),"aria-expanded":t===O,"aria-controls":`faq-${O}`,children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:A.question}),v.jsx("svg",{className:`w-5 h-5 text-primary transform transition-transform duration-200 ${t===O?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v.jsx("div",{id:`faq-${O}`,className:`px-6 overflow-hidden transition-all duration-300 ease-in-out ${t===O?"max-h-96 pb-4":"max-h-0"}`,"aria-hidden":t!==O,children:v.jsx("div",{className:"pt-2 pb-4 text-gray-600",children:A.answer})})]},O))}),v.jsxs("div",{className:"text-center mt-12",children:[v.jsx("p",{className:"text-gray-600 mb-4",children:"Still have questions?"}),v.jsxs("a",{href:"mailto:info@egeagritech.com",className:"inline-flex items-center text-primary font-medium hover:underline",children:["Email us directly",v.jsx("svg",{className:"ml-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})]})]})]})})})]})},j7=()=>v.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms of Service"}),v.jsx("p",{className:"text-lg text-gray-600",children:"Last updated: May 27, 2024"})]}),v.jsxs("div",{className:"prose max-w-none",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"1. Introduction"}),v.jsx("p",{className:"text-gray-600 mb-4",children:'Welcome to EGE Agritech. These Terms of Service ("Terms") govern your access to and use of our website and services (collectively, the "Service").'})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"2. Use of Our Service"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"You may use our Service only for lawful purposes and in accordance with these Terms. You agree not to use the Service:"}),v.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-2 mb-4",children:[v.jsx("li",{children:"In any way that violates any applicable law or regulation"}),v.jsx("li",{children:"To transmit any advertising or promotional material without our prior written consent"}),v.jsx("li",{children:"To impersonate or attempt to impersonate EGE Agritech or any other person or entity"})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"3. Intellectual Property"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"The Service and its original content, features, and functionality are and will remain the exclusive property of EGE Agritech and its licensors. Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of EGE Agritech."})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"4. Limitation of Liability"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"In no event shall EGE Agritech, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the Service."})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"5. Changes to Terms"}),v.jsx("p",{className:"text-gray-600 mb-4",children:'We reserve the right to modify these Terms at any time. We will provide notice of any changes by updating the "Last updated" date at the top of these Terms. Your continued use of the Service after any such changes constitutes your acceptance of the new Terms.'})]}),v.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[v.jsxs("p",{className:"text-gray-600",children:["If you have any questions about these Terms, please contact us at"," ",v.jsx("a",{href:"mailto:info@egeagritech.com",className:"text-primary hover:underline",children:"info@egeagritech.com"}),"."]}),v.jsx("div",{className:"mt-6",children:v.jsxs(kt,{to:"/privacy",className:"text-primary hover:underline inline-flex items-center",children:["View our Privacy Policy",v.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})]})}),D7=()=>v.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),v.jsx("p",{className:"text-lg text-gray-600",children:"Last updated: May 27, 2024"})]}),v.jsxs("div",{className:"prose max-w-none",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"1. Information We Collect"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"We collect information that you provide directly to us, such as when you create an account, subscribe to our newsletter, or contact us. The types of information we may collect include your name, email address, phone number, and any other information you choose to provide."})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"2. How We Use Your Information"}),v.jsx("p",{className:"text-gray-600 mb-2",children:"We may use the information we collect for various purposes, including to:"}),v.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-2 mb-4",children:[v.jsx("li",{children:"Provide, maintain, and improve our services"}),v.jsx("li",{children:"Send you technical notices, updates, and support messages"}),v.jsx("li",{children:"Respond to your comments, questions, and requests"}),v.jsx("li",{children:"Send you newsletters, promotions, and other marketing communications"}),v.jsx("li",{children:"Monitor and analyze trends, usage, and activities in connection with our services"})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"3. Information Sharing"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"We do not share your personal information with third parties except as described in this Privacy Policy or with your consent. We may share information with:"}),v.jsxs("ul",{className:"list-disc pl-6 text-gray-600 space-y-2 mb-4",children:[v.jsx("li",{children:"Service providers who perform services on our behalf"}),v.jsx("li",{children:"Law enforcement or other government officials, in response to a verified request"}),v.jsx("li",{children:"Other parties in connection with a company transaction, such as a merger or sale"})]})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"4. Data Security"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"We take reasonable measures to help protect your personal information from loss, theft, misuse, and unauthorized access, disclosure, alteration, and destruction. However, no method of transmission over the Internet or electronic storage is 100% secure, and we cannot guarantee absolute security."})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"5. Your Choices"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"You may update, correct, or delete information about you at any time by contacting us at the email address below. You can opt out of receiving promotional emails from us by following the instructions in those emails. If you opt out, we may still send you non-promotional communications, such as those about your account or our ongoing business relations."})]}),v.jsxs("div",{className:"mb-8",children:[v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"6. Changes to This Policy"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"We may update this Privacy Policy from time to time. If we make material changes, we will notify you by revising the date at the top of the policy and, in some cases, we may provide you with additional notice (such as adding a statement to our homepage or sending you a notification)."})]}),v.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[v.jsxs("p",{className:"text-gray-600",children:["If you have any questions about this Privacy Policy, please contact us at"," ",v.jsx("a",{href:"mailto:privacy@egeagritech.com",className:"text-primary hover:underline",children:"privacy@egeagritech.com"}),"."]}),v.jsx("div",{className:"mt-6",children:v.jsxs(kt,{to:"/terms",className:"text-primary hover:underline inline-flex items-center",children:["View our Terms of Service",v.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})]})}),L7=()=>{const{pathname:r}=ko();return L.useEffect(()=>{window.scrollTo(0,0)},[r]),null},M7=[{name:"Dashboard",href:"/admin",icon:QM},{name:"Blog Posts",href:"/admin/posts",icon:Mf},{name:"Categories",href:"/admin/categories",icon:nF},{name:"New Post",href:"/admin/posts/new",icon:iP},{name:"Settings",href:"/admin/settings",icon:BM}];function F7(){return v.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:v.jsx("div",{className:"flex flex-col w-64 border-r border-gray-200 bg-white",children:v.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto",children:[v.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:v.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"})}),v.jsx("div",{className:"mt-5 flex-1 flex flex-col",children:v.jsx("nav",{className:"flex-1 px-2 space-y-1",children:M7.map(r=>v.jsxs(hm,{to:r.href,className:({isActive:e})=>`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${e?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[v.jsx(r.icon,{className:`mr-3 flex-shrink-0 h-6 w-6 ${location.pathname===r.href?"text-indigo-500":"text-gray-400 group-hover:text-gray-500"}`,"aria-hidden":"true"}),r.name]},r.name))})})]})})})}function V7(){const[r,e]=L.useState({totalPosts:0,publishedPosts:0,totalViews:0,draftPosts:0}),[t,n]=L.useState([]),[s,a]=L.useState(!0),l=p=>{if(!(p!=null&&p.seconds))return"N/A";const _=new Date(p.seconds*1e3);return mP(_,{addSuffix:!0})},f=p=>(p==null?void 0:p.toLocaleString())||"0";return L.useEffect(()=>{(async()=>{try{a(!0);const _=Io(Nn,"blogPosts"),b=(await Xg(_)).data().count,T=Zl(_,wc("isPublished","==",!0)),A=(await Xg(T)).data().count,O=Zl(_,wc("isPublished","==",!1)),j=(await Xg(O)).data().count,F=await eu(_);let D=0;const J=[];F.forEach(B=>{const k={id:B.id,...B.data()};D+=k.views||0,J.length<5&&J.push(k)}),J.sort((B,k)=>{var Q,Y;return(((Q=k.createdAt)==null?void 0:Q.seconds)||0)-(((Y=B.createdAt)==null?void 0:Y.seconds)||0)}),e({totalPosts:b,publishedPosts:A,totalViews:D,draftPosts:j}),n(J)}catch(_){console.error("Error fetching dashboard stats:",_)}finally{a(!1)}})()},[]),s?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"pb-5 border-b border-gray-200 mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Welcome back! Here's what's happening with your blog."})]}),v.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[v.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:v.jsx(Mf,{className:"h-6 w-6 text-white"})}),v.jsx("div",{className:"ml-5 w-0 flex-1",children:v.jsxs("dl",{children:[v.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Posts"}),v.jsx("dd",{className:"flex items-baseline",children:v.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:f(r.totalPosts)})})]})})]})})}),v.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:v.jsx(Mf,{className:"h-6 w-6 text-white"})}),v.jsx("div",{className:"ml-5 w-0 flex-1",children:v.jsxs("dl",{children:[v.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Published"}),v.jsx("dd",{className:"flex items-baseline",children:v.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:f(r.publishedPosts)})})]})})]})})}),v.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:v.jsx(Wm,{className:"h-6 w-6 text-white"})}),v.jsx("div",{className:"ml-5 w-0 flex-1",children:v.jsxs("dl",{children:[v.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Drafts"}),v.jsx("dd",{className:"flex items-baseline",children:v.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:f(r.draftPosts)})})]})})]})})}),v.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:v.jsx("div",{className:"px-4 py-5 sm:p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:v.jsx(X_,{className:"h-6 w-6 text-white"})}),v.jsx("div",{className:"ml-5 w-0 flex-1",children:v.jsxs("dl",{children:[v.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Views"}),v.jsx("dd",{className:"flex items-baseline",children:v.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:f(r.totalViews)})})]})})]})})})]}),v.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"px-4 py-5 border-b border-gray-200 sm:px-6 flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recent Posts"}),v.jsx(kt,{to:"/admin/posts/new",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"New Post"})]}),t.length>0?v.jsxs(v.Fragment,{children:[v.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(p=>v.jsx("li",{children:v.jsx(kt,{to:`/admin/posts/edit/${p.id}`,className:"block hover:bg-gray-50",children:v.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:p.title||"Untitled Post"}),v.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.isPublished?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p.isPublished?"Published":"Draft"})})]}),v.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[v.jsx("div",{className:"sm:flex",children:v.jsxs("p",{className:"flex items-center text-sm text-gray-500",children:[v.jsx(X_,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),f(p.views||0)," views"]})}),v.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[v.jsx(Wm,{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400"}),v.jsxs("p",{children:["Updated ",l(p.updatedAt)]})]})]})]})})},p.id))}),v.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[v.jsx("div",{className:"flex-1 flex justify-between sm:hidden",children:v.jsx(kt,{to:"/admin/posts",className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"View all posts"})}),v.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[v.jsx("div",{children:v.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",v.jsx("span",{className:"font-medium",children:"1"})," to ",v.jsx("span",{className:"font-medium",children:Math.min(5,t.length)})," of"," ",v.jsx("span",{className:"font-medium",children:t.length})," posts"]})}),v.jsx("div",{children:v.jsxs(kt,{to:"/admin/posts",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:["View all posts",v.jsx(tc,{className:"ml-2 -mr-1 h-4 w-4"})]})})]})]})]}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx(Mf,{className:"mx-auto h-12 w-12 text-gray-400"}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No posts"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new post."}),v.jsx("div",{className:"mt-6",children:v.jsxs(kt,{to:"/admin/posts/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[v.jsx(Mf,{className:"-ml-1 mr-2 h-5 w-5"}),"New Post"]})})]})]})]})}function U7(){const[r,e]=L.useState([]),[t,n]=L.useState(!0),[s,a]=L.useState(null),[l,f]=L.useState({}),p=useCallback(b=>{f(T=>({...T,[b]:!0}))},[]);L.useEffect(()=>{(async()=>{try{n(!0);const T=Io(Nn,"blogPosts"),A=Zl(T,DC("createdAt","desc")),O=await eu(A),j=[];O.forEach(F=>{j.push({id:F.id,...F.data()})}),e(j)}catch(T){console.error("Error fetching posts:",T),gt.error("Failed to load blog posts")}finally{n(!1)}})()},[]);const _=async b=>{if(window.confirm("Are you sure you want to delete this post? This action cannot be undone."))try{a(b),await UC(Jl(Nn,"blogPosts",b)),e(r.filter(T=>T.id!==b)),gt.success("Post deleted successfully")}catch(T){console.error("Error deleting post:",T),gt.error("Failed to delete post")}finally{a(null)}};return t?v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):v.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[v.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Blog Posts"}),v.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your blog posts"})]}),v.jsxs(kt,{to:"/admin/posts/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[v.jsx(uE,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"New Post"]})]}),r.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:v.jsx("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No posts"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new blog post."}),v.jsx("div",{className:"mt-6",children:v.jsxs(kt,{to:"/admin/posts/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[v.jsx(uE,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"New Post"]})})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Published"}),v.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"}),v.jsx("th",{scope:"col",className:"relative px-6 py-3",children:v.jsx("span",{className:"sr-only",children:"Actions"})})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(b=>{var T,A;return v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"flex-shrink-0 mr-4",children:v.jsx("div",{className:"h-20 w-20 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:b.imagePublicId&&!l[b.id]?v.jsx(Z_,{publicId:b.imagePublicId,alt:b.title,width:200,height:200,crop:"fill",gravity:"auto",className:"h-full w-full object-cover",onError:()=>p(b.id)}):b.bannerImage&&!l[b.id]?v.jsx("img",{src:b.bannerImage,alt:b.title,className:"h-full w-full object-cover",onError:()=>p(b.id)}):v.jsx("div",{className:"text-gray-400 text-xs text-center p-2",children:b.title.charAt(0).toUpperCase()})})}),v.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[b.title,v.jsxs("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:["/blog/",b.slug]})]})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b.isPublished?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b.isPublished?"Published":"Draft"})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(T=b.createdAt)!=null&&T.toDate?cc(b.createdAt.toDate(),"MMM d, yyyy"):"N/A"}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(A=b.updatedAt)!=null&&A.toDate?cc(b.updatedAt.toDate(),"MMM d, yyyy"):"N/A"}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.jsxs("div",{className:"flex justify-end space-x-2",children:[v.jsx("a",{href:`/blog/${b.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-900",title:"View",children:v.jsx(X_,{className:"h-5 w-5"})}),v.jsx(kt,{to:`/admin/posts/edit/${b.id}`,className:"text-indigo-600 hover:text-indigo-900",title:"Edit",children:v.jsx(iP,{className:"h-5 w-5"})}),v.jsx("button",{onClick:()=>_(b.id),disabled:s===b.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Delete",children:s===b.id?v.jsx("div",{className:"h-5 w-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):v.jsx(sF,{className:"h-5 w-5"})})]})})]},b.id)})})]})})]})}var Md=r=>r.type==="checkbox",ql=r=>r instanceof Date,un=r=>r==null;const KP=r=>typeof r=="object";var er=r=>!un(r)&&!Array.isArray(r)&&KP(r)&&!ql(r),B7=r=>er(r)&&r.target?Md(r.target)?r.target.checked:r.target.value:r,z7=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,q7=(r,e)=>r.has(z7(e)),$7=r=>{const e=r.constructor&&r.constructor.prototype;return er(e)&&e.hasOwnProperty("isPrototypeOf")},Eb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kr(r){let e;const t=Array.isArray(r),n=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(Eb&&(r instanceof Blob||n))&&(t||er(r)))if(e=t?[]:{},!t&&!$7(r))e=r;else for(const s in r)r.hasOwnProperty(s)&&(e[s]=Kr(r[s]));else return r;return e}var Up=r=>Array.isArray(r)?r.filter(Boolean):[],lr=r=>r===void 0,De=(r,e,t)=>{if(!e||!er(r))return t;const n=Up(e.split(/[,[\].]+?/)).reduce((s,a)=>un(s)?s:s[a],r);return lr(n)||n===r?lr(r[e])?t:r[e]:n},Ts=r=>typeof r=="boolean",Tb=r=>/^\w*$/.test(r),QP=r=>Up(r.replace(/["|']|\]/g,"").split(/\.|\[/)),Ft=(r,e,t)=>{let n=-1;const s=Tb(e)?[e]:QP(e),a=s.length,l=a-1;for(;++n<a;){const f=s[n];let p=t;if(n!==l){const _=r[f];p=er(_)||Array.isArray(_)?_:isNaN(+s[n+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;r[f]=p,r=r[f]}};const DS={BLUR:"blur",FOCUS_OUT:"focusout"},Yi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},go={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Fe.createContext(null);var H7=(r,e,t,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in r)Object.defineProperty(s,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Yi.all&&(e._proxyFormState[l]=!n||Yi.all),r[l]}});return s};const W7=typeof window<"u"?L.useLayoutEffect:L.useEffect;var Is=r=>typeof r=="string",G7=(r,e,t,n,s)=>Is(r)?(n&&e.watch.add(r),De(t,r,s)):Array.isArray(r)?r.map(a=>(n&&e.watch.add(a),De(t,a))):(n&&(e.watchAll=!0),t),K7=(r,e,t,n,s)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[n]:s||!0}}:{},Gf=r=>Array.isArray(r)?r:[r],LS=()=>{let r=[];return{get observers(){return r},next:s=>{for(const a of r)a.next&&a.next(s)},subscribe:s=>(r.push(s),{unsubscribe:()=>{r=r.filter(a=>a!==s)}}),unsubscribe:()=>{r=[]}}},ew=r=>un(r)||!KP(r);function Ma(r,e){if(ew(r)||ew(e))return r===e;if(ql(r)&&ql(e))return r.getTime()===e.getTime();const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(const s of t){const a=r[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=e[s];if(ql(a)&&ql(l)||er(a)&&er(l)||Array.isArray(a)&&Array.isArray(l)?!Ma(a,l):a!==l)return!1}}return!0}var ln=r=>er(r)&&!Object.keys(r).length,Sb=r=>r.type==="file",Xi=r=>typeof r=="function",Jm=r=>{if(!Eb)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},YP=r=>r.type==="select-multiple",Ib=r=>r.type==="radio",Q7=r=>Ib(r)||Md(r),l_=r=>Jm(r)&&r.isConnected;function Y7(r,e){const t=e.slice(0,-1).length;let n=0;for(;n<t;)r=lr(r)?n++:r[e[n++]];return r}function X7(r){for(const e in r)if(r.hasOwnProperty(e)&&!lr(r[e]))return!1;return!0}function mr(r,e){const t=Array.isArray(e)?e:Tb(e)?[e]:QP(e),n=t.length===1?r:Y7(r,t),s=t.length-1,a=t[s];return n&&delete n[a],s!==0&&(er(n)&&ln(n)||Array.isArray(n)&&X7(n))&&mr(r,t.slice(0,-1)),r}var XP=r=>{for(const e in r)if(Xi(r[e]))return!0;return!1};function Zm(r,e={}){const t=Array.isArray(r);if(er(r)||t)for(const n in r)Array.isArray(r[n])||er(r[n])&&!XP(r[n])?(e[n]=Array.isArray(r[n])?[]:{},Zm(r[n],e[n])):un(r[n])||(e[n]=!0);return e}function JP(r,e,t){const n=Array.isArray(r);if(er(r)||n)for(const s in r)Array.isArray(r[s])||er(r[s])&&!XP(r[s])?lr(e)||ew(t[s])?t[s]=Array.isArray(r[s])?Zm(r[s],[]):{...Zm(r[s])}:JP(r[s],un(e)?{}:e[s],t[s]):t[s]=!Ma(r[s],e[s]);return t}var kf=(r,e)=>JP(r,e,Zm(e));const MS={value:!1,isValid:!1},FS={value:!0,isValid:!0};var ZP=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!lr(r[0].attributes.value)?lr(r[0].value)||r[0].value===""?FS:{value:r[0].value,isValid:!0}:FS:MS}return MS},ek=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:n})=>lr(r)?r:e?r===""?NaN:r&&+r:t&&Is(r)?new Date(r):n?n(r):r;const VS={isValid:!1,value:null};var tk=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,VS):VS;function US(r){const e=r.ref;return Sb(e)?e.files:Ib(e)?tk(r.refs).value:YP(e)?[...e.selectedOptions].map(({value:t})=>t):Md(e)?ZP(r.refs).value:ek(lr(e.value)?r.ref.value:e.value,r)}var J7=(r,e,t,n)=>{const s={};for(const a of r){const l=De(e,a);l&&Ft(s,a,l._f)}return{criteriaMode:t,names:[...r],fields:s,shouldUseNativeValidation:n}},ep=r=>r instanceof RegExp,Rf=r=>lr(r)?r:ep(r)?r.source:er(r)?ep(r.value)?r.value.source:r.value:r,BS=r=>({isOnSubmit:!r||r===Yi.onSubmit,isOnBlur:r===Yi.onBlur,isOnChange:r===Yi.onChange,isOnAll:r===Yi.all,isOnTouch:r===Yi.onTouched});const zS="AsyncFunction";var Z7=r=>!!r&&!!r.validate&&!!(Xi(r.validate)&&r.validate.constructor.name===zS||er(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===zS)),eU=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),qS=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(n=>r.startsWith(n)&&/^\.\w+/.test(r.slice(n.length))));const Kf=(r,e,t,n)=>{for(const s of t||Object.keys(r)){const a=De(r,s);if(a){const{_f:l,...f}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(Kf(f,e))break}else if(er(f)&&Kf(f,e))break}}};function $S(r,e,t){const n=De(r,t);if(n||Tb(t))return{error:n,name:t};const s=t.split(".");for(;s.length;){const a=s.join("."),l=De(e,a),f=De(r,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(f&&f.type)return{name:a,error:f};s.pop()}return{name:t}}var tU=(r,e,t,n)=>{t(r);const{name:s,...a}=r;return ln(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!n||Yi.all))},rU=(r,e,t)=>!r||!e||r===e||Gf(r).some(n=>n&&(t?n===e:n.startsWith(e)||e.startsWith(n))),nU=(r,e,t,n,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||r):(t?n.isOnBlur:s.isOnBlur)?!r:(t?n.isOnChange:s.isOnChange)?r:!0,iU=(r,e)=>!Up(De(r,e)).length&&mr(r,e),sU=(r,e,t)=>{const n=Gf(De(r,t));return Ft(n,"root",e[t]),Ft(r,t,n),r},Im=r=>Is(r);function HS(r,e,t="validate"){if(Im(r)||Array.isArray(r)&&r.every(Im)||Ts(r)&&!r)return{type:t,message:Im(r)?r:"",ref:e}}var Ju=r=>er(r)&&!ep(r)?r:{value:r,message:""},WS=async(r,e,t,n,s,a)=>{const{ref:l,refs:f,required:p,maxLength:_,minLength:b,min:T,max:A,pattern:O,validate:j,name:F,valueAsNumber:D,mount:J}=r._f,B=De(t,F);if(!J||e.has(F))return{};const k=f?f[0]:l,Q=H=>{s&&k.reportValidity&&(k.setCustomValidity(Ts(H)?"":H||""),k.reportValidity())},Y={},ce=Ib(l),M=Md(l),R=ce||M,V=(D||Sb(l))&&lr(l.value)&&lr(B)||Jm(l)&&l.value===""||B===""||Array.isArray(B)&&!B.length,$=K7.bind(null,F,n,Y),q=(H,U,Ue,st=go.maxLength,ot=go.minLength)=>{const We=H?U:Ue;Y[F]={type:H?st:ot,message:We,ref:l,...$(H?st:ot,We)}};if(a?!Array.isArray(B)||!B.length:p&&(!R&&(V||un(B))||Ts(B)&&!B||M&&!ZP(f).isValid||ce&&!tk(f).isValid)){const{value:H,message:U}=Im(p)?{value:!!p,message:p}:Ju(p);if(H&&(Y[F]={type:go.required,message:U,ref:k,...$(go.required,U)},!n))return Q(U),Y}if(!V&&(!un(T)||!un(A))){let H,U;const Ue=Ju(A),st=Ju(T);if(!un(B)&&!isNaN(B)){const ot=l.valueAsNumber||B&&+B;un(Ue.value)||(H=ot>Ue.value),un(st.value)||(U=ot<st.value)}else{const ot=l.valueAsDate||new Date(B),We=Se=>new Date(new Date().toDateString()+" "+Se),_e=l.type=="time",Ce=l.type=="week";Is(Ue.value)&&B&&(H=_e?We(B)>We(Ue.value):Ce?B>Ue.value:ot>new Date(Ue.value)),Is(st.value)&&B&&(U=_e?We(B)<We(st.value):Ce?B<st.value:ot<new Date(st.value))}if((H||U)&&(q(!!H,Ue.message,st.message,go.max,go.min),!n))return Q(Y[F].message),Y}if((_||b)&&!V&&(Is(B)||a&&Array.isArray(B))){const H=Ju(_),U=Ju(b),Ue=!un(H.value)&&B.length>+H.value,st=!un(U.value)&&B.length<+U.value;if((Ue||st)&&(q(Ue,H.message,U.message),!n))return Q(Y[F].message),Y}if(O&&!V&&Is(B)){const{value:H,message:U}=Ju(O);if(ep(H)&&!B.match(H)&&(Y[F]={type:go.pattern,message:U,ref:l,...$(go.pattern,U)},!n))return Q(U),Y}if(j){if(Xi(j)){const H=await j(B,t),U=HS(H,k);if(U&&(Y[F]={...U,...$(go.validate,U.message)},!n))return Q(U.message),Y}else if(er(j)){let H={};for(const U in j){if(!ln(H)&&!n)break;const Ue=HS(await j[U](B,t),k,U);Ue&&(H={...Ue,...$(U,Ue.message)},Q(Ue.message),n&&(Y[F]=H))}if(!ln(H)&&(Y[F]={ref:k,...H},!n))return Y}}return Q(!0),Y};const oU={mode:Yi.onSubmit,reValidateMode:Yi.onChange,shouldFocusError:!0};function aU(r={}){let e={...oU,...r},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=er(e.defaultValues)||er(e.values)?Kr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Kr(s),l={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,_=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let T={...b};const A={array:LS(),state:LS()},O=e.criteriaMode===Yi.all,j=W=>Z=>{clearTimeout(_),_=setTimeout(W,Z)},F=async W=>{if(!e.disabled&&(b.isValid||T.isValid||W)){const Z=e.resolver?ln((await M()).errors):await V(n,!0);Z!==t.isValid&&A.state.next({isValid:Z})}},D=(W,Z)=>{!e.disabled&&(b.isValidating||b.validatingFields||T.isValidating||T.validatingFields)&&((W||Array.from(f.mount)).forEach(le=>{le&&(Z?Ft(t.validatingFields,le,Z):mr(t.validatingFields,le))}),A.state.next({validatingFields:t.validatingFields,isValidating:!ln(t.validatingFields)}))},J=(W,Z=[],le,me,be=!0,de=!0)=>{if(me&&le&&!e.disabled){if(l.action=!0,de&&Array.isArray(De(n,W))){const Te=le(De(n,W),me.argA,me.argB);be&&Ft(n,W,Te)}if(de&&Array.isArray(De(t.errors,W))){const Te=le(De(t.errors,W),me.argA,me.argB);be&&Ft(t.errors,W,Te),iU(t.errors,W)}if((b.touchedFields||T.touchedFields)&&de&&Array.isArray(De(t.touchedFields,W))){const Te=le(De(t.touchedFields,W),me.argA,me.argB);be&&Ft(t.touchedFields,W,Te)}(b.dirtyFields||T.dirtyFields)&&(t.dirtyFields=kf(s,a)),A.state.next({name:W,isDirty:q(W,Z),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Ft(a,W,Z)},B=(W,Z)=>{Ft(t.errors,W,Z),A.state.next({errors:t.errors})},k=W=>{t.errors=W,A.state.next({errors:t.errors,isValid:!1})},Q=(W,Z,le,me)=>{const be=De(n,W);if(be){const de=De(a,W,lr(le)?De(s,W):le);lr(de)||me&&me.defaultChecked||Z?Ft(a,W,Z?de:US(be._f)):Ue(W,de),l.mount&&F()}},Y=(W,Z,le,me,be)=>{let de=!1,Te=!1;const Le={name:W};if(!e.disabled){if(!le||me){(b.isDirty||T.isDirty)&&(Te=t.isDirty,t.isDirty=Le.isDirty=q(),de=Te!==Le.isDirty);const Xe=Ma(De(s,W),Z);Te=!!De(t.dirtyFields,W),Xe?mr(t.dirtyFields,W):Ft(t.dirtyFields,W,!0),Le.dirtyFields=t.dirtyFields,de=de||(b.dirtyFields||T.dirtyFields)&&Te!==!Xe}if(le){const Xe=De(t.touchedFields,W);Xe||(Ft(t.touchedFields,W,le),Le.touchedFields=t.touchedFields,de=de||(b.touchedFields||T.touchedFields)&&Xe!==le)}de&&be&&A.state.next(Le)}return de?Le:{}},ce=(W,Z,le,me)=>{const be=De(t.errors,W),de=(b.isValid||T.isValid)&&Ts(Z)&&t.isValid!==Z;if(e.delayError&&le?(p=j(()=>B(W,le)),p(e.delayError)):(clearTimeout(_),p=null,le?Ft(t.errors,W,le):mr(t.errors,W)),(le?!Ma(be,le):be)||!ln(me)||de){const Te={...me,...de&&Ts(Z)?{isValid:Z}:{},errors:t.errors,name:W};t={...t,...Te},A.state.next(Te)}},M=async W=>{D(W,!0);const Z=await e.resolver(a,e.context,J7(W||f.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return D(W),Z},R=async W=>{const{errors:Z}=await M(W);if(W)for(const le of W){const me=De(Z,le);me?Ft(t.errors,le,me):mr(t.errors,le)}else t.errors=Z;return Z},V=async(W,Z,le={valid:!0})=>{for(const me in W){const be=W[me];if(be){const{_f:de,...Te}=be;if(de){const Le=f.array.has(de.name),Xe=be._f&&Z7(be._f);Xe&&b.validatingFields&&D([me],!0);const jt=await WS(be,f.disabled,a,O,e.shouldUseNativeValidation&&!Z,Le);if(Xe&&b.validatingFields&&D([me]),jt[de.name]&&(le.valid=!1,Z))break;!Z&&(De(jt,de.name)?Le?sU(t.errors,jt,de.name):Ft(t.errors,de.name,jt[de.name]):mr(t.errors,de.name))}!ln(Te)&&await V(Te,Z,le)}}return le.valid},$=()=>{for(const W of f.unMount){const Z=De(n,W);Z&&(Z._f.refs?Z._f.refs.every(le=>!l_(le)):!l_(Z._f.ref))&&Be(W)}f.unMount=new Set},q=(W,Z)=>!e.disabled&&(W&&Z&&Ft(a,W,Z),!Ma(Se(),s)),H=(W,Z,le)=>G7(W,f,{...l.mount?a:lr(Z)?s:Is(W)?{[W]:Z}:Z},le,Z),U=W=>Up(De(l.mount?a:s,W,e.shouldUnregister?De(s,W,[]):[])),Ue=(W,Z,le={})=>{const me=De(n,W);let be=Z;if(me){const de=me._f;de&&(!de.disabled&&Ft(a,W,ek(Z,de)),be=Jm(de.ref)&&un(Z)?"":Z,YP(de.ref)?[...de.ref.options].forEach(Te=>Te.selected=be.includes(Te.value)):de.refs?Md(de.ref)?de.refs.forEach(Te=>{(!Te.defaultChecked||!Te.disabled)&&(Array.isArray(be)?Te.checked=!!be.find(Le=>Le===Te.value):Te.checked=be===Te.value||!!be)}):de.refs.forEach(Te=>Te.checked=Te.value===be):Sb(de.ref)?de.ref.value="":(de.ref.value=be,de.ref.type||A.state.next({name:W,values:Kr(a)})))}(le.shouldDirty||le.shouldTouch)&&Y(W,be,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&Ce(W)},st=(W,Z,le)=>{for(const me in Z){if(!Z.hasOwnProperty(me))return;const be=Z[me],de=`${W}.${me}`,Te=De(n,de);(f.array.has(W)||er(be)||Te&&!Te._f)&&!ql(be)?st(de,be,le):Ue(de,be,le)}},ot=(W,Z,le={})=>{const me=De(n,W),be=f.array.has(W),de=Kr(Z);Ft(a,W,de),be?(A.array.next({name:W,values:Kr(a)}),(b.isDirty||b.dirtyFields||T.isDirty||T.dirtyFields)&&le.shouldDirty&&A.state.next({name:W,dirtyFields:kf(s,a),isDirty:q(W,de)})):me&&!me._f&&!un(de)?st(W,de,le):Ue(W,de,le),qS(W,f)&&A.state.next({...t}),A.state.next({name:l.mount?W:void 0,values:Kr(a)})},We=async W=>{l.mount=!0;const Z=W.target;let le=Z.name,me=!0;const be=De(n,le),de=Xe=>{me=Number.isNaN(Xe)||ql(Xe)&&isNaN(Xe.getTime())||Ma(Xe,De(a,le,Xe))},Te=BS(e.mode),Le=BS(e.reValidateMode);if(be){let Xe,jt;const yr=Z.type?US(be._f):B7(W),et=W.type===DS.BLUR||W.type===DS.FOCUS_OUT,mn=!eU(be._f)&&!e.resolver&&!De(t.errors,le)&&!be._f.deps||nU(et,De(t.touchedFields,le),t.isSubmitted,Le,Te),Xt=qS(le,f,et);Ft(a,le,yr),et?(be._f.onBlur&&be._f.onBlur(W),p&&p(0)):be._f.onChange&&be._f.onChange(W);const Wt=Y(le,yr,et),ns=!ln(Wt)||Xt;if(!et&&A.state.next({name:le,type:W.type,values:Kr(a)}),mn)return(b.isValid||T.isValid)&&(e.mode==="onBlur"?et&&F():et||F()),ns&&A.state.next({name:le,...Xt?{}:Wt});if(!et&&Xt&&A.state.next({...t}),e.resolver){const{errors:Si}=await M([le]);if(de(yr),me){const Ms=$S(t.errors,n,le),Yn=$S(Si,n,Ms.name||le);Xe=Yn.error,le=Yn.name,jt=ln(Si)}}else D([le],!0),Xe=(await WS(be,f.disabled,a,O,e.shouldUseNativeValidation))[le],D([le]),de(yr),me&&(Xe?jt=!1:(b.isValid||T.isValid)&&(jt=await V(n,!0)));me&&(be._f.deps&&Ce(be._f.deps),ce(le,jt,Xe,Wt))}},_e=(W,Z)=>{if(De(t.errors,Z)&&W.focus)return W.focus(),1},Ce=async(W,Z={})=>{let le,me;const be=Gf(W);if(e.resolver){const de=await R(lr(W)?W:be);le=ln(de),me=W?!be.some(Te=>De(de,Te)):le}else W?(me=(await Promise.all(be.map(async de=>{const Te=De(n,de);return await V(Te&&Te._f?{[de]:Te}:Te)}))).every(Boolean),!(!me&&!t.isValid)&&F()):me=le=await V(n);return A.state.next({...!Is(W)||(b.isValid||T.isValid)&&le!==t.isValid?{}:{name:W},...e.resolver||!W?{isValid:le}:{},errors:t.errors}),Z.shouldFocus&&!me&&Kf(n,_e,W?be:f.mount),me},Se=W=>{const Z={...l.mount?a:s};return lr(W)?Z:Is(W)?De(Z,W):W.map(le=>De(Z,le))},ee=(W,Z)=>({invalid:!!De((Z||t).errors,W),isDirty:!!De((Z||t).dirtyFields,W),error:De((Z||t).errors,W),isValidating:!!De(t.validatingFields,W),isTouched:!!De((Z||t).touchedFields,W)}),ue=W=>{W&&Gf(W).forEach(Z=>mr(t.errors,Z)),A.state.next({errors:W?t.errors:{}})},ke=(W,Z,le)=>{const me=(De(n,W,{_f:{}})._f||{}).ref,be=De(t.errors,W)||{},{ref:de,message:Te,type:Le,...Xe}=be;Ft(t.errors,W,{...Xe,...Z,ref:me}),A.state.next({name:W,errors:t.errors,isValid:!1}),le&&le.shouldFocus&&me&&me.focus&&me.focus()},Ye=(W,Z)=>Xi(W)?A.state.subscribe({next:le=>W(H(void 0,Z),le)}):H(W,Z,!0),Ke=W=>A.state.subscribe({next:Z=>{rU(W.name,Z.name,W.exact)&&tU(Z,W.formState||b,tt,W.reRenderRoot)&&W.callback({values:{...a},...t,...Z})}}).unsubscribe,rt=W=>(l.mount=!0,T={...T,...W.formState},Ke({...W,formState:T})),Be=(W,Z={})=>{for(const le of W?Gf(W):f.mount)f.mount.delete(le),f.array.delete(le),Z.keepValue||(mr(n,le),mr(a,le)),!Z.keepError&&mr(t.errors,le),!Z.keepDirty&&mr(t.dirtyFields,le),!Z.keepTouched&&mr(t.touchedFields,le),!Z.keepIsValidating&&mr(t.validatingFields,le),!e.shouldUnregister&&!Z.keepDefaultValue&&mr(s,le);A.state.next({values:Kr(a)}),A.state.next({...t,...Z.keepDirty?{isDirty:q()}:{}}),!Z.keepIsValid&&F()},at=({disabled:W,name:Z})=>{(Ts(W)&&l.mount||W||f.disabled.has(Z))&&(W?f.disabled.add(Z):f.disabled.delete(Z))},nt=(W,Z={})=>{let le=De(n,W);const me=Ts(Z.disabled)||Ts(e.disabled);return Ft(n,W,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:W}},name:W,mount:!0,...Z}}),f.mount.add(W),le?at({disabled:Ts(Z.disabled)?Z.disabled:e.disabled,name:W}):Q(W,!0,Z.value),{...me?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:Rf(Z.min),max:Rf(Z.max),minLength:Rf(Z.minLength),maxLength:Rf(Z.maxLength),pattern:Rf(Z.pattern)}:{},name:W,onChange:We,onBlur:We,ref:be=>{if(be){nt(W,Z),le=De(n,W);const de=lr(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Te=Q7(de),Le=le._f.refs||[];if(Te?Le.find(Xe=>Xe===de):de===le._f.ref)return;Ft(n,W,{_f:{...le._f,...Te?{refs:[...Le.filter(l_),de,...Array.isArray(De(s,W))?[{}]:[]],ref:{type:de.type,name:W}}:{ref:de}}}),Q(W,!1,void 0,de)}else le=De(n,W,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(q7(f.array,W)&&l.action)&&f.unMount.add(W)}}},Lt=()=>e.shouldFocusError&&Kf(n,_e,f.mount),Ht=W=>{Ts(W)&&(A.state.next({disabled:W}),Kf(n,(Z,le)=>{const me=De(n,le);me&&(Z.disabled=me._f.disabled||W,Array.isArray(me._f.refs)&&me._f.refs.forEach(be=>{be.disabled=me._f.disabled||W}))},0,!1))},jn=(W,Z)=>async le=>{let me;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let be=Kr(a);if(A.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:Te}=await M();t.errors=de,be=Te}else await V(n);if(f.disabled.size)for(const de of f.disabled)Ft(be,de,void 0);if(mr(t.errors,"root"),ln(t.errors)){A.state.next({errors:{}});try{await W(be,le)}catch(de){me=de}}else Z&&await Z({...t.errors},le),Lt(),setTimeout(Lt);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ln(t.errors)&&!me,submitCount:t.submitCount+1,errors:t.errors}),me)throw me},Zr=(W,Z={})=>{De(n,W)&&(lr(Z.defaultValue)?ot(W,Kr(De(s,W))):(ot(W,Z.defaultValue),Ft(s,W,Kr(Z.defaultValue))),Z.keepTouched||mr(t.touchedFields,W),Z.keepDirty||(mr(t.dirtyFields,W),t.isDirty=Z.defaultValue?q(W,Kr(De(s,W))):q()),Z.keepError||(mr(t.errors,W),b.isValid&&F()),A.state.next({...t}))},fn=(W,Z={})=>{const le=W?Kr(W):s,me=Kr(le),be=ln(W),de=be?s:me;if(Z.keepDefaultValues||(s=le),!Z.keepValues){if(Z.keepDirtyValues){const Te=new Set([...f.mount,...Object.keys(kf(s,a))]);for(const Le of Array.from(Te))De(t.dirtyFields,Le)?Ft(de,Le,De(a,Le)):ot(Le,De(de,Le))}else{if(Eb&&lr(W))for(const Te of f.mount){const Le=De(n,Te);if(Le&&Le._f){const Xe=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Jm(Xe)){const jt=Xe.closest("form");if(jt){jt.reset();break}}}}for(const Te of f.mount)ot(Te,De(de,Te))}a=Kr(de),A.array.next({values:{...de}}),A.state.next({values:{...de}})}f={mount:Z.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!b.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,l.watch=!!e.shouldUnregister,A.state.next({submitCount:Z.keepSubmitCount?t.submitCount:0,isDirty:be?!1:Z.keepDirty?t.isDirty:!!(Z.keepDefaultValues&&!Ma(W,s)),isSubmitted:Z.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:be?{}:Z.keepDirtyValues?Z.keepDefaultValues&&a?kf(s,a):t.dirtyFields:Z.keepDefaultValues&&W?kf(s,W):Z.keepDirty?t.dirtyFields:{},touchedFields:Z.keepTouched?t.touchedFields:{},errors:Z.keepErrors?t.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},lt=(W,Z)=>fn(Xi(W)?W(a):W,Z),dn=(W,Z={})=>{const le=De(n,W),me=le&&le._f;if(me){const be=me.refs?me.refs[0]:me.ref;be.focus&&(be.focus(),Z.shouldSelect&&Xi(be.select)&&be.select())}},tt=W=>{t={...t,...W}},Ut={control:{register:nt,unregister:Be,getFieldState:ee,handleSubmit:jn,setError:ke,_subscribe:Ke,_runSchema:M,_getWatch:H,_getDirty:q,_setValid:F,_setFieldArray:J,_setDisabledField:at,_setErrors:k,_getFieldArray:U,_reset:fn,_resetDefaultValues:()=>Xi(e.defaultValues)&&e.defaultValues().then(W=>{lt(W,e.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Ht,_subjects:A,_proxyFormState:b,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(W){l=W},get _defaultValues(){return s},get _names(){return f},set _names(W){f=W},get _formState(){return t},get _options(){return e},set _options(W){e={...e,...W}}},subscribe:rt,trigger:Ce,register:nt,handleSubmit:jn,watch:Ye,setValue:ot,getValues:Se,reset:lt,resetField:Zr,clearErrors:ue,unregister:Be,setError:ke,setFocus:dn,getFieldState:ee};return{...Ut,formControl:Ut}}function lU(r={}){const e=Fe.useRef(void 0),t=Fe.useRef(void 0),[n,s]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Xi(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:Xi(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...r.formControl?r.formControl:aU(r),formState:n},r.formControl&&r.defaultValues&&!Xi(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const a=e.current.control;return a._options=r,W7(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(f=>({...f,isReady:!0})),a._formState.isReady=!0,l},[a]),Fe.useEffect(()=>a._disableForm(r.disabled),[a,r.disabled]),Fe.useEffect(()=>{r.mode&&(a._options.mode=r.mode),r.reValidateMode&&(a._options.reValidateMode=r.reValidateMode),r.errors&&!ln(r.errors)&&a._setErrors(r.errors)},[a,r.errors,r.mode,r.reValidateMode]),Fe.useEffect(()=>{r.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,r.shouldUnregister]),Fe.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),Fe.useEffect(()=>{r.values&&!Ma(r.values,t.current)?(a._reset(r.values,a._options.resetOptions),t.current=r.values,s(l=>({...l}))):a._resetDefaultValues()},[a,r.values]),Fe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=H7(n,a),e.current}var tw=function(){return tw=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},tw.apply(this,arguments)},rk={onActivate:fe.func,onAddUndo:fe.func,onBeforeAddUndo:fe.func,onBeforeExecCommand:fe.func,onBeforeGetContent:fe.func,onBeforeRenderUI:fe.func,onBeforeSetContent:fe.func,onBeforePaste:fe.func,onBlur:fe.func,onChange:fe.func,onClearUndos:fe.func,onClick:fe.func,onContextMenu:fe.func,onCommentChange:fe.func,onCompositionEnd:fe.func,onCompositionStart:fe.func,onCompositionUpdate:fe.func,onCopy:fe.func,onCut:fe.func,onDblclick:fe.func,onDeactivate:fe.func,onDirty:fe.func,onDrag:fe.func,onDragDrop:fe.func,onDragEnd:fe.func,onDragGesture:fe.func,onDragOver:fe.func,onDrop:fe.func,onExecCommand:fe.func,onFocus:fe.func,onFocusIn:fe.func,onFocusOut:fe.func,onGetContent:fe.func,onHide:fe.func,onInit:fe.func,onInput:fe.func,onKeyDown:fe.func,onKeyPress:fe.func,onKeyUp:fe.func,onLoadContent:fe.func,onMouseDown:fe.func,onMouseEnter:fe.func,onMouseLeave:fe.func,onMouseMove:fe.func,onMouseOut:fe.func,onMouseOver:fe.func,onMouseUp:fe.func,onNodeChange:fe.func,onObjectResizeStart:fe.func,onObjectResized:fe.func,onObjectSelected:fe.func,onPaste:fe.func,onPostProcess:fe.func,onPostRender:fe.func,onPreProcess:fe.func,onProgressState:fe.func,onRedo:fe.func,onRemove:fe.func,onReset:fe.func,onSaveContent:fe.func,onSelectionChange:fe.func,onSetAttrib:fe.func,onSetContent:fe.func,onShow:fe.func,onSubmit:fe.func,onUndo:fe.func,onVisualAid:fe.func,onSkinLoadError:fe.func,onThemeLoadError:fe.func,onModelLoadError:fe.func,onPluginLoadError:fe.func,onIconsLoadError:fe.func,onLanguageLoadError:fe.func,onScriptsLoad:fe.func,onScriptsLoadError:fe.func},uU=tw({apiKey:fe.string,licenseKey:fe.string,id:fe.string,inline:fe.bool,init:fe.object,initialValue:fe.string,onEditorChange:fe.func,value:fe.string,tagName:fe.string,tabIndex:fe.number,cloudChannel:fe.string,plugins:fe.oneOfType([fe.string,fe.array]),toolbar:fe.oneOfType([fe.string,fe.array]),disabled:fe.bool,textareaName:fe.string,tinymceScriptSrc:fe.oneOfType([fe.string,fe.arrayOf(fe.string),fe.arrayOf(fe.shape({src:fe.string,async:fe.bool,defer:fe.bool}))]),rollback:fe.oneOfType([fe.number,fe.oneOf([!1])]),scriptLoading:fe.shape({async:fe.bool,defer:fe.bool,delay:fe.number})},rk),u_=function(r){return typeof r=="function"},GS=function(r){return r in rk},KS=function(r){return r.substr(2)},cU=function(r,e,t,n,s,a,l){var f=Object.keys(s).filter(GS),p=Object.keys(a).filter(GS),_=f.filter(function(T){return a[T]===void 0}),b=p.filter(function(T){return s[T]===void 0});_.forEach(function(T){var A=KS(T),O=l[A];t(A,O),delete l[A]}),b.forEach(function(T){var A=n(r,T),O=KS(T);l[O]=A,e(O,A)})},fU=function(r,e,t,n,s){return cU(s,r.on.bind(r),r.off.bind(r),function(a,l){return function(f){var p;return(p=a(l))===null||p===void 0?void 0:p(f,r)}},e,t,n)},QS=0,nk=function(r){var e=Date.now(),t=Math.floor(Math.random()*1e9);return QS++,r+"_"+t+QS+String(e)},YS=function(r){return r!==null&&(r.tagName.toLowerCase()==="textarea"||r.tagName.toLowerCase()==="input")},XS=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},dU=function(r,e){return XS(r).concat(XS(e))},hU=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},mU=function(r){if(!("isConnected"in Node.prototype)){for(var e=r,t=r.parentNode;t!=null;)e=t,t=e.parentNode;return e===r.ownerDocument}return r.isConnected},JS=function(r,e){r!==void 0&&(r.mode!=null&&typeof r.mode=="object"&&typeof r.mode.set=="function"?r.mode.set(e):r.setMode(e))},rw=function(){return rw=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},rw.apply(this,arguments)},pU=function(r,e,t){var n,s,a=r.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=e.id,a.src=e.src,a.async=(n=e.async)!==null&&n!==void 0?n:!1,a.defer=(s=e.defer)!==null&&s!==void 0?s:!1;var l=function(){a.removeEventListener("load",l),a.removeEventListener("error",f),t(e.src)},f=function(p){a.removeEventListener("load",l),a.removeEventListener("error",f),t(e.src,p)};a.addEventListener("load",l),a.addEventListener("error",f),r.head&&r.head.appendChild(a)},gU=function(r){var e={},t=function(l,f){var p=e[l];p.done=!0,p.error=f;for(var _=0,b=p.handlers;_<b.length;_++){var T=b[_];T(l,f)}p.handlers=[]},n=function(l,f,p){var _=function(B){return p!==void 0?p(B):console.error(B)};if(l.length===0){_(new Error("At least one script must be provided"));return}for(var b=0,T=!1,A=function(B,k){T||(k?(T=!0,_(k)):++b===l.length&&f())},O=0,j=l;O<j.length;O++){var F=j[O],D=e[F.src];if(D)D.done?A(F.src,D.error):D.handlers.push(A);else{var J=nk("tiny-");e[F.src]={id:J,src:F.src,done:!1,error:null,handlers:[A]},pU(r,rw({id:J},F),t)}}},s=function(){for(var l,f=0,p=Object.values(e);f<p.length;f++){var _=p[f],b=r.getElementById(_.id);b!=null&&b.tagName==="SCRIPT"&&((l=b.parentNode)===null||l===void 0||l.removeChild(b))}e={}},a=function(){return r};return{loadScripts:n,deleteScripts:s,getDocument:a}},yU=function(){var r=[],e=function(s){var a=r.find(function(l){return l.getDocument()===s});return a===void 0&&(a=gU(s),r.push(a)),a},t=function(s,a,l,f,p){var _=function(){return e(s).loadScripts(a,f,p)};l>0?setTimeout(_,l):_()},n=function(){for(var s=r.pop();s!=null;s=r.pop())s.deleteScripts()};return{loadList:t,reinitialize:n}},vU=yU(),ZS=function(r){var e=r;return e&&e.tinymce?e.tinymce:null},_U=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rc=function(){return rc=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},rc.apply(this,arguments)},c_="change keyup compositionend setcontent CommentChange",wU=function(r){_U(e,r);function e(t){var n,s,a,l=r.call(this,t)||this;return l.rollbackTimer=void 0,l.valueCursor=void 0,l.rollbackChange=function(){var f=l.editor,p=l.props.value;f&&p&&p!==l.currentContent&&f.undoManager.ignore(function(){if(f.setContent(p),l.valueCursor&&(!l.inline||f.hasFocus()))try{f.selection.moveToBookmark(l.valueCursor)}catch{}}),l.rollbackTimer=void 0},l.handleBeforeInput=function(f){if(l.props.value!==void 0&&l.props.value===l.currentContent&&l.editor&&(!l.inline||l.editor.hasFocus()))try{l.valueCursor=l.editor.selection.getBookmark(3)}catch{}},l.handleBeforeInputSpecial=function(f){(f.key==="Enter"||f.key==="Backspace"||f.key==="Delete")&&l.handleBeforeInput(f)},l.handleEditorChange=function(f){var p=l.editor;if(p&&p.initialized){var _=p.getContent();l.props.value!==void 0&&l.props.value!==_&&l.props.rollback!==!1&&(l.rollbackTimer||(l.rollbackTimer=window.setTimeout(l.rollbackChange,typeof l.props.rollback=="number"?l.props.rollback:200))),_!==l.currentContent&&(l.currentContent=_,u_(l.props.onEditorChange)&&l.props.onEditorChange(_,p))}},l.handleEditorChangeSpecial=function(f){(f.key==="Backspace"||f.key==="Delete")&&l.handleEditorChange(f)},l.initialise=function(f){var p,_,b;f===void 0&&(f=0);var T=l.elementRef.current;if(T){if(!mU(T)){if(f===0)setTimeout(function(){return l.initialise(1)},1);else if(f<100)setTimeout(function(){return l.initialise(f+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var A=ZS(l.view);if(!A)throw new Error("tinymce should have been loaded into global scope");var O=rc(rc(rc(rc({},l.props.init),{selector:void 0,target:T,readonly:l.props.disabled,inline:l.inline,plugins:dU((p=l.props.init)===null||p===void 0?void 0:p.plugins,l.props.plugins),toolbar:(_=l.props.toolbar)!==null&&_!==void 0?_:(b=l.props.init)===null||b===void 0?void 0:b.toolbar}),l.props.licenseKey?{license_key:l.props.licenseKey}:{}),{setup:function(j){l.editor=j,l.bindHandlers({}),l.inline&&!YS(T)&&j.once("PostRender",function(F){j.setContent(l.getInitialValue(),{no_events:!0})}),l.props.init&&u_(l.props.init.setup)&&l.props.init.setup(j)},init_instance_callback:function(j){var F,D,J=l.getInitialValue();l.currentContent=(F=l.currentContent)!==null&&F!==void 0?F:j.getContent(),l.currentContent!==J&&(l.currentContent=J,j.setContent(J),j.undoManager.clear(),j.undoManager.add(),j.setDirty(!1));var B=(D=l.props.disabled)!==null&&D!==void 0?D:!1;JS(l.editor,B?"readonly":"design"),l.props.init&&u_(l.props.init.init_instance_callback)&&l.props.init.init_instance_callback(j)}});l.inline||(T.style.visibility=""),YS(T)&&(T.value=l.getInitialValue()),A.init(O)}},l.id=l.props.id||nk("tiny-react"),l.elementRef=L.createRef(),l.inline=(a=(n=l.props.inline)!==null&&n!==void 0?n:(s=l.props.init)===null||s===void 0?void 0:s.inline)!==null&&a!==void 0?a:!1,l.boundHandlers={},l}return Object.defineProperty(e.prototype,"view",{get:function(){var t,n;return(n=(t=this.elementRef.current)===null||t===void 0?void 0:t.ownerDocument.defaultView)!==null&&n!==void 0?n:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(t){var n=this,s,a;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(t),this.editor.initialized)){if(this.currentContent=(s=this.currentContent)!==null&&s!==void 0?s:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==t.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var l=this.editor;l.undoManager.transact(function(){var p;if(!n.inline||l.hasFocus())try{p=l.selection.getBookmark(3)}catch{}var _=n.valueCursor;if(l.setContent(n.props.value),!n.inline||l.hasFocus())for(var b=0,T=[p,_];b<T.length;b++){var A=T[b];if(A)try{l.selection.moveToBookmark(A),n.valueCursor=A;break}catch{}}})}if(this.props.disabled!==t.disabled){var f=(a=this.props.disabled)!==null&&a!==void 0?a:!1;JS(this.editor,f?"readonly":"design")}}},e.prototype.componentDidMount=function(){var t=this,n,s,a,l,f;if(ZS(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(s=(n=this.props).onScriptsLoadError)===null||s===void 0||s.call(n,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((a=this.elementRef.current)===null||a===void 0)&&a.ownerDocument){var p=function(){var b,T;(T=(b=t.props).onScriptsLoad)===null||T===void 0||T.call(b),t.initialise()},_=function(b){var T,A;(A=(T=t.props).onScriptsLoadError)===null||A===void 0||A.call(T,b)};vU.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(f=(l=this.props.scriptLoading)===null||l===void 0?void 0:l.delay)!==null&&f!==void 0?f:0,p,_)}},e.prototype.componentWillUnmount=function(){var t=this,n=this.editor;n&&(n.off(c_,this.handleEditorChange),n.off(this.beforeInputEvent(),this.handleBeforeInput),n.off("keypress",this.handleEditorChangeSpecial),n.off("keydown",this.handleBeforeInputSpecial),n.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(s){n.off(s,t.boundHandlers[s])}),this.boundHandlers={},n.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.beforeInputEvent=function(){return hU()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var t=this.props.tagName,n=t===void 0?"div":t;return L.createElement(n,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return L.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var t,n,s=(t=this.props.scriptLoading)===null||t===void 0?void 0:t.async,a=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:s,defer:a}]:this.props.tinymceScriptSrc.map(function(_){return typeof _=="string"?{src:_,async:s,defer:a}:_});var l=this.props.cloudChannel,f=this.props.apiKey?this.props.apiKey:"no-api-key",p="https://cdn.tiny.cloud/1/".concat(f,"/tinymce/").concat(l,"/tinymce.min.js");return[{src:p,async:s,defer:a}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(t){var n=this;if(this.editor!==void 0){fU(this.editor,t,this.props,this.boundHandlers,function(f){return n.props[f]});var s=function(f){return f.onEditorChange!==void 0||f.value!==void 0},a=s(t),l=s(this.props);!a&&l?(this.editor.on(c_,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):a&&!l&&(this.editor.off(c_,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=uU,e.defaultProps={cloudChannel:"7"},e}(L.Component);const eI="dzyfwphq9",tI="blog-images";function rI({post:r=null}){const[e,t]=L.useState((r==null?void 0:r.imagePublicId)||""),[n,s]=L.useState((r==null?void 0:r.bannerImage)||""),[a,l]=L.useState(!1),[f,p]=L.useState(!1),_=L.useRef(null),b=Ec(),T=L.useRef(),A=L.useRef(),{register:O,handleSubmit:j,formState:{errors:F},setValue:D,watch:J}=lU({defaultValues:{title:(r==null?void 0:r.title)||"",excerpt:(r==null?void 0:r.excerpt)||"",content:(r==null?void 0:r.content)||"",slug:(r==null?void 0:r.slug)||"",metaTitle:(r==null?void 0:r.metaTitle)||"",metaDescription:(r==null?void 0:r.metaDescription)||"",isPublished:(r==null?void 0:r.isPublished)||!1}}),B=J("slug"),k=J("title");L.useEffect(()=>{if(!(r!=null&&r.slug)&&k){const ce=k.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-");D("slug",ce),r!=null&&r.metaTitle||D("metaTitle",k)}},[k,r,D]),L.useEffect(()=>{const ce=()=>{if(typeof window.cloudinary<"u")T.current=window.cloudinary,A.current=T.current.createUploadWidget({cloudName:eI,uploadPreset:tI,multiple:!1,maxFileSize:5242880,clientAllowedFormats:["jpg","jpeg","png","webp"],maxImageWidth:2e3,maxImageHeight:2e3,cropping:!0,croppingAspectRatio:1.7777777777777777,showSkipCropButton:!1,folder:"ege-blog",sources:["local","url","camera","image_search"],theme:"minimal",styles:{palette:{window:"#FFFFFF",sourceBg:"#F4F4F4",windowBorder:"#90A0B3",tabIcon:"#0078D4",inactiveTabIcon:"#0E2F5A",menuIcons:"#5A616A",link:"#0078D4",action:"#FF620C",inProgress:"#0078D4",complete:"#20B832",error:"#EA0017",textDark:"#000000",textLight:"#FFFFFF"},fonts:{default:null,"sans-serif":{url:null,active:!0}}}},(M,R)=>{if(M){console.error("Upload Error:",M),gt.error("Failed to upload image: "+(M.message||"Unknown error")),p(!1);return}R.event==="success"?(t(R.info.public_id),s(R.info.secure_url),gt.success("Image uploaded successfully")):R.event==="close"?p(!1):R.event==="upload-added"&&gt.loading("Uploading image...")});else{console.log("Cloudinary script not loaded, retrying...");const M=setTimeout(ce,1e3);return()=>clearTimeout(M)}};return ce(),()=>{A.current&&A.current.close()}},[eI,tI]);const Q=()=>{if(!f){if(!A.current){gt.error("Image uploader is not ready. Please refresh the page and try again."),console.error("Cloudinary widget not initialized");return}try{p(!0),A.current.open()}catch(ce){console.error("Error opening upload widget:",ce),gt.error("Failed to open image uploader. Please try again."),p(!1)}}},Y=async ce=>{try{if(l(!0),!_.current)throw new Error("Editor not initialized");const M=_.current.getContent();if(!M){gt.error("Please add some content to your post");return}const R={...ce,content:M,updatedAt:J1()},V=e||(r==null?void 0:r.imagePublicId),$=n||(r==null?void 0:r.bannerImage);if(V&&(R.imagePublicId=V),$&&(R.bannerImage=$),r)await X1(Jl(Nn,"blogPosts",r.id),R,{merge:!0}),gt.success("Blog post updated successfully!");else{R.createdAt=J1(),R.views=0,R.isPublished=ce.isPublished||!1;const q=Jl(Io(Nn,"blogPosts"));await X1(q,R),gt.success("Blog post created successfully!"),b("/admin/blog")}}catch(M){console.error("Error saving post:",M),gt.error(`Error saving post: ${M.message||"Please try again."}`)}finally{l(!1)}};return v.jsxs("form",{onSubmit:j(Y),className:"space-y-6",children:[v.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:v.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r?"Edit Blog Post":"Create New Blog Post"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Banner Image"}),v.jsxs("div",{className:"mt-1",children:[v.jsx("button",{type:"button",onClick:Q,disabled:f,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${f?"bg-gray-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,children:f?"Uploading...":n?"Change Image":"Upload Image"}),n&&v.jsxs("div",{className:"mt-4",children:[v.jsx("img",{src:n,alt:"Banner preview",className:"max-w-full h-auto max-h-64 rounded-md shadow-md"}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Click the button above to change the image"})]}),f&&v.jsxs("div",{className:"mt-2",children:[v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:v.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full animate-pulse"})}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Uploading image, please wait..."})]})]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),v.jsxs("div",{className:"mt-1",children:[v.jsx("input",{type:"text",id:"title",...O("title",{required:"Title is required"}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),F.title&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.title.message})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:"URL Slug *"}),v.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[v.jsx("span",{className:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-50 px-3 text-gray-500 sm:text-sm",children:"/blog/"}),v.jsx("input",{type:"text",id:"slug",...O("slug",{required:"Slug is required",pattern:{value:/^[a-z0-9]+(?:-[a-z0-9]+)*$/,message:"Slug can only contain lowercase letters, numbers, and hyphens"}}),className:"block w-full min-w-0 flex-1 rounded-none rounded-r-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),v.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Preview: /blog/",B||"your-blog-post-url"]}),F.slug&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.slug.message})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-700",children:"Excerpt"}),v.jsxs("div",{className:"mt-1",children:[v.jsx("textarea",{id:"excerpt",rows:3,...O("excerpt"),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"A short summary of your post"}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"A brief summary of your post that will show in blog listings and search results."})]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),v.jsx(wU,{apiKey:"r26zp0zc2jd7ygi8e3qmb15cvtj2t8ry28qddk8t2uuz5rk1",onInit:(ce,M)=>_.current=M,initialValue:(r==null?void 0:r.content)||"",init:{height:500,menubar:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                   alignleft aligncenter alignright alignjustify |                   bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Inter,Arial,sans-serif; font-size:16px }"}})]}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[v.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"SEO Settings"}),v.jsx("div",{className:"mt-4"}),v.jsxs("div",{className:"mt-4",children:[v.jsx("label",{htmlFor:"metaDescription",className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),v.jsxs("div",{className:"mt-1",children:[v.jsx("textarea",{id:"metaDescription",rows:3,...O("metaDescription"),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"A brief description of the page for search results",maxLength:"160"}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:J("metaDescription")?`${J("metaDescription").length}/160 characters`:"A brief summary of the page for search results (max 160 characters)."})]})]})]}),v.jsxs("div",{className:"mt-6 flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isPublished",...O("isPublished"),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),v.jsx("label",{htmlFor:"isPublished",className:"ml-2 block text-sm text-gray-900",children:"Publish this post"})]})]})}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{type:"button",onClick:()=>b("/admin/posts"),className:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:a,className:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":"Save Post"})]})]})}const bU=()=>{const[r,e]=L.useState([]),[t,n]=L.useState(!0),[s,a]=L.useState({id:"",name:"",slug:"",description:""}),[l,f]=L.useState(!1),p=async()=>{try{n(!0);const j=await eu(Io(Nn,"blog-categories")),F=[];j.forEach(D=>{F.push({id:D.id,...D.data()})}),e(F)}catch(j){console.error("Error fetching categories:",j),dt.error("Failed to load categories")}finally{n(!1)}};L.useEffect(()=>{p()},[]);const _=j=>{const{name:F,value:D}=j.target;a(J=>({...J,[F]:D,...F==="name"&&{slug:D.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")}}))},b=async j=>{if(j.preventDefault(),!s.name||!s.slug){dt.error("Name and slug are required");return}try{l?(await VC(Jl(Nn,"blog-categories",s.id),{name:s.name,slug:s.slug,description:s.description,updatedAt:new Date}),dt.success("Category updated successfully")):(await _6(Io(Nn,"blog-categories"),{name:s.name,slug:s.slug,description:s.description,createdAt:new Date,updatedAt:new Date}),dt.success("Category added successfully")),O(),p()}catch(F){console.error("Error saving category:",F),dt.error("Failed to save category")}},T=j=>{a({id:j.id,name:j.name,slug:j.slug,description:j.description||""}),f(!0),window.scrollTo({top:0,behavior:"smooth"})},A=async j=>{if(window.confirm("Are you sure you want to delete this category? This action cannot be undone."))try{await UC(Jl(Nn,"blog-categories",j)),dt.success("Category deleted successfully"),p()}catch(F){console.error("Error deleting category:",F),dt.error("Failed to delete category")}},O=()=>{a({id:"",name:"",slug:"",description:""}),f(!1)};return v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Category":"Add New Category"}),l&&v.jsx("button",{onClick:O,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"})]}),v.jsxs("form",{onSubmit:b,className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),v.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Organic Farming",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug *"}),v.jsx("input",{type:"text",id:"slug",name:"slug",value:s.slug,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-50 focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., organic-farming",required:!0}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"URL-friendly version of the name (auto-generated but can be edited)"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),v.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:_,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"A brief description of this category"})]})]}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:l?"Update Category":"Add Category"})})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[v.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:v.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"All Categories"})}),t?v.jsxs("div",{className:"p-6 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Loading categories..."})]}):r.length===0?v.jsx("div",{className:"p-6 text-center",children:v.jsx("p",{className:"text-gray-500",children:"No categories found. Add your first category above."})}):v.jsx("div",{className:"divide-y divide-gray-200",children:r.map(j=>v.jsxs("div",{className:"p-4 hover:bg-gray-50 flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-gray-900",children:j.name}),j.description&&v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:j.description}),v.jsx("div",{className:"mt-1",children:v.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:j.slug})})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>T(j),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),v.jsx("span",{className:"text-gray-300",children:"|"}),v.jsx("button",{onClick:()=>A(j.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},j.id))})]})]})})};function xU(){const{currentUser:r,isAdmin:e,signOut:t}=sb();return!r||!e?v.jsx(mI,{to:"/login",state:{from:"/admin"},replace:!0}):v.jsx("div",{className:"min-h-screen bg-gray-100",children:v.jsxs("div",{className:"flex h-full",children:[v.jsx(F7,{}),v.jsxs("div",{className:"flex-1 overflow-auto",children:[v.jsx("header",{className:"bg-white shadow-sm",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[v.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Dashboard"}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("span",{className:"text-sm text-gray-700",children:r.email}),v.jsx("button",{onClick:t,className:"text-sm text-gray-600 hover:text-gray-900",children:"Sign out"})]})]})}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:v.jsx(RR,{})})]})]})})}function EU(){return v.jsx(pI,{children:v.jsxs(Er,{element:v.jsx(xU,{}),children:[v.jsx(Er,{index:!0,element:v.jsx(V7,{})}),v.jsx(Er,{path:"posts",element:v.jsx(U7,{})}),v.jsx(Er,{path:"posts/new",element:v.jsx(rI,{})}),v.jsx(Er,{path:"posts/:id",element:v.jsx(rI,{})}),v.jsx(Er,{path:"categories",element:v.jsx(bU,{})}),v.jsx(Er,{path:"*",element:v.jsx(mI,{to:"/admin",replace:!0})})]})})}function TU(){var O,j;const[r,e]=L.useState(""),[t,n]=L.useState(""),[s,a]=L.useState(""),[l,f]=L.useState(!1),{login:p}=sb(),_=Ec(),T=((j=(O=ko().state)==null?void 0:O.from)==null?void 0:j.pathname)||"/",A=async F=>{F.preventDefault(),a(""),f(!0);try{await p(r,t)&&_(T,{replace:!0})}catch(D){a("Failed to sign in. Please check your credentials."),console.error("Login error:",D)}finally{f(!1)}};return v.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[v.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Sign In"}),v.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the admin dashboard"})]}),v.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:v.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s&&v.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),v.jsx("div",{className:"ml-3",children:v.jsx("p",{className:"text-sm text-red-700",children:s})})]})}),v.jsxs("form",{className:"space-y-6",onSubmit:A,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),v.jsx("div",{className:"mt-1",children:v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:F=>e(F.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsx("div",{className:"mt-1",children:v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:F=>n(F.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign in"})})]})]})})]})}function SU(){return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-9xl font-extrabold text-gray-900",children:"404"}),v.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Page not found"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sorry, we couldn't find the page you're looking for."})]}),v.jsx("div",{className:"mt-6",children:v.jsx(kt,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go back home"})})]})})}function IU(){return v.jsxs("div",{className:"flex flex-col min-h-screen",children:[v.jsx(uF,{}),v.jsx(L7,{}),v.jsx("main",{className:"flex-grow pt-16",children:v.jsxs(pI,{children:[v.jsx(Er,{path:"/",element:v.jsx(v7,{})}),v.jsx(Er,{path:"/about",element:v.jsx(A7,{})}),v.jsx(Er,{path:"/blog",element:v.jsx(C7,{})}),v.jsx(Er,{path:"/blog/:slug",element:v.jsx(N7,{})}),v.jsx(Er,{path:"/contact",element:v.jsx(O7,{})}),v.jsx(Er,{path:"/terms",element:v.jsx(j7,{})}),v.jsx(Er,{path:"/privacy",element:v.jsx(D7,{})}),v.jsx(Er,{path:"/login",element:v.jsx(TU,{})}),v.jsx(Er,{path:"/admin/*",element:v.jsx(EU,{})}),v.jsx(Er,{path:"*",element:v.jsx(SU,{})})]})}),v.jsx(TF,{})]})}Uk.createRoot(document.getElementById("root")).render(v.jsx(L.StrictMode,{children:v.jsx(EI,{children:v.jsx(UR,{children:v.jsxs(QL,{children:[v.jsx(IU,{}),v.jsx(kM,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})})}));
//# sourceMappingURL=main-D8ijrzSc.js.map
